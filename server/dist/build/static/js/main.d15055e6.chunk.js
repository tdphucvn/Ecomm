(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{154:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),s=n(10),o=n(16),l=n(37),u=n(65),d=n(8),j=n(1),b=["component"],p=function(e){var t=e.component,n=Object(u.a)(e,b),a=Object(d.c)((function(e){return e.auth})).authenticated;return Object(j.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(){return a?Object(j.jsx)(t,{}):Object(j.jsx)(o.a,{to:"/authentication/login"})}}))},m=["component"],h=function(e){var t=e.component,n=Object(u.a)(e,m),a=Object(d.c)((function(e){return e.auth})).admin;return Object(j.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(){return a?Object(j.jsx)(t,{}):Object(j.jsx)(o.a,{to:"/authentication/login"})}}))},O=["component"],x=function(e){var t=e.component,n=Object(u.a)(e,O),a=Object(d.c)((function(e){return e.auth})).authenticated;return Object(j.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(){return a?Object(j.jsx)(o.a,{to:"/"}):Object(j.jsx)(t,{})}}))},f=Object(o.i)((function(e){var t=e.history;return Object(a.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),null})),g=n(9),v=n.n(g),y=n(12),w=n(7),N=n(17),C=n(189),S=n(55),k=n(196),I=n(197),B=n(198),T=n(199),D=n.p+"static/media/logo.9a821720.png",E=n(104),F=n.n(E),W=n(29),P=n(22),L=n.n(P),R=function(){var e=Object(y.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.a.post("/api/authentication/login",{username:t,password:n},{withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(y.a)(v.a.mark((function e(t,n,a,r,c){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.a.post("/api/authentication/register",{username:t,password:n,email:a,firstName:r,lastName:c},{withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),A=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.a.delete("/api/authentication/logout",{withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=Object(W.b)("user/loginRequestStatus",function(){var e=Object(y.a)(v.a.mark((function e(t,n){var a,r,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.username,c=t.password,e.next=5,R(r,c);case 5:if(401!==(i=e.sent).status){e.next=8;break}return e.abrupt("return",a({message:i.data.message,status:i.status}));case 8:return console.log(i),e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",e.t0);case 15:case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),U=Object(W.b)("user/registerRequestStatus",function(){var e=Object(y.a)(v.a.mark((function e(t,n){var a,r,c,i,s,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.username,c=t.password,i=t.email,s=t.firstName,o=t.lastName,e.next=5,q(r,c,i,s,o);case 5:if(401!==(l=e.sent).status){e.next=8;break}return e.abrupt("return",a({message:l.data.message,status:l.status}));case 8:return e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()),z=Object(W.b)("user/logoutRequestStatus",function(){var e=Object(y.a)(v.a.mark((function e(t,n){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.message,e.next=5,A();case 5:return c=e.sent,console.log(r),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 13:case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(W.c)({name:"authenticate",initialState:{loading:!1,authenticated:!1,admin:!1,accessToken:"",user:[]},reducers:{updateAccessToken:function(e,t){e.accessToken=t.payload},unauthorized:function(e){e.admin=!1,e.authenticated=!1,e.accessToken="",e.user=[]}},extraReducers:function(e){e.addCase(_.fulfilled,(function(e,t){e.loading=!1,e.authenticated=!0,e.user=t.payload.data.user,e.accessToken=t.payload.data.accessToken,t.payload.data.user.admin&&(e.admin=!0)})),e.addCase(_.rejected,(function(e,t){e.loading=!1,e.authenticated=!1})),e.addCase(U.fulfilled,(function(e,t){e.loading=!1,e.authenticated=!0,e.user=t.payload.data.user,e.accessToken=t.payload.data.accessToken,t.payload.data.user.admin&&(e.admin=!0)})),e.addCase(U.rejected,(function(e,t){e.loading=!1,e.authenticated=!1})),e.addCase(z.fulfilled,(function(e,t){e.authenticated=!1,e.admin=!1,e.user=[],e.accessToken=""}))}}),H=M.actions,V=H.unauthorized,G=H.updateAccessToken,$=M.reducer,Y=n(105),Z=n.n(Y),J=n(192),K=n(155),Q=n(194),X=n(195),ee=n(224),te=Object(C.a)((function(e){return{drawer:{width:"50vw"}}})),ne=function(e){var t=te(),n=[e.drawer,e.setDrawer],r=n[0],c=n[1],i=Object(a.useState)({logged:!1,link:"/login",text:"Login"}),o=Object(w.a)(i,2),l=o[0],u=o[1],b=Object(a.useState)(!1),p=Object(w.a)(b,2),m=p[0],h=p[1],O=Object(d.c)((function(e){return e.auth})),x=O.authenticated,f=O.admin;Object(a.useEffect)((function(){u(x?{logged:!0,link:"/logout",text:"Log Out"}:{logged:!1,link:"/login",text:"Login"})}),[x]),Object(a.useEffect)((function(){h(!!f)}),[f]);var g=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&c(e)}};return Object(j.jsx)("div",{children:Object(j.jsx)(ee.a,{anchor:"right",open:r,onClose:g(!1),children:Object(j.jsx)("div",{role:"presentation",onKeyDown:g(!1),onClick:g(!1),className:t.drawer,children:Object(j.jsxs)(J.a,{children:[Object(j.jsx)(K.a,{button:!0,component:s.b,to:"/collection",children:Object(j.jsx)(Q.a,{primary:"COLLECTION"})}),m?Object(j.jsx)(K.a,{button:!0,component:s.b,to:"/manage",children:Object(j.jsx)(Q.a,{primary:"MANAGE PRODUCTS"})}):Object(j.jsx)(K.a,{button:!0,component:s.b,to:"/products",children:Object(j.jsx)(Q.a,{primary:"PRODUCTS"})}),Object(j.jsx)(K.a,{button:!0,component:s.b,to:"/contact",children:Object(j.jsx)(Q.a,{primary:"CONTACT US"})}),Object(j.jsx)(K.a,{button:!0,component:s.b,to:"/orders",children:Object(j.jsx)(Q.a,{primary:"YOUR ORDERS"})}),Object(j.jsx)(X.a,{}),l.logged?Object(j.jsx)(K.a,{button:!0,onClick:e.handleLogout,children:Object(j.jsx)(Q.a,{primary:"LOG OUT"})}):Object(j.jsx)(K.a,{button:!0,component:s.b,to:"/authentication/login",children:Object(j.jsx)(Q.a,{primary:"LOGIN"})})]})})})})},ae=Object(C.a)((function(e){var t;return{sumBar:Object(N.a)({padding:"10px 0",display:"flex",width:"80%",margin:"auto",justifyContent:"flex-end","& a":{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}},flexWrap:"wrap",opacity:.7},e.breakpoints.down("xs"),{display:"none"}),navBar:{width:"80%",margin:"auto",display:"flex",alignItems:"center",justifyContent:"space-evenly",flexWrap:"wrap"},navBarLinks:(t={display:"flex",listStyle:"none",padding:0},Object(N.a)(t,e.breakpoints.down("xs"),{display:"none"}),Object(N.a)(t,"flex",3),Object(N.a)(t,"justifyContent","flex-start"),Object(N.a)(t,"& a",{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}}),Object(N.a)(t,"& li",{display:"flex",alignItems:"center"}),t),contactContainer:{display:"flex",alignItems:"center"},growContainer:Object(N.a)({flexGrow:1},e.breakpoints.down("xs"),{display:"none"}),authentication:Object(N.a)({flex:1,justifyContent:"flex-end",display:"flex",listStyle:"none",padding:0,alignItems:"center",textDecoration:"none"},e.breakpoints.down("xs"),{flex:2}),authLink:Object(N.a)({},e.breakpoints.down("xs"),{display:"none"}),hamburger:Object(N.a)({display:"none"},e.breakpoints.down("xs"),{display:"block"}),heroContainer:{background:"#F2FBFF",position:"sticky",top:0,zIndex:999},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},search:Object(N.a)({position:"relative",borderRadius:e.shape.borderRadius,marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchInput:{paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)")}}})),re=function(e){var t=e.link,n=e.text;return Object(j.jsx)(s.b,{to:"/authentication".concat(t),style:{textDecoration:"none",color:"black"},children:Object(j.jsx)(S.a,{children:n})})},ce=function(){var e=ae(),t=Object(d.b)(),n=Object(a.useState)({logged:!1,link:"/login",text:"Login"}),r=Object(w.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),u=Object(w.a)(o,2),b=u[0],p=u[1],m=Object(a.useState)(!1),h=Object(w.a)(m,2),O=h[0],x=h[1],f=Object(d.c)((function(e){return e.auth})),g=f.authenticated,N=f.admin,C=Object(d.c)((function(e){return e.cart})).count;Object(a.useEffect)((function(){i(g?{logged:!0,link:"/logout",text:"Log Out"}:{logged:!1,link:"/login",text:"Login"})}),[g]),Object(a.useEffect)((function(){x(!!N)}),[N]);var E=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(z({message:"Logout request"})).then((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:e.sumBar,children:Object(j.jsxs)("div",{className:e.contactContainer,children:[Object(j.jsx)(S.a,{component:s.b,to:"/contact",children:"CONTACT US"}),Object(j.jsx)(S.a,{style:{margin:"0 20px"},children:"\u2022"}),Object(j.jsx)(S.a,{component:s.b,to:"/orders",children:"YOUR ORDERS"})]})}),Object(j.jsx)("div",{className:e.heroContainer,children:Object(j.jsx)("nav",{className:e.navBar,children:Object(j.jsxs)("ul",{style:{width:"100%",display:"flex",listStyle:"none",padding:0},children:[Object(j.jsx)("li",{style:{flex:1},children:Object(j.jsx)(k.a,{component:s.b,to:"/",children:Object(j.jsx)("img",{src:D,alt:"",style:{height:70,width:70}})})}),Object(j.jsxs)("ul",{className:e.navBarLinks,children:[Object(j.jsx)("li",{style:{marginRight:20},children:Object(j.jsx)(s.b,{to:"/collection",children:Object(j.jsx)(S.a,{children:"COLLECTION"})})}),O?Object(j.jsx)("li",{style:{marginRight:20},children:Object(j.jsx)(s.b,{to:"/manage",children:Object(j.jsx)(S.a,{children:"MANAGE PRODUCTS"})})}):Object(j.jsx)("li",{style:{marginRight:20},children:Object(j.jsx)(s.b,{to:"/products",children:Object(j.jsx)(S.a,{children:"PRODUCTS"})})})]}),Object(j.jsx)("div",{className:e.growContainer}),Object(j.jsxs)("ul",{className:e.authentication,children:[Object(j.jsx)("li",{style:{marginRight:20},className:e.authLink,children:c.logged?Object(j.jsx)(I.a,{onClick:E,children:"Log Out"}):Object(j.jsx)(re,Object(l.a)({},c))}),Object(j.jsx)("li",{children:Object(j.jsx)(B.a,{component:s.b,to:"/cart",children:Object(j.jsx)(T.a,{color:"secondary",badgeContent:C,children:Object(j.jsx)(F.a,{})})})}),Object(j.jsx)("li",{className:e.hamburger,children:Object(j.jsx)(B.a,{onClick:function(){return p((function(e){return!e}))},children:Object(j.jsx)(Z.a,{})})})]})]})})}),Object(j.jsx)(ne,{drawer:b,setDrawer:p,handleLogout:E})]})},ie=Object(C.a)((function(e){return{heroContainer:{height:"60vh",background:"#CEE7FD",position:"relative"},heroTextContainer:{width:"80%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:5},heroText:Object(N.a)({width:"40%"},e.breakpoints.down("xs"),{width:"80%"}),btnShopNow:{marginTop:e.spacing(4),marginBottom:e.spacing(2)},slider:{position:"absolute",width:"100%",height:"100%",zIndex:3,"& img":{height:"100%",position:"absolute",right:0,top:"50%",transform:"translate(0%,-50%)"}}}})),se=function(){var e=ie(),t=Object(d.c)((function(e){return e.auth})).admin;return Object(j.jsxs)("div",{className:e.heroContainer,children:[Object(j.jsxs)("div",{className:e.heroTextContainer,children:[Object(j.jsx)(S.a,{variant:"h4",gutterBottom:!0,className:e.heroText,children:"Shop all brands and essentials, Now with huge discounts."}),Object(j.jsx)(S.a,{variant:"body1",children:"Coming to your doorstep with a huge discount."}),Object(j.jsx)("div",{className:e.btnShopNow,children:Object(j.jsx)(I.a,{color:"primary",variant:"contained",component:s.b,to:t?"/manage":"products",children:"Shop Now"})})]}),Object(j.jsx)("div",{className:e.slider})]})},oe=n(200),le=n(156),ue=n.p+"static/media/chair.513e1ad2.png",de=n.p+"static/media/grocery.1f788de7.png",je=n.p+"static/media/macbook.36c93a13.png",be=Object(C.a)((function(e){return{container:{width:"80%",margin:"auto",marginTop:e.spacing(3),marginBottom:e.spacing(3)},collectionContainer:{background:"#F2FBFF",display:"flex",height:"30vh",alignItems:"center",maxHeight:"350px",minHeight:"200px"},collectionImage:{flex:1,"& img":{width:"100%",maxHeight:"300px",objectFit:"cover"}},collectionDescription:{padding:5,flex:1.5},collectionShopNowBtn:{borderBottom:"3px solid #587D9F"}}})),pe=function(){var e=be(),t=Object(d.c)((function(e){return e.auth})).admin;return Object(j.jsx)("div",{className:e.container,children:Object(j.jsxs)(oe.a,{container:!0,spacing:3,children:[Object(j.jsx)(oe.a,{item:!0,md:4,sm:6,xs:12,children:Object(j.jsxs)(le.a,{className:e.collectionContainer,children:[Object(j.jsx)("div",{className:e.collectionImage,children:Object(j.jsx)("img",{src:ue,alt:""})}),Object(j.jsxs)("div",{className:e.collectionDescription,children:[Object(j.jsx)(S.a,{variant:"h5",children:"Home Decor"}),Object(j.jsx)(S.a,{paragraph:!0,color:"textSecondary",children:"Complete your space with modern decor"}),Object(j.jsx)(I.a,{className:e.collectionShopNowBtn,style:{borderRadius:0},component:s.b,to:t?"/manage?filter=homeDecor":"/products?filter=homeDecor",children:"Shop Now"})]})]})}),Object(j.jsx)(oe.a,{item:!0,md:4,sm:6,xs:12,children:Object(j.jsxs)(le.a,{className:e.collectionContainer,children:[Object(j.jsx)("div",{className:e.collectionImage,children:Object(j.jsx)("img",{src:je,alt:""})}),Object(j.jsxs)("div",{className:e.collectionDescription,children:[Object(j.jsx)(S.a,{variant:"h5",children:"Electronics"}),Object(j.jsx)(S.a,{paragraph:!0,color:"textSecondary",children:"Ramp up your wardrobe with the latest trend"}),Object(j.jsx)(I.a,{className:e.collectionShopNowBtn,style:{borderRadius:0},component:s.b,to:t?"/manage?filter=electronics":"/products?filter=electronics",children:"Shop Now"})]})]})}),Object(j.jsx)(oe.a,{item:!0,md:4,sm:6,xs:12,children:Object(j.jsxs)(le.a,{className:e.collectionContainer,children:[Object(j.jsx)("div",{className:e.collectionImage,children:Object(j.jsx)("img",{src:de,alt:""})}),Object(j.jsxs)("div",{className:e.collectionDescription,children:[Object(j.jsx)(S.a,{variant:"h5",children:"Shop Grocery"}),Object(j.jsx)(S.a,{paragraph:!0,color:"textSecondary",children:"Ramp up your wardrobe with the latest trend"}),Object(j.jsx)(I.a,{className:e.collectionShopNowBtn,style:{borderRadius:0},component:s.b,to:t?"/manage?filter=grocery":"/products?filter=grocery",children:"Shop Now"})]})]})})]})})},me=n(201),he=n(202),Oe=n(203),xe=n(204),fe=n(205),ge=n(226),ve=Object(W.c)({name:"cart",initialState:{items:[],total:0,count:0},reducers:{addToCart:function(e,t){e.count++,e.total=e.total+t.payload.price,e.items.push(t.payload)},removeFromCart:function(e,t){var n=e.items.filter((function(e){return e._id!==t.payload.id}));e.items=n,e.count=n.length,e.total=e.total-t.payload.price*t.payload.amount},updateCart:function(e,t){var n=t.payload.data.arrayOfProductsIDs,a=e.items;n.forEach((function(e){var t=a.filter((function(t){return t._id!==e}));a=t})),e.items=a,e.count=a.length},cleanCart:function(e){e.items=[],e.total=0,e.count=0}}}),ye=ve.actions,we=ye.addToCart,Ne=ye.removeFromCart,Ce=ye.updateCart,Se=ye.cleanCart,ke=ve.reducer,Ie=Object(C.a)((function(e){return{section:{width:"100%",margin:"50px 0"},media:{height:0,paddingTop:"100%"}}})),Be=function(e){var t=Ie(),n=Object(a.useState)(""),r=Object(w.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)([]),l=Object(w.a)(o,2),u=l[0],b=l[1],p=Object(d.b)();return Object(a.useEffect)((function(){i(e.category)}),[e.category]),Object(a.useEffect)((function(){""!==c&&L.a.get("/api/products/collection?category=".concat(c)).then((function(e){return b(e.data.products)})).catch((function(e){return console.log(e)}))}),[c]),u&&u.length>0?Object(j.jsxs)("section",{className:t.section,children:[Object(j.jsx)(S.a,{variant:"h4",align:"center",gutterBottom:!0,children:e.title}),Object(j.jsx)(oe.a,{container:!0,spacing:3,children:u.map((function(e){return Object(j.jsx)(oe.a,{item:!0,md:4,sm:6,xs:12,children:Object(j.jsxs)(me.a,{children:[Object(j.jsx)(he.a,{image:e.image.url,className:t.media,title:"Product"}),Object(j.jsxs)(Oe.a,{children:[Object(j.jsx)(S.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsxs)(S.a,{variant:"h6",children:["$",e.price]}),Object(j.jsx)(ge.a,{readOnly:!0,defaultValue:3.5,precision:.5})]}),Object(j.jsx)(S.a,{variant:"body2",color:"textSecondary",paragraph:!0,children:e.description})]}),Object(j.jsxs)(xe.a,{children:[Object(j.jsx)(I.a,{color:"secondary",variant:"outlined",onClick:function(){return p(we(e))},children:"Add to cart"}),Object(j.jsx)(I.a,{color:"primary",component:s.b,to:"/product/".concat(e._id),children:"View More"})]})]})},e._id)}))})]}):Object(j.jsx)("div",{children:Object(j.jsx)(fe.a,{color:"primary"})})},Te=Object(C.a)((function(e){return{container:{width:"80%",margin:"auto"}}})),De=function(){var e=Te();return Object(j.jsxs)("div",{className:e.container,children:[Object(j.jsx)(Be,{category:"homeDecor",title:"Most Exclusive Decor"}),Object(j.jsx)(Be,{category:"electronics",title:"Best Quality For a Reasonable Price"}),Object(j.jsx)(Be,{category:"grocery",title:"Freshest Goods On The Marketplace"})]})},Ee=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(se,{}),Object(j.jsx)(pe,{}),Object(j.jsx)(De,{})]})},Fe=n(206),We=n(227),Pe=n(228),Le=n(77),Re=n.n(Le),qe=Object(C.a)((function(e){return{container:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}}}})),Ae=function(e,t){e({error:!0,message:t})},_e=function(){var e=Object(a.useState)({error:!1,message:""}),t=Object(w.a)(e,2),n=t[0],r=t[1],c=qe(),i=Object(o.g)(),l=Object(d.b)(),u=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,a=n.username.value,c=n.password.value,""!==a&&""!==c){e.next=7;break}return Ae(r,"Fields are requried"),e.abrupt("return");case 7:return e.next=10,l(_({username:a,password:c})).then((function(e){401!==e.payload.status?i.push("/"):Ae(r,e.payload.message)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(Fe.a,{component:"main",maxWidth:"xs",className:c.container,children:Object(j.jsxs)("div",{className:c.paper,children:[Object(j.jsx)(We.a,{className:c.avatar,children:Object(j.jsx)(Re.a,{})}),Object(j.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),n.error&&Object(j.jsx)(S.a,{color:"error",align:"center",variant:"body1",children:n.message}),Object(j.jsxs)("form",{className:c.form,noValidate:!0,onSubmit:u,children:[Object(j.jsx)(Pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",type:"text",name:"username",autoFocus:!0}),Object(j.jsx)(Pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(j.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,children:"Sign In"}),Object(j.jsxs)(oe.a,{container:!0,children:[Object(j.jsx)(oe.a,{item:!0,xs:!0,children:Object(j.jsx)(s.b,{to:"#",className:c.link,children:Object(j.jsx)(S.a,{variant:"body2",children:"Forgot password?"})})}),Object(j.jsx)(oe.a,{item:!0,children:Object(j.jsx)(s.b,{to:"/authentication/register",className:c.link,children:Object(j.jsx)(S.a,{variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})})},Ue=n(210),ze=n(223),Me=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.a.post("/api/contact/newsletter",{email:t}).then((function(e){return alert(e.data.message)})).catch((function(e){return e.response?e.response.data.message:e.request?e.request:e.message})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=Object(C.a)((function(e){return{container:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},link:{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}}}})),Ve=function(e,t){e({error:!0,message:t})},Ge=function(){var e=Object(a.useState)(""),t=Object(w.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(w.a)(c,2),l=i[0],u=i[1],b=Object(a.useState)(!1),p=Object(w.a)(b,2),m=p[0],h=p[1],O=Object(a.useState)({error:!1,message:""}),x=Object(w.a)(O,2),f=x[0],g=x[1],N=He(),C=Object(d.b)(),k=(Object(o.g)(),function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r,c,i,s,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l){e.next=4;break}return Ve(g,"Passwords do not match!"),e.abrupt("return");case 4:if(n=t.target,a=n.email.value,r=n.firstName.value,c=n.lastName.value,i=n.username.value,s=n.password.value,""!==a&&""!==r&&""!==c&&""!==i&&""!==s){e.next=14;break}return Ve(g,"Fields are requried!"),e.abrupt("return");case 14:if(o=n.comfirmpassword.value,s===o){e.next=19;break}return Ve(g,"Passwords do not match"),e.abrupt("return");case 19:return e.next=22,C(U({username:i,password:s,email:a,firstName:r,lastName:c})).then((function(e){400!==e.payload.status||Ve(g,e.payload.data.message)})).then((function(){if(m)return Me(a)})).then((function(e){console.log(e)}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(j.jsx)(Fe.a,{component:"main",maxWidth:"xs",className:N.container,children:Object(j.jsxs)("div",{className:N.paper,children:[Object(j.jsx)(We.a,{className:N.avatar,children:Object(j.jsx)(Re.a,{})}),Object(j.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign up"}),f.error&&Object(j.jsx)(S.a,{color:"error",align:"center",variant:"body1",children:f.message}),Object(j.jsxs)("form",{className:N.form,noValidate:!0,onSubmit:k,children:[Object(j.jsxs)(oe.a,{container:!0,spacing:2,children:[Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,children:Object(j.jsx)(Pe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",type:"text"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,children:Object(j.jsx)(Pe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,children:Object(j.jsx)(Pe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}})}),Object(j.jsx)(oe.a,{item:!0,xs:12,children:Object(j.jsx)(Pe.a,{error:!l,variant:"outlined",required:!0,fullWidth:!0,name:"comfirmpassword",label:"Confirm Password",type:"password",id:"confirmpassword",onChange:function(e){e.target.value===n?u(!0):u(!1)}})}),Object(j.jsx)(oe.a,{item:!0,xs:12,children:Object(j.jsx)(Ue.a,{control:Object(j.jsx)(ze.a,{value:"allowExtraEmails",color:"primary",checked:m,onChange:function(e){h(e.target.checked)}}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(j.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:N.submit,children:"Sign Up"}),Object(j.jsx)(oe.a,{container:!0,children:Object(j.jsx)(oe.a,{item:!0,children:Object(j.jsx)(s.b,{to:"/authentication/login",className:N.link,children:Object(j.jsx)(S.a,{variant:"body2",children:"Already have an account? Sign in"})})})})]})]})})},$e=function(){return Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/authentication/login",component:_e}),Object(j.jsx)(o.b,{exact:!0,path:"/authentication/register",component:Ge})]})},Ye=n(211),Ze=n(106),Je=n.n(Ze),Ke=Object(C.a)((function(e){return{container:{display:"flex",minHeight:"10vh",flexWrap:"wrap"},collectionContainer:{flex:1,minWidth:"300px","& ul":{listStyle:"none",padding:0,"& li":{margin:"5px 0"},"& a":{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}}}},contactContainer:{flex:1,minWidth:"300px","& ul":{listStyle:"none",padding:0,"& li":{margin:"5px 0"},"& a":{textDecoration:"none",color:"black","&:hover":{color:"#587D9F"}}}},newsletterContainer:{flex:2,minWidth:"300px","& ul":{listStyle:"none",padding:0,"& li":{margin:"5px 0"},"& form":{display:"flex",flexDirection:"column",alignItems:"flex-start","& button":{marginTop:e.spacing(2)}}}},divGrow:{flexGrow:1}}})),Qe=function(){var e=Ke(),t=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target,a=n.email.value,e.next=5,Me(a);case 5:(r=e.sent)&&alert(r),n.email.value="";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{style:{background:"#F2FBFF"},children:Object(j.jsxs)("div",{style:{width:"80%",margin:"auto"},children:[Object(j.jsxs)("div",{className:e.container,style:{padding:"30px 0"},children:[Object(j.jsxs)("div",{className:e.collectionContainer,children:[Object(j.jsx)(S.a,{variant:"h5",gutterBottom:!0,children:"Collection"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(S.a,{component:s.b,to:"/collection",gutterBottom:!0,children:"On the Edge"})}),Object(j.jsx)("li",{children:Object(j.jsx)(S.a,{component:s.b,to:"/collection",gutterBottom:!0,children:"Master of the Night"})}),Object(j.jsx)("li",{children:Object(j.jsx)(S.a,{component:s.b,to:"/collection",gutterBottom:!0,children:"Never More"})})]})]}),Object(j.jsxs)("div",{className:e.contactContainer,children:[Object(j.jsx)(S.a,{variant:"h5",gutterBottom:!0,children:"Contact"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(S.a,{component:s.b,to:"/contact",children:"Contact Us"})}),Object(j.jsx)("li",{children:Object(j.jsxs)("div",{style:{opacity:.7},children:[Object(j.jsx)(S.a,{children:"Philip Tran"}),Object(j.jsx)(S.a,{children:"\u010capkova 1658/18"}),Object(j.jsx)(S.a,{children:"Cheb 350 02, CZ"})]})})]})]}),Object(j.jsxs)("div",{className:e.newsletterContainer,children:[Object(j.jsx)(S.a,{variant:"h5",gutterBottom:!0,children:"Newsletter"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(S.a,{paragraph:!0,align:"justify",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Illum numquam in amet, nisi assumenda totam odit! Ratione doloribus perspiciatis quasi porro recusandae autem perferendis expedita nemo temporibus minima. Hic, libero?"})}),Object(j.jsx)("li",{children:Object(j.jsxs)("form",{onSubmit:t,children:[Object(j.jsx)(Pe.a,{label:"Email",name:"email",variant:"outlined",InputProps:{startAdornment:Object(j.jsx)(Ye.a,{position:"start",children:Object(j.jsx)(Je.a,{})})}}),Object(j.jsx)(I.a,{type:"submit",color:"primary",variant:"contained",size:"large",children:"Subscribe"})]})})]})]})]}),Object(j.jsx)(X.a,{}),Object(j.jsxs)("div",{className:e.container,style:{alignItems:"center"},children:[Object(j.jsx)("div",{children:Object(j.jsx)(S.a,{color:"textSecondary",style:{marginRight:20},children:"Privacy Policy"})}),Object(j.jsx)("div",{children:Object(j.jsx)(S.a,{color:"textSecondary",children:"Terms and Conditions"})}),Object(j.jsx)("div",{className:e.divGrow}),Object(j.jsx)("div",{children:Object(j.jsx)(S.a,{color:"textSecondary",children:"Philip Tran | 2021"})})]})]})})},Xe=n(107),et=n.n(Xe),tt=Object(C.a)((function(e){return{backButton:{position:"absolute",top:"3%",left:"3%",display:"flex",alignItems:"center"}}})),nt=function(){var e=tt(),t=Object(o.g)();return Object(j.jsxs)("div",{className:e.backButton,children:[Object(j.jsx)(B.a,{onClick:function(){t.push("/",{from:"Authentication"})},children:Object(j.jsx)(et.a,{})}),Object(j.jsx)(S.a,{variant:"body2",color:"textSecondary",children:"Back"})]})},at=function(){return Object(j.jsx)("div",{})},rt=Object(C.a)((function(e){return{container:{width:"80%",margin:"auto",marginTop:e.spacing(4)}}})),ct=function(){var e=rt();return Object(j.jsxs)("div",{className:e.container,children:[Object(j.jsx)(S.a,{variant:"h4",component:"h2",align:"center",children:"Our handpicked collection just for you"}),Object(j.jsx)(Be,{category:"ontheedge",title:"On the Edge"}),Object(j.jsx)(Be,{category:"masterofthenight",title:"Master of the Night"}),Object(j.jsx)(Be,{category:"nevermore",title:"Never More"})]})},it=function(){var e=Object(y.a)(v.a.mark((function e(t,n,a,r,c,i){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("/api/products/addProduct",{name:t,price:n,description:a,file:r,category:c},{headers:{ContentType:"application/json",Authorization:"Bearer ".concat(i)},withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,i){return e.apply(this,arguments)}}(),st=function(){var e=Object(y.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/products?sort=".concat(t,"&filter=").concat(n),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.data.fetchedProducts})).catch((function(e){return e.response.message}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=Object(y.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("/api/products/delete",{products:t},{headers:{ContentType:"application/json",Authorization:"Bearer ".concat(n)},withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lt=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/products/".concat(t)).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(y.a)(v.a.mark((function e(t,n,a,r,c,i){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.put("/api/products/edit",{productID:t,name:n,price:a,description:r,category:c},{headers:{ContentType:"application/json",Authorization:"Bearer ".concat(i)},withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){if(e.response)return{data:e.response.data,status:e.response.status};throw e.request?new Error(e.request):new Error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,i){return e.apply(this,arguments)}}(),dt=Object(C.a)((function(e){return{container:{width:"80%",margin:"30px auto"},productForm:{display:"flex",flexWrap:"wrap"},imageContainer:{minWidth:350,height:450,flex:1,display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing(3),marginBottom:e.spacing(2),"& img":{display:"block",width:"100%",height:450,objectFit:"cover"}},productsDetails:{minWidth:350,flex:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},widthMargin:{marginTop:e.spacing(1),marginBottom:e.spacing(1),width:150},description:{minHeight:"30vh"}}})),jt=function(){var e=dt(),t=Object(a.useState)(),n=Object(w.a)(t,2),r=n[0],c=n[1],i=Object(o.h)().id,l=Object(d.c)((function(e){return e.products})).products,u=Object(d.c)((function(e){return e.auth})).admin;return Object(a.useEffect)((function(){if(l.length>0){var e;if(l.forEach((function(t){if(t._id===i)return c(t),void(e=!0)})),e)return;lt(i).then((function(e){return c(e.payload.product)}))}}),[i,l]),r?Object(j.jsx)("div",{className:e.container,children:Object(j.jsxs)("div",{className:e.productForm,children:[Object(j.jsx)("div",{className:e.imageContainer,children:Object(j.jsx)("img",{src:r.image.url,alt:""})}),Object(j.jsxs)("div",{className:e.productsDetails,children:[Object(j.jsx)(S.a,{component:"h2",variant:"h4",children:r.name}),Object(j.jsxs)(S.a,{component:"h4",variant:"h6",style:{display:"flex",alignItems:"center"},children:["$",r.price,Object(j.jsx)(ge.a,{readOnly:!0,defaultValue:3.5,precision:.5,style:{marginLeft:10}})]}),Object(j.jsxs)(S.a,{color:"textSecondary",gutterBottom:!0,children:["Sold pieces: ",r.soldPieces]}),Object(j.jsx)(S.a,{paragraph:!0,className:e.description,children:r.description}),u&&Object(j.jsx)(I.a,{variant:"contained",color:"primary",className:e.widthMargin,component:s.b,to:"/manage/edit/".concat(r._id),children:"Edit"})]})]})}):Object(j.jsx)("div",{children:"nothing"})},bt=n(53),pt=Object(W.b)("products/getProductsStatus",function(){var e=Object(y.a)(v.a.mark((function e(t,n){var a,r,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.sortState,c=t.filterState,e.next=5,st(r,c);case 5:return i=e.sent,console.log(i),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 13:case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),mt=Object(W.b)("products/deleteProductsStatus",function(){var e=Object(y.a)(v.a.mark((function e(t,n){var a,r,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,r=t.productsIds,c=t.accessToken,e.next=5,ot(r,c);case 5:if(400!==(i=e.sent).status){e.next=8;break}return e.abrupt("return",a({message:i.data.message,status:i.status}));case 8:if(401!==i.status){e.next=10;break}return e.abrupt("return",a({message:i.data.message,status:i.status}));case 10:return e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()),ht=Object(W.c)({name:"products",initialState:{products:[]},reducers:{},extraReducers:function(e){e.addCase(pt.fulfilled,(function(e,t){e.products=t.payload})),e.addCase(mt.fulfilled,(function(e,t){var n=e.products,a=[],r=[];n.forEach((function(e){a.push(e._id)}));var c=t.payload.data.arrayOfProductsIDs;a.filter((function(e){return!c.includes(e)})).forEach((function(e){var t=n.find((function(t){return t._id===e}));r.push(t)})),e.products=r})),e.addCase(mt.rejected,(function(e,t){console.log("rejected")}))}}).reducer,Ot=Object(C.a)((function(e){return{productsContainer:{margin:"30px 0",minHeight:"50vh"},loadingContainer:{height:"40vh",display:"flex",justifyContent:"center",alignItems:"center"},media:{height:0,paddingTop:"100%"},product:{position:"relative"},checkBox:{position:"absolute",top:0,right:0,zIndex:3,"& svg":{background:"white"}}}})),xt=function(e){var t=Ot(),n=Object(a.useState)(!0),r=Object(w.a)(n,2),c=r[0],i=r[1],o=[e.productsID,e.setProductsID],l=o[1],u=Object(a.useState)([]),b=Object(w.a)(u,2),p=b[0],m=b[1],h=Object(d.b)(),O=Object(d.c)((function(e){return e.products})).products,x=Object(d.c)((function(e){return e.auth})).admin;Object(a.useEffect)((function(){i(!0);var t=e.sortState,n=e.filterState;h(pt({sortState:t,filterState:n})).then((function(e){console.log(e),i(!1)}))}),[e.sortState,e.filterState]),Object(a.useEffect)((function(){m(O)}),[O]);Object(a.useEffect)((function(){""!==e.queryState&&function(e){var t=Object(bt.a)(p).filter((function(t){return e.test(t.name)}));m(t)}(new RegExp(e.queryState,"i"))}),[e.queryState]);var f=function(e){e.target.checked?l((function(t){return[].concat(Object(bt.a)(t),[e.target.value])})):l((function(t){return t.filter((function(t){return t!==e.target.value}))}))};return p&&0!==p.length?Object(j.jsx)(oe.a,{container:!0,spacing:3,className:t.productsContainer,children:p.map((function(e){return Object(j.jsxs)(oe.a,{item:!0,md:4,sm:6,xs:12,className:t.product,children:[Object(j.jsxs)(me.a,{children:[Object(j.jsx)(he.a,{image:e.image.url,className:t.media,title:"Product"}),Object(j.jsxs)(Oe.a,{children:[Object(j.jsx)(S.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsxs)(S.a,{variant:"h6",children:["$",e.price]}),Object(j.jsx)(ge.a,{readOnly:!0,defaultValue:3.5,precision:.5})]}),Object(j.jsx)(S.a,{variant:"body2",color:"textSecondary",paragraph:!0,children:e.description})]}),Object(j.jsxs)(xe.a,{children:[Object(j.jsx)(I.a,{color:"secondary",variant:"outlined",onClick:function(){return h(we(e))},children:"Add to cart"}),Object(j.jsx)(I.a,{color:"primary",component:s.b,to:"/product/".concat(e._id),children:"View More"})]})]}),x&&Object(j.jsx)(ze.a,{color:"secondary",className:t.checkBox,value:e._id,onChange:f})]},e.image.public_id)}))}):!c&&p&&0===p.length?Object(j.jsx)("div",{className:t.loadingContainer,children:Object(j.jsx)(S.a,{children:"No products founded"})}):Object(j.jsx)("div",{className:t.loadingContainer,children:Object(j.jsx)(fe.a,{})})},ft=n(209),gt=n(230),vt=n(220),yt=n(212),wt=Object(C.a)((function(e){return{container:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},selectContainer:Object(N.a)({marginLeft:e.spacing(3)},e.breakpoints.down("xs"),{marginLeft:0,marginTop:e.spacing(2)}),sortSelect:Object(N.a)({width:150},e.breakpoints.down("xs"),{width:250}),searchInput:{width:250}}})),Nt=function(e){var t=wt(),n=[e.sortState,e.sortStateFunction],r=n[0],c=n[1],i=[e.filterState,e.filterStateFunction],s=i[0],o=i[1],l=[e.queryState,e.queryStateFunction],u=l[1],d=window.location.search,b=new URLSearchParams(d).get("filter");Object(a.useEffect)((function(){null!==b&&o(b)}),[b,o]);var p=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(S.a,{variant:"h4",component:"h2",align:"center",children:"Products"}),Object(j.jsxs)(ft.a,{className:t.container,children:[Object(j.jsx)(Pe.a,{name:"search",id:"search",label:"Search",className:t.searchInput,onChange:function(e){return u(e.target.value)}}),Object(j.jsxs)(ft.a,{className:t.selectContainer,children:[Object(j.jsx)(gt.a,{id:"sort-by-label",children:"Filter"}),Object(j.jsxs)(vt.a,{value:s,onChange:m,labelId:"sort-by-label",className:t.sortSelect,children:[Object(j.jsx)(yt.a,{value:"all",children:"All Items"}),Object(j.jsx)(yt.a,{value:"homeDecor",children:"Home Decor"}),Object(j.jsx)(yt.a,{value:"electronics",children:"Electronics"}),Object(j.jsx)(yt.a,{value:"grocery",children:"Grocery"})]})]}),Object(j.jsxs)(ft.a,{className:t.selectContainer,children:[Object(j.jsx)(gt.a,{id:"sort-by-label",children:"Sort By"}),Object(j.jsxs)(vt.a,{value:r,onChange:p,labelId:"sort-by-label",className:t.sortSelect,children:[Object(j.jsx)(yt.a,{value:"none",children:"None"}),Object(j.jsx)(yt.a,{value:"alpha",children:"A-Z"}),Object(j.jsx)(yt.a,{value:"price",children:"Price"}),Object(j.jsx)(yt.a,{value:"popularity",children:"Popularity"})]})]})]})]})},Ct=Object(C.a)((function(e){return{container:{width:"80%",margin:"auto",marginTop:e.spacing(4)}}})),St=function(e){var t=Ct(),n=Object(a.useState)("none"),r=Object(w.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)("all"),o=Object(w.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(""),b=Object(w.a)(d,2),p=b[0],m=b[1];return Object(j.jsxs)("div",{className:t.container,children:[Object(j.jsx)(Nt,{sortState:c,sortStateFunction:i,filterState:l,filterStateFunction:u,queryState:p,queryStateFunction:m}),Object(j.jsx)(xt,{queryState:p,sortState:c,filterState:l,productsID:e.productsID,setProductsID:e.setProductsID})]})},kt=Object(C.a)((function(e){return{container:{width:"80%",margin:"auto",display:"flex",justifyContent:"flex-end",marginTop:e.spacing(4)},deleteButton:Object(N.a)({marginLeft:e.spacing(3)},e.breakpoints.down("xs"),{marginLeft:e.spacing(1)}),addButton:{"& span":{textAlign:"center"}}}})),It=function(){var e=Object(a.useState)([]),t=Object(w.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(w.a)(c,2),o=i[0],l=i[1],u=kt(),b=Object(d.b)(),p=Object(d.c)((function(e){return e.auth})).accessToken;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:u.container,children:[Object(j.jsx)(I.a,{variant:"contained",color:"primary",component:s.b,to:"/manage/add",className:u.addButton,children:"Add Product"}),Object(j.jsx)(I.a,{variant:"contained",color:"secondary",className:u.deleteButton,onClick:function(){0!==n.length?(l(!0),b(mt({productsIds:n,accessToken:p})).then((function(e){if(r([]),200===e.payload.status&&e.payload.data.accessToken&&b(G(e.payload.data.accessToken)),401===e.payload.status)return alert("You are not authorized"),void b(V());400!==e.payload.status?(alert("Successfully deleted"),b(Ce(e.payload))):alert("Something went wrong")})).then((function(){return setTimeout((function(){return l(!1)}),500)}))):alert("You have not chosen any product.")},children:o?Object(j.jsx)(fe.a,{style:{color:"white"}}):"Delete Products"})]}),Object(j.jsx)(St,{productsID:n,setProductsID:r})]})},Bt=Object(C.a)((function(e){return{container:{width:"80%",margin:"30px auto"},productForm:{display:"flex",flexWrap:"wrap"},imageUpload:{display:"none"},imageContainer:{minWidth:350,height:450,flex:1,display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing(3),marginBottom:e.spacing(2),"& img":{display:"block",width:"100%",height:500,objectFit:"cover"}},productsDetails:{minWidth:350,flex:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},widthMargin:{marginTop:e.spacing(1),marginBottom:e.spacing(1),width:150}}})),Tt=function(){var e=Bt(),t=Object(o.g)(),n=Object(d.b)(),r=Object(a.useState)(!1),c=Object(w.a)(r,2),i=c[0],s=c[1],l=Object(a.useState)(),u=Object(w.a)(l,2),b=u[0],p=u[1],m=Object(a.useState)(),h=Object(w.a)(m,2),O=h[0],x=h[1],f=Object(a.useState)(),g=Object(w.a)(f,2),v=g[0],y=g[1],N=Object(a.useState)(),C=Object(w.a)(N,2),S=C[0],k=C[1],B=Object(a.useState)("electronics"),T=Object(w.a)(B,2),D=T[0],E=T[1],F=Object(d.c)((function(e){return e.products})).products,W=Object(d.c)((function(e){return e.auth})).accessToken,P=Object(o.h)().id;Object(a.useEffect)((function(){s(!0);var e=!1;F.forEach((function(t){if(t._id===P)return e=!0,p(t),void s(!1)})),e||lt(P).then((function(e){return p(e.payload.product)}))}),[P,F]),Object(a.useEffect)((function(){b&&(E(b.category),x(b.name),y(b.price),k(b.description))}),[b]);return!i&&b?Object(j.jsx)("div",{className:e.container,children:Object(j.jsxs)("form",{className:e.productForm,onSubmit:function(e){e.preventDefault(),ut(P,O,v,S,D,W).then((function(e){return console.log(e),200===e.status?(e.data.accessToken&&n(G(e.data.accessToken)),void t.push("/manage")):400!==e.status?401===e.status?(alert("Unauthorized"),void n(V())):void 0:void alert(e.data.message)}))},children:[Object(j.jsx)("div",{className:e.imageContainer,children:Object(j.jsx)("img",{src:b.image.url,alt:""})}),Object(j.jsxs)("div",{className:e.productsDetails,children:[Object(j.jsx)(Pe.a,{id:"product-name",label:"Product Name",name:"name",variant:"outlined",fullWidth:!0,className:e.input,defaultValue:b.name,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)(Pe.a,{id:"product-price",label:"Price ($)",name:"price",variant:"outlined",type:"number",fullWidth:!0,className:e.input,defaultValue:b.price,onChange:function(e){return y(parseInt(e.target.value))}}),Object(j.jsx)(Pe.a,{id:"product-description",label:"Description",name:"description",variant:"outlined",multiline:!0,rows:5,fullWidth:!0,className:e.input,defaultValue:b.description,onChange:function(e){return k(e.target.value)}}),Object(j.jsxs)(ft.a,{style:{width:150},children:[Object(j.jsx)(gt.a,{id:"category-select-label",style:{width:150},children:"Category"}),Object(j.jsxs)(vt.a,{labelId:"category-select-label",className:e.widthMargin,value:D,onChange:function(e){E(e.target.value)},children:[Object(j.jsx)(yt.a,{value:"electronics",children:"Electronics"}),Object(j.jsx)(yt.a,{value:"homeDecor",children:"Home Decor"}),Object(j.jsx)(yt.a,{value:"grocery",children:"Grocery"})]})]}),Object(j.jsx)(I.a,{variant:"contained",color:"primary",type:"submit",className:e.widthMargin,children:i?Object(j.jsx)(fe.a,{style:{color:"white"}}):"Save Changes"})]})]})}):Object(j.jsx)("div",{children:"H"})},Dt=Object(C.a)((function(e){return{container:{width:"80%",margin:"30px auto"},productForm:{display:"flex",flexWrap:"wrap"},imageUpload:{display:"none"},imageContainer:Object(N.a)({minWidth:350,height:450,flex:1,display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid gray",marginRight:e.spacing(3),marginBottom:e.spacing(2),"& img":Object(N.a)({display:"block",width:"100%",height:450,objectFit:"cover"},e.breakpoints.down("xs"),{height:350})},e.breakpoints.down("xs"),{width:270,minWidth:270,height:350,margin:"0 auto 20px auto"}),productsDetails:Object(N.a)({minWidth:350,flex:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},e.breakpoints.down("xs"),{width:270,minWidth:270}),input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},widthMargin:{marginTop:e.spacing(1),marginBottom:e.spacing(1),width:150}}})),Et=function(){var e=Dt(),t=Object(a.useState)(""),n=Object(w.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),s=Object(w.a)(i,2),l=s[0],u=s[1],b=Object(a.useState)("electronics"),p=Object(w.a)(b,2),m=p[0],h=p[1],O=Object(a.useState)(null),x=Object(w.a)(O,2),f=x[0],g=x[1],N=Object(o.g)(),C=Object(d.c)((function(e){return e.auth})).accessToken,S=Object(d.b)(),k=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target,a=n.name.value,r=n.price.value,c=n.description.value,i=new FileReader,null!==f&&(i.readAsDataURL(f),i.onloadend=function(){var e=i.result;u(!0),it(a,r,c,e,m,C).then((function(e){e.data.accessToken&&S(G(e.data.accessToken)),u(!1),N.push("/manage")})).catch((function(e){return console.log(e)}))});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:e.container,children:Object(j.jsxs)("form",{className:e.productForm,onSubmit:k,children:[Object(j.jsxs)("div",{className:e.imageContainer,children:[Object(j.jsx)("input",{accept:"image/*",className:e.imageUpload,id:"contained-button-file",type:"file",name:"image",onChange:function(e){if(null!==e.target.files){var t=e.target.files[0];if(g(t),t.size>1048576)return alert("Size too large!");if("image/jpeg"!==t.type&&"image/png"!==t.type)return alert("File format is incorrect.");c(URL.createObjectURL(t))}else alert("File does not exist")}}),Object(j.jsx)("label",{htmlFor:"contained-button-file",children:""===r?Object(j.jsx)(I.a,{variant:"contained",color:"primary",component:"span",children:"Upload"}):Object(j.jsx)("img",{src:r,alt:"poster"})})]}),Object(j.jsxs)("div",{className:e.productsDetails,children:[Object(j.jsx)(Pe.a,{id:"product-name",label:"Product Name",name:"name",variant:"outlined",fullWidth:!0,className:e.input}),Object(j.jsx)(Pe.a,{id:"product-price",label:"Price ($)",name:"price",variant:"outlined",type:"number",fullWidth:!0,className:e.input}),Object(j.jsx)(Pe.a,{id:"product-description",label:"Description",name:"description",variant:"outlined",multiline:!0,rows:5,fullWidth:!0,className:e.input}),Object(j.jsxs)(ft.a,{style:{width:150},children:[Object(j.jsx)(gt.a,{id:"category-select-label",style:{width:150},children:"Category"}),Object(j.jsxs)(vt.a,{labelId:"category-select-label",className:e.widthMargin,value:m,onChange:function(e){h(e.target.value)},children:[Object(j.jsx)(yt.a,{value:"electronics",children:"Electronics"}),Object(j.jsx)(yt.a,{value:"homeDecor",children:"Home Decor"}),Object(j.jsx)(yt.a,{value:"grocery",children:"Grocery"})]})]}),Object(j.jsx)(I.a,{variant:"contained",color:"primary",type:"submit",className:e.widthMargin,children:l?Object(j.jsx)(fe.a,{style:{color:"white"}}):"Save Changes"})]})]})})},Ft=n(63),Wt=n(213),Pt=n(108),Lt=n.n(Pt),Rt=Object(C.a)((function(e){return{container:{width:"80%",margin:"auto",minHeight:"45vh",display:"flex",flexDirection:"column"},itemsList:{flex:1},listItemImage:{width:100,height:100,borderRadius:7},itemDescription:{paddingLeft:e.spacing(2),flex:1},input:{width:64}}})),qt=function(){var e=Rt(),t=Object(a.useState)([]),n=Object(w.a)(t,2),r=n[0],c=n[1],i=Object(d.c)((function(e){return e.cart})).items,s=Object(d.c)((function(e){return e.products})).products,o=Object(d.b)();return Object(a.useEffect)((function(){c([]);var e=new Map;for(var t in i)if(e.has(i[t]._id)){var n=e.get(i[t]._id);e.set(i[t]._id,++n)}else e.set(i[t]._id,1);var a,r=Object(Ft.a)(e);try{var o=function(){var e=Object(w.a)(a.value,2),t=e[0],n=e[1],r=s.find((function(e){return e._id===t}));if(void 0===r)return"continue";var i=r.name,o=r.price,l=r.image,u={id:t,name:i,price:o,image:l,amount:n};c((function(e){return[].concat(Object(bt.a)(e),[u])}))};for(r.s();!(a=r.n()).done;)o()}catch(l){r.e(l)}finally{r.f()}}),[i,s]),Object(j.jsxs)("div",{className:e.container,children:[Object(j.jsx)(J.a,{className:e.itemsList,children:r&&r.map((function(t){return Object(j.jsxs)(K.a,{style:{padding:"10px 0"},children:[Object(j.jsx)(Wt.a,{children:Object(j.jsx)("img",{src:t.image.url,alt:t.name,className:e.listItemImage})}),Object(j.jsxs)("div",{className:e.itemDescription,children:[Object(j.jsx)(S.a,{variant:"h5",component:"h3",children:t.name}),Object(j.jsxs)(S.a,{variant:"body1",color:"textSecondary",children:["$",t.price]})]}),Object(j.jsx)(Pe.a,{label:"Amount",value:t.amount,disabled:!0,variant:"outlined",className:e.input}),Object(j.jsx)(B.a,{"aria-label":"delete",onClick:function(){return o(Ne({id:t.id,price:t.price,amount:t.amount}))},style:{width:64,height:64},children:Object(j.jsx)(Lt.a,{})})]},t.id)}))}),Object(j.jsx)(X.a,{})]})},At=function(){var e=Object(a.useState)(!0),t=Object(w.a)(e,2),n=t[0],r=t[1],c=Object(d.c)((function(e){return e.cart})).total;return Object(a.useEffect)((function(){r(0===c)}),[c]),Object(j.jsxs)("div",{style:{width:"80%",margin:"auto",padding:"15px 0",display:"flex",justifyContent:"flex-end"},children:[Object(j.jsxs)(S.a,{variant:"h6",children:["Total: $",c]}),Object(j.jsx)(I.a,{component:s.b,to:"/checkout",color:"primary",variant:"contained",style:{marginLeft:10},disabled:n,children:"Checkout"})]})},_t=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(qt,{}),Object(j.jsx)(At,{})]})},Ut=n(112),zt=Object(C.a)((function(e){return{container:{margin:"30px auto"},formContainer:{width:"100%","& .MuiTextField-root":{margin:"10px 0"}},sendButton:{marginTop:e.spacing(3)}}})),Mt=function(){var e=zt(),t=Object(a.useState)(!1),n=Object(w.a)(t,2),r=n[0],c=n[1];return Object(j.jsxs)(Fe.a,{maxWidth:"lg",className:e.container,children:[Object(j.jsx)(S.a,{variant:"h4",component:"h2",align:"center",gutterBottom:!0,children:"Contact Us"}),Object(j.jsxs)(ft.a,{component:"form",onSubmit:function(e){e.preventDefault(),c(!0);var t=e.target;Ut.a.sendForm("service_7gj5i4i","template_531ujxa",t,"user_MgmPzjT9bk2INTZbpke4k").then((function(e){alert("Thank you for your email!"),t.reset(),c(!1)}),(function(e){alert("Something went wrong."),console.log(e.text),c(!1)}))},className:e.formContainer,children:[Object(j.jsx)(Pe.a,{label:"Subject",name:"subject",type:"text",variant:"outlined",autoFocus:!0}),Object(j.jsx)(Pe.a,{label:"Name",name:"name",type:"text",variant:"outlined"}),Object(j.jsx)(Pe.a,{label:"Email",name:"email",type:"email",variant:"outlined"}),Object(j.jsx)(Pe.a,{label:"Message",name:"message",type:"text",multiline:!0,rows:8,variant:"outlined",fullWidth:!0}),Object(j.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",className:e.sendButton,children:r?Object(j.jsx)(fe.a,{style:{color:"white"}}):"Send"})]})]})},Ht=n(231),Vt=n(214),Gt=n(225),$t=Object(C.a)((function(e){return{}})),Yt=function(){$t();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(S.a,{variant:"h6",gutterBottom:!0,children:"Shipping address"}),Object(j.jsxs)(oe.a,{container:!0,spacing:3,component:"form",id:"addressForm",children:[Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{required:!0,id:"firstName",name:"firstName",label:"First name",type:"string",fullWidth:!0,autoComplete:"given-name"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",type:"string",fullWidth:!0,autoComplete:"family-name"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,children:Object(j.jsx)(Pe.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",type:"string",fullWidth:!0,autoComplete:"shipping address-line1"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,children:Object(j.jsx)(Pe.a,{id:"address2",name:"address2",label:"Address line 2",type:"string",fullWidth:!0,autoComplete:"shipping address-line2"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{required:!0,id:"city",name:"city",label:"City",type:"string",fullWidth:!0,autoComplete:"shipping address-level2"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{id:"state",name:"state",label:"State/Province/Region",type:"string",fullWidth:!0})}),Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",type:"number",fullWidth:!0,autoComplete:"shipping postal-code"})}),Object(j.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(Pe.a,{required:!0,id:"country",name:"country",label:"Country",type:"string",fullWidth:!0,autoComplete:"shipping country"})})]})]})},Zt=n(54),Jt=function(e){var t=[e.succeded,e.setSucceded],n=t[1],r=Object(a.useState)(null),c=Object(w.a)(r,2),i=c[0],s=c[1],o=[e.submit,e.setSubmit],l=o[1],u=Object(a.useState)(""),b=Object(w.a)(u,2),p=b[0],m=b[1],h=Object(Zt.useStripe)(),O=Object(Zt.useElements)(),x=Object(d.c)((function(e){return e.cart})).items;Object(a.useEffect)((function(){window.fetch("/api/payment/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({items:x,address:e.address})}).then((function(e){return e.json()})).then((function(e){console.log(e),m(e.clientSecret)}))}),[]);var f=function(){var e=Object(y.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),e.next=4,h.confirmCardPayment(p,{payment_method:{card:O.getElement(Zt.CardElement)}});case 4:(a=e.sent).error?(s("Payment failed ".concat(a.error.message)),l(!1)):(s(null),l(!1),n(!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.error?t.error.message:"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{id:"payment-form",onSubmit:f,children:[Object(j.jsx)(Zt.CardElement,{id:"card-element",onChange:g}),Object(j.jsx)("button",{type:"submit",id:"paymentSubmitButton",style:{display:"none"}}),i&&Object(j.jsx)("div",{className:"card-error",role:"alert",children:Object(j.jsx)(S.a,{children:i})})]})})},Kt=Object(C.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)}}})),Qt=function(e){var t=Kt(),n=Object(a.useState)([]),r=Object(w.a)(n,2),c=r[0],i=r[1],s=Object(d.c)((function(e){return e.cart})),o=s.items,l=s.total,u=Object(d.c)((function(e){return e.products})).products;return Object(a.useEffect)((function(){i([]);var e=new Map;for(var t in o)if(e.has(o[t]._id)){var n=e.get(o[t]._id);e.set(o[t]._id,++n)}else e.set(o[t]._id,1);var a,r=Object(Ft.a)(e);try{var c=function(){var e=Object(w.a)(a.value,2),t=e[0],n=e[1],r=u.find((function(e){return e._id===t}));if(void 0===r)return"continue";var c=r.name,s=r.price,o=r.image,l={id:t,name:c,price:s,image:o,amount:n};i((function(e){return[].concat(Object(bt.a)(e),[l])}))};for(r.s();!(a=r.n()).done;)c()}catch(s){r.e(s)}finally{r.f()}}),[o,u]),Object(j.jsxs)("div",{children:[Object(j.jsx)(S.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(j.jsxs)(J.a,{disablePadding:!0,children:[c.map((function(e){return Object(j.jsxs)(K.a,{className:t.listItem,children:[Object(j.jsx)(Q.a,{primary:e.name,secondary:"Amount: ".concat(e.amount)}),Object(j.jsxs)(S.a,{variant:"body2",children:["$",e.price]})]},e.name)})),Object(j.jsxs)(K.a,{className:t.listItem,children:[Object(j.jsx)(Q.a,{primary:"Total"}),Object(j.jsxs)(S.a,{variant:"subtitle1",className:t.total,children:["$",l]})]})]}),Object(j.jsx)(oe.a,{container:!0,spacing:4,children:Object(j.jsxs)(oe.a,{item:!0,xs:12,sm:12,children:[Object(j.jsx)(S.a,{variant:"h6",gutterBottom:!0,className:t.title,children:"Shipping"}),Object(j.jsxs)(oe.a,{container:!0,children:[Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"Name"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"".concat(e.address.firstName," ").concat(e.address.lastName)})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"First Address"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:e.address.address1})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"Second Address"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:""===e.address.address2?"Not given":e.address.address2})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"Country"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"".concat(e.address.city," ").concat(e.address.zip," ").concat(e.address.country," ").concat(e.address.state)})})]})]})})]})},Xt=n(109),en=Object(Xt.a)("pk_test_sifzp0ZLo4b6A5TLnU1U4o3p00Fg5O3uxB"),tn=Object(C.a)((function(e){return{checkoutContainer:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3)},layout:Object(N.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(N.a)({padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),nn=["Shipping address","Review your order","Payment details"],an=function(e,t,n,a,r,c){switch(e){case 0:return Object(j.jsx)(Yt,{});case 1:return Object(j.jsx)(Qt,{address:t});case 2:return Object(j.jsx)("div",{className:"CheckoutForm",children:Object(j.jsx)(Zt.Elements,{stripe:en,children:Object(j.jsx)(Jt,{address:t,submit:n,setSubmit:a,succeded:r,setSucceded:c})})});default:throw new Error("Unknown step")}},rn=function(){var e=Object(d.b)(),t=tn(),n=Object(a.useState)(0),c=Object(w.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(),u=Object(w.a)(l,2),b=u[0],p=u[1],m=Object(a.useState)(!1),h=Object(w.a)(m,2),O=h[0],x=h[1],f=Object(a.useState)(!1),g=Object(w.a)(f,2),v=g[0],y=g[1];Object(a.useEffect)((function(){if(v){o((function(e){return e+1})),e(Se());e(pt({sortState:"none",filterState:"all"})).then((function(e){console.log(e)}))}}),[v,e]);return Object(j.jsx)("div",{className:t.checkoutContainer,children:Object(j.jsx)("main",{className:t.layout,children:Object(j.jsxs)(le.a,{className:t.paper,children:[Object(j.jsx)(S.a,{component:"h1",variant:"h4",align:"center",children:"Checkout"}),Object(j.jsx)(Ht.a,{activeStep:i,className:t.stepper,children:nn.map((function(e){return Object(j.jsx)(Vt.a,{children:Object(j.jsx)(Gt.a,{children:e})},e)}))}),Object(j.jsx)(r.a.Fragment,{children:i===nn.length?Object(j.jsxs)(r.a.Fragment,{children:[Object(j.jsx)(S.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your order."}),Object(j.jsx)(S.a,{variant:"subtitle1",gutterBottom:!0,children:"We have emailed your order confirmation, and will send you an update when your order has shipped."}),Object(j.jsx)(I.a,{component:s.b,to:"/",variant:"contained",color:"primary",style:{margin:"auto"},children:"Back to home"})]}):Object(j.jsxs)(r.a.Fragment,{children:[an(i,b,O,x,v,y),Object(j.jsxs)("div",{className:t.buttons,children:[0!==i&&Object(j.jsx)(I.a,{onClick:function(){o(i-1)},className:t.button,children:"Back"}),Object(j.jsx)(I.a,{variant:"contained",color:"primary",onClick:function(){if(2!==i){if(1===i){var e=b.firstName,t=b.lastName,n=b.address1,a=b.city,r=b.country;if(""===e||""===t||""===n||""===a||""===r)return void alert("You cannot proceed to payment without fully filled addresses!")}if(0===i){var c=document.getElementById("addressForm"),s=new FormData(c),l={firstName:s.get("firstName"),lastName:s.get("lastName"),address1:s.get("address1"),address2:s.get("address2"),city:s.get("city"),state:s.get("state"),zip:s.get("zip"),country:s.get("country")};p(l)}o(i+1)}else{document.getElementById("paymentSubmitButton").click()}},className:t.button,children:i===nn.length-1?O?Object(j.jsx)(fe.a,{style:{color:"white"}}):"Place Order":"Next"})]})]})})]})})})},cn=function(){return Object(j.jsx)("div",{})},sn=function(){return Object(j.jsx)("div",{})},on=function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{ContentType:"application/json",Authorization:"Bearer ".concat(t)},withCredentials:!0},e.abrupt("return",L.a.get("/api/orders",n).then((function(e){return e.data})).catch((function(e){return console.log(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=n(215),un=n(216),dn=n(217),jn=n(218),bn=n(219),pn=Object(C.a)((function(e){return{container:{width:"80%",margin:"auto",marginTop:e.spacing(3),marginBottom:e.spacing(3),minHeight:"50vh"}}})),mn=function(){var e=pn(),t=Object(d.b)(),n=Object(a.useState)([]),r=Object(w.a)(n,2),c=r[0],i=r[1],o=Object(d.c)((function(e){return e.auth})).accessToken;return Object(a.useEffect)((function(){on(o).then((function(e){var n=e.orders,a=e.newAccessToken;i(n),null!==a&&t(G(a))})).catch((function(e){return console.log(e)}))}),[o,t]),Object(j.jsxs)("div",{className:e.container,children:[Object(j.jsx)(S.a,{component:"h2",variant:"h5",gutterBottom:!0,children:"Your Orders"}),c?Object(j.jsx)("div",{style:{overflowX:"auto"},children:Object(j.jsxs)(ln.a,{children:[Object(j.jsx)(un.a,{children:Object(j.jsxs)(dn.a,{children:[Object(j.jsx)(jn.a,{children:"Order ID"}),Object(j.jsx)(jn.a,{children:"Date"}),Object(j.jsx)(jn.a,{children:"Amount"}),Object(j.jsx)(jn.a,{children:"Price"}),Object(j.jsx)(jn.a,{})]})}),Object(j.jsx)(bn.a,{children:c.map((function(e){var t=e.date.split("T")[0];return Object(j.jsxs)(dn.a,{children:[Object(j.jsx)(jn.a,{children:e._id}),Object(j.jsx)(jn.a,{children:t}),Object(j.jsx)(jn.a,{children:e.items.length}),Object(j.jsx)(jn.a,{children:e.price}),Object(j.jsx)(jn.a,{children:Object(j.jsx)(I.a,{component:s.b,to:"/orders/".concat(e._id),children:"Details"})})]},e._id)}))})]})}):Object(j.jsx)(fe.a,{color:"primary"})]})},hn=Object(C.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)},container:{width:"80%",margin:"auto",marginTop:e.spacing(3),marginBottom:e.spacing(3),minHeight:"40vh",display:"flex",justifyContent:"center",alignContent:"center"},listItemImage:{width:100,height:100,borderRadius:7},itemDescription:{marginLeft:e.spacing(2)}}})),On=function(){var e=hn(),t=Object(o.g)(),n=(Object(d.b)(),Object(o.h)().id),r=Object(a.useState)(void 0),c=Object(w.a)(r,2),i=c[0],s=c[1],l=Object(a.useState)(void 0),u=Object(w.a)(l,2),b=u[0],p=u[1],m=Object(d.c)((function(e){return e.auth})).accessToken,h=Object(d.c)((function(e){return e.products})).products;return Object(a.useEffect)((function(){L.a.get("/api/orders/".concat(n),{withCredentials:!0,headers:{ContentType:"application/json",Authorization:"Bearer ".concat(m)}}).then((function(e){var t=e.data;s(t.order),p(function(e,t){var n=new Map,a=[];for(var r in e)if(n.has(e[r]._id)){var c=n.get(e[r]._id);n.set(e[r]._id,++c)}else n.set(e[r]._id,1);var i,s=Object(Ft.a)(n);try{var o=function(){var e=Object(w.a)(i.value,2),n=e[0],r=e[1],c=t.find((function(e){return e._id===n}));if(void 0===c)return"continue";var s=c.name,o=c.price,l=c.image,u={id:n,name:s,price:o,image:l,amount:r};a.push(u)};for(s.s();!(i=s.n()).done;)o()}catch(l){s.e(l)}finally{s.f()}return a}(t.order.items,h))})).catch((function(e){console.log(e.response),alert(e.response.data.error),t.push("/")}))}),[n,m,h,t]),Object(j.jsx)("div",{className:e.container,children:void 0!==i&&void 0!==b?Object(j.jsxs)(oe.a,{container:!0,spacing:1,children:[Object(j.jsxs)(oe.a,{item:!0,sm:12,xs:12,children:[Object(j.jsx)(S.a,{variant:"h6",className:e.title,gutterBottom:!0,children:"Purchased Items"}),Object(j.jsxs)(J.a,{disablePadding:!0,children:[b.map((function(t){return Object(j.jsxs)(K.a,{className:e.listItem,children:[Object(j.jsx)(Wt.a,{children:Object(j.jsx)("img",{src:t.image.url,alt:t.name,className:e.listItemImage})}),Object(j.jsx)(Q.a,{primary:t.name,secondary:"Amount: ".concat(t.amount),className:e.itemDescription}),Object(j.jsxs)(S.a,{variant:"body2",children:["$",t.price]})]},t.id)})),Object(j.jsx)(X.a,{}),Object(j.jsxs)(K.a,{className:e.listItem,children:[Object(j.jsx)(Q.a,{primary:"Total"}),Object(j.jsxs)(S.a,{className:e.total,variant:"subtitle1",children:["$",i.price]})]})]})]}),Object(j.jsxs)(oe.a,{item:!0,sm:12,xs:12,children:[Object(j.jsx)(S.a,{variant:"h6",className:e.title,gutterBottom:!0,children:"Shipping Information"}),Object(j.jsxs)(oe.a,{container:!0,children:[Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"Name"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:i.shippingInfo.name})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"First Address"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:i.shippingInfo.address1})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"Second Address"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:""===i.shippingInfo.address2?"Not given":i.shippingInfo.address2})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"Country"})}),Object(j.jsx)(oe.a,{item:!0,xs:6,children:Object(j.jsx)(S.a,{gutterBottom:!0,children:"".concat(i.shippingInfo.city," ").concat(i.shippingInfo.state," ").concat(i.shippingInfo.zip," ").concat(i.shippingInfo.country)})})]})]})]}):""})},xn=function(){var e=Object(d.b)();return Object(a.useEffect)((function(){e(pt({sortState:"none",filterState:"all"})).then((function(e){return console.log(e)}))}),[e]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(s.a,{children:[Object(j.jsx)(f,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/authentication",component:nt}),Object(j.jsx)(o.b,{path:"/checkout",component:cn}),Object(j.jsx)(o.b,{component:ce})]}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",component:Ee}),Object(j.jsx)(o.b,{exact:!0,path:"/collection",component:ct}),Object(j.jsx)(o.b,{exact:!0,path:"/products",component:St}),Object(j.jsx)(o.b,{exact:!0,path:"/product/:id",component:jt}),Object(j.jsx)(o.b,{exact:!0,path:"/cart",component:_t}),Object(j.jsx)(o.b,{exact:!0,path:"/contact",component:Mt}),Object(j.jsx)(o.b,{exact:!0,path:"/checkout",component:rn}),Object(j.jsx)(x,{path:"/authentication",component:$e}),Object(j.jsx)(p,{exact:!0,path:"/orders",component:mn}),Object(j.jsx)(p,{exact:!0,path:"/orders/:id",component:On}),Object(j.jsx)(h,{exact:!0,path:"/manage",component:It}),Object(j.jsx)(h,{exact:!0,path:"/manage/add",component:Et}),Object(j.jsx)(h,{exact:!0,path:"/manage/edit/:id",component:Tt})]}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/authentication",component:at}),Object(j.jsx)(o.b,{path:"/checkout",component:sn}),Object(j.jsx)(o.b,{component:Qe})]})]})})},fn=n(26),gn=n(42),vn=n(110),yn={key:"root",version:1,storage:n.n(vn).a},wn=Object(fn.b)({cart:ke,auth:$,products:ht}),Nn=Object(gn.g)(yn,wn),Cn=Object(W.a)({reducer:Nn,middleware:function(e){return e({serializableCheck:{ignoredActions:[gn.a,gn.f,gn.b,gn.c,gn.d,gn.e]}})}}),Sn=n(111),kn=n(221),In=Object(gn.h)(Cn);i.a.render(Object(j.jsx)(kn.a,{children:Object(j.jsx)(d.a,{store:Cn,children:Object(j.jsx)(Sn.a,{loading:null,persistor:In,children:Object(j.jsx)(xn,{})})})}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.d15055e6.chunk.js.map