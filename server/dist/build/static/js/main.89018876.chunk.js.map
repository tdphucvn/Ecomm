{"version":3,"sources":["routes/PrivateRoute.tsx","routes/AdminRoute.tsx","routes/RestrictedRoute.tsx","routes/ScrollToTop.tsx","images/logo.png","api/authenticate.ts","redux/reducers/authenticate.ts","components/navigation/DrawerNavigation.tsx","components/navigation/Header.tsx","components/landing/Hero.tsx","images/chair.png","images/grocery.png","images/macbook.png","components/landing/TrendingProducts.tsx","redux/reducers/cartSlice.ts","components/shared/DisplayTopProducts.tsx","components/landing/LatestProducts.tsx","pages/Index.tsx","components/authentication/Login.tsx","api/contact.ts","components/authentication/Register.tsx","pages/Authentication.tsx","components/navigation/Footer.tsx","components/navigation/authentication/AuthHeader.tsx","components/navigation/authentication/AuthFooter.tsx","components/collection/Collection.tsx","api/products.ts","components/shared/Product.tsx","redux/reducers/productsSlice.ts","components/products/DisplayProducts.tsx","components/products/Filters.tsx","components/products/Products.tsx","components/admin/Manage.tsx","components/admin/ProductEdit.tsx","components/admin/ProductAdd.tsx","components/cart/CartItems.tsx","components/cart/CartTotal.tsx","components/cart/Cart.tsx","components/contact/Contact.tsx","components/checkout/Address.tsx","components/checkout/PaymentForm.tsx","components/checkout/Review.tsx","components/checkout/Checkout.tsx","components/navigation/checkout/CheckoutHeader.tsx","components/navigation/checkout/CheckoutFooter.tsx","api/order.ts","components/order/Orders.tsx","components/order/OrderReview.tsx","App.tsx","redux/store.ts","index.tsx"],"names":["PrivateRoute","props","Component","component","rest","authenticated","useSelector","state","auth","render","to","AdminRoute","admin","RestrictedRoute","withRouter","history","useEffect","unlisten","listen","window","scrollTo","loginRequest","username","password","a","axios","post","withCredentials","then","res","data","status","catch","error","response","request","Error","message","registerRequest","email","firstName","lastName","logoutRequest","delete","createAsyncThunk","credentials","rejectWithValue","authenticateAPI","console","log","authenticateSlice","createSlice","name","initialState","loading","accessToken","user","reducers","updateAccessToken","action","payload","unauthorized","extraReducers","builder","addCase","fulfilled","rejected","actions","useStyles","makeStyles","theme","drawer","width","DrawerNavigation","classes","setDrawer","useState","logged","link","text","setAuth","adminState","setAdminState","toggleDrawer","open","event","type","key","Drawer","anchor","onClose","role","onKeyDown","onClick","className","List","ListItem","button","RouterLink","ListItemText","primary","Divider","handleLogout","sumBar","padding","display","margin","justifyContent","textDecoration","color","flexWrap","opacity","breakpoints","down","navBar","alignItems","navBarLinks","listStyle","contactContainer","growContainer","flexGrow","authentication","flex","authLink","hamburger","heroContainer","background","position","top","zIndex","searchIcon","spacing","height","pointerEvents","search","borderRadius","shape","marginRight","marginLeft","up","searchInput","paddingLeft","Authentication","style","Typography","Header","dispatch","useDispatch","count","cart","Link","src","logo","alt","Button","IconButton","Badge","badgeContent","previousState","heroTextContainer","left","transform","heroText","btnShopNow","marginTop","marginBottom","slider","right","Hero","variant","gutterBottom","container","collectionContainer","maxHeight","minHeight","collectionImage","objectFit","collectionDescription","collectionShopNowBtn","borderBottom","TrendingProducts","Grid","item","md","sm","xs","Paper","chair","paragraph","macbook","grocery","cartSlice","items","total","addToCart","price","push","removeFromCart","newItemsArray","filter","_id","id","length","amount","updateCart","removedProducts","arrayOfProductsIDs","productsInCart","forEach","removedProductId","updatedProductsInCart","product","cleanCart","section","media","paddingTop","DisplayTopProducts","category","setCategory","products","setProducts","get","err","align","title","map","Card","CardMedia","image","url","CardContent","Rating","readOnly","defaultValue","precision","description","CardActions","CircularProgress","LatestProducts","Index","paper","flexDirection","avatar","backgroundColor","palette","secondary","main","form","submit","generateErrorMessage","setter","Login","errorMessage","setErrorMessage","useHistory","handleLoginRequest","e","preventDefault","target","value","Container","maxWidth","Avatar","noValidate","onSubmit","TextField","required","fullWidth","label","autoFocus","autoComplete","getEmailNewsletter","alert","Register","setPassword","matchingPasswords","setMatchingPasswords","subscribe","setSubscribe","handleRegisterRequest","confirmpassword","comfirmpassword","onChange","FormControlLabel","control","Checkbox","checked","exact","path","minWidth","newsletterContainer","divGrow","Footer","handleSubscribe","InputProps","startAdornment","InputAdornment","size","backButton","AuthHeader","from","AuthFooter","Collection","addProduct","file","headers","ContentType","Authorization","getProducts","sortState","filterState","fetchedProducts","deleteProducts","productsIds","getCertainProductById","productID","editProduct","put","productForm","imageContainer","productsDetails","widthMargin","Product","setProduct","useParams","itemInRedux","soldPieces","getProductsRequest","query","productsAPI","deleteProductsRequest","productObject","productsSlice","currentArrayOfProducts","currentArrayOfProductsIds","newArrayOfProducts","includes","newProduct","find","productsContainer","loadingContainer","checkBox","DisplayProducts","setLoading","productsID","setProductsID","setProductsIDDelete","setFetchedProducts","queryState","regex","searchedProducts","test","filterProducts","RegExp","handleCheckboxChange","currentArr","public_id","selectContainer","sortSelect","Filters","sortStateFunction","sort","setSort","filterStateFunction","setFilter","queryStateFunction","setQuery","location","filterParams","URLSearchParams","handleSortChange","handleFilterChange","FormControl","InputLabel","Select","labelId","MenuItem","Products","deleteButton","addButton","textAlign","Manage","productsIDDelete","setTimeout","imageUpload","input","ProductEdit","editedProduct","setEditedProduct","setName","setPrice","setDescription","parseInt","multiline","rows","border","ProductAdd","setURL","imageFile","setImageFile","handleSavingChanges","reader","FileReader","readAsDataURL","onloadend","result","accept","files","URL","createObjectURL","htmlFor","itemsList","listItemImage","itemDescription","CartItems","setCart","cartItems","itemsMap","Map","i","has","set","findedProduct","undefined","currentCart","ListItemAvatar","disabled","CartTotal","disabledCheckout","setDisabledCheckout","Cart","formContainer","sendButton","Contact","emailjs","sendForm","reset","Address","PaymentForm","succeded","setSucceded","setSucceeded","setError","setSubmit","setProcessing","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","fetch","method","body","JSON","stringify","address","json","handleSubmit","ev","confirmCardPayment","payment_method","card","getElement","CardElement","handleChange","listItem","fontWeight","Review","disablePadding","address1","address2","city","zip","country","promise","loadStripe","checkoutContainer","layout","stepper","buttons","steps","getStepContent","step","Checkout","activeStep","setActiveStep","setAddress","Stepper","Step","StepLabel","Fragment","addressForm","document","getElementById","addressFormData","FormData","addressData","click","CheckoutHeader","CheckoutFooter","getAllOrders","config","Orders","orders","setOrders","newAccessToken","overflowX","Table","TableHead","TableRow","TableCell","TableBody","order","date","split","alignContent","OrderReview","setOrder","setItems","purchasedItems","allProducts","itemsSummary","createHashmapFromPurchasedItems","shippingInfo","App","persistConfig","version","storage","reducer","combineReducers","cartReducer","authenticatonReducer","productReducer","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","createMuiTheme","typography","fontFamily","join","persistor","persistStore","ReactDOM","ThemeProvider","CookiesProvider"],"mappings":"kNAceA,EATM,SAACC,GAClB,IAAkBC,EAAsBD,EAAjCE,UAAyBC,EAAhC,YAAwCH,EAAxC,GACQI,EAAkBC,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAA1DH,cAER,OACI,cAAC,IAAD,2BAAWD,GAAX,IAAiBK,OAAQ,kBAAOJ,EAAgB,cAACH,EAAD,IAAgB,cAAC,IAAD,CAAUQ,GAAG,+B,gBCItEC,EATI,SAACV,GAChB,IAAkBC,EAAsBD,EAAjCE,UAAyBC,EAAhC,YAAwCH,EAAxC,GACQW,EAAUN,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAlDI,MAER,OACI,cAAC,IAAD,2BAAWR,GAAX,IAAiBK,OAAQ,kBAAOG,EAAQ,cAACV,EAAD,IAAgB,cAAC,IAAD,CAAUQ,GAAG,+B,gBCI9DG,EATS,SAACZ,GACrB,IAAkBC,EAAsBD,EAAjCE,UAAyBC,EAAhC,YAAwCH,EAAxC,GACQI,EAAkBC,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAA1DH,cAER,OACI,cAAC,IAAD,2BAAWD,GAAX,IAAiBK,OAAQ,kBAAQJ,EAAgC,cAAC,IAAD,CAAUK,GAAG,MAA7B,cAACR,EAAD,SCO1CY,eAbK,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAUlB,OATAC,qBAAU,WACN,IAAMC,EAAWF,EAAQG,QAAO,WAC9BC,OAAOC,SAAS,EAAG,MAErB,OAAO,WACLH,OAGH,IACK,Q,4FCdG,MAA0B,iC,2CCE5BI,EAAY,uCAAG,WAAOC,EAAkBC,GAAzB,SAAAC,EAAA,+EACjBC,IAAMC,KAAK,4BAA6B,CAACJ,WAAUC,YAAW,CAACI,iBAAiB,IACpFC,MAAK,SAAAC,GAAG,MAAK,CACZC,KAAMD,EAAIC,KACVC,OAAQF,EAAIE,WAEbC,OAAM,SAAAC,GACL,GAAGA,EAAMC,SACP,MAAQ,CACNJ,KAAMG,EAAMC,SAASJ,KACrBC,OAAQE,EAAMC,SAASH,QAEpB,MAAIE,EAAME,QACT,IAAIC,MAAMH,EAAME,SAEhB,IAAIC,MAAMH,EAAMI,aAfJ,2CAAH,wDAoBZC,EAAe,uCAAG,WAAOhB,EAAkBC,EAAkBgB,EAAeC,EAAmBC,GAA7E,SAAAjB,EAAA,+EACpBC,IAAMC,KAAK,+BAAgC,CAACJ,WAAUC,WAAUgB,QAAOC,YAAWC,YAAW,CAACd,iBAAiB,IACnHC,MAAK,SAAAC,GAAG,MAAK,CACZC,KAAMD,EAAIC,KACVC,OAAQF,EAAIE,WAEbC,OAAM,SAAAC,GACL,GAAGA,EAAMC,SACP,MAAQ,CACNJ,KAAMG,EAAMC,SAASJ,KACrBC,OAAQE,EAAMC,SAASH,QAEpB,MAAIE,EAAME,QACT,IAAIC,MAAMH,EAAME,SAEhB,IAAIC,MAAMH,EAAMI,aAfD,2CAAH,8DAoBfK,EAAa,uCAAG,sBAAAlB,EAAA,+EACpBC,IAAMkB,OAAO,6BAA8B,CAAChB,iBAAiB,IACjEC,MAAK,SAAAC,GAAG,MAAK,CACZC,KAAMD,EAAIC,KACVC,OAAQF,EAAIE,WAEbC,OAAM,SAAAC,GACL,GAAGA,EAAMC,SACP,MAAQ,CACNJ,KAAMG,EAAMC,SAASJ,KACrBC,OAAQE,EAAMC,SAASH,QAEpB,MAAIE,EAAME,QACT,IAAIC,MAAMH,EAAME,SAEhB,IAAIC,MAAMH,EAAMI,aAfD,2CAAH,qDCAbhB,EAAeuB,YACxB,0BADwC,uCAExC,WAAOC,EAAP,wBAAArB,EAAA,6DAAwCsB,EAAxC,EAAwCA,gBAAxC,SAEexB,EAAsBuB,EAAtBvB,SAAUC,EAAYsB,EAAZtB,SAFzB,SAG+BwB,EAA6BzB,EAAUC,GAHtE,UAI+B,OADjBW,EAHd,QAIoBH,OAJpB,yCAI2Ce,EAAgB,CAACT,QAASH,EAASJ,KAAKO,QAASN,OAAQG,EAASH,UAJ7G,cAKQiB,QAAQC,IAAIf,GALpB,kBAMeA,GANf,mIAFwC,yDAe/BI,EAAkBM,YAC3B,6BAD2C,uCAE3C,WAAOC,EAAP,8BAAArB,EAAA,6DAA2CsB,EAA3C,EAA2CA,gBAA3C,SAEexB,EAAkDuB,EAAlDvB,SAAUC,EAAwCsB,EAAxCtB,SAAUgB,EAA8BM,EAA9BN,MAAOC,EAAuBK,EAAvBL,UAAWC,EAAYI,EAAZJ,SAFrD,SAG+BM,EAAgCzB,EAAUC,EAAUgB,EAAOC,EAAWC,GAHrG,UAI+B,OADjBP,EAHd,QAIoBH,OAJpB,yCAI2Ce,EAAgB,CAACT,QAASH,EAASJ,KAAKO,QAASN,OAAQG,EAASH,UAJ7G,gCAKeG,GALf,mIAF2C,yDAclCQ,EAAgBE,YACzB,2BADyC,uCAEzC,WAAQd,EAAR,sBAAAN,EAAA,6DAA2BsB,EAA3B,EAA2BA,gBAA3B,SAEgBT,EAAYP,EAAZO,QAFhB,SAG+BU,IAH/B,cAGcb,EAHd,OAIQc,QAAQC,IAAIZ,GAJpB,kBAKeH,GALf,2DAOeY,EAAgB,EAAD,KAP9B,kEAFyC,yDAchCI,EAAoBC,YAAY,CACzCC,KAAM,eACNC,aArD+B,CAC/BC,SAAS,EACTjD,eAAe,EACfO,OAAO,EACP2C,YAAa,GACbC,KAAM,IAiDNC,SAAU,CACNC,kBAAmB,SAACnD,EAAOoD,GACvBpD,EAAMgD,YAAcI,EAAOC,SAE/BC,aAAc,SAACtD,GACXA,EAAMK,OAAQ,EACdL,EAAMF,eAAgB,EACtBE,EAAMgD,YAAc,GACpBhD,EAAMiD,KAAO,KAGrBM,cAAe,SAACC,GACZA,EAAQC,QAAQ3C,EAAa4C,WAAW,SAAC1D,EAAOoD,GAC5CpD,EAAM+C,SAAU,EAChB/C,EAAMF,eAAgB,EACtBE,EAAMiD,KAAOG,EAAOC,QAAQ9B,KAAK0B,KACjCjD,EAAMgD,YAAcI,EAAOC,QAAQ9B,KAAKyB,YACrCI,EAAOC,QAAQ9B,KAAK0B,KAAK5C,QAAOL,EAAMK,OAAQ,MAErDmD,EAAQC,QAAQ3C,EAAa6C,UAAU,SAAC3D,EAAOoD,GAC3CpD,EAAM+C,SAAU,EAChB/C,EAAMF,eAAgB,KAE1B0D,EAAQC,QAAQ1B,EAAgB2B,WAAW,SAAC1D,EAAOoD,GAC/CpD,EAAM+C,SAAU,EAChB/C,EAAMF,eAAgB,EACtBE,EAAMiD,KAAOG,EAAOC,QAAQ9B,KAAK0B,KACjCjD,EAAMgD,YAAcI,EAAOC,QAAQ9B,KAAKyB,YACrCI,EAAOC,QAAQ9B,KAAK0B,KAAK5C,QAAOL,EAAMK,OAAQ,MAErDmD,EAAQC,QAAQ1B,EAAgB4B,UAAU,SAAC3D,EAAOoD,GAC9CpD,EAAM+C,SAAU,EAChB/C,EAAMF,eAAgB,KAE1B0D,EAAQC,QAAQtB,EAAcuB,WAAW,SAAC1D,EAAOoD,GAC7CpD,EAAMF,eAAgB,EACtBE,EAAMK,OAAQ,EACdL,EAAMiD,KAAO,GACbjD,EAAMgD,YAAc,SAKzB,EAA4CL,EAAkBiB,QAAtDN,EAAR,EAAQA,aAAcH,EAAtB,EAAsBA,kBACdR,IAAf,Q,gEC9HMkB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,OAAQ,CACJC,MAAO,YAyFAC,GAxEU,SAACxE,GACtB,IAAMyE,EAAUN,KAChB,EAA4B,CAACnE,EAAMsE,OAAQtE,EAAM0E,WAA1CJ,EAAP,KAAeI,EAAf,KACA,EAAwBC,mBAAe,CAACC,QAAQ,EAAOC,KAAM,SAAUC,KAAM,UAA7E,mBAAOvE,EAAP,KAAawE,EAAb,KACA,EAAoCJ,oBAAkB,GAAtD,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAiC5E,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAjEH,EAAR,EAAQA,cAAeO,EAAvB,EAAuBA,MAEvBI,qBAAU,WACcgE,EAAjB3E,EAAyB,CAACwE,QAAQ,EAAMC,KAAM,UAAWC,KAAM,WAC1D,CAACF,QAAQ,EAAOC,KAAM,SAAUC,KAAM,YAC/C,CAAC1E,IAEJW,qBAAU,WACMkE,IAATtE,KAEJ,CAACA,IAEJ,IAAMuE,EAAe,SAACC,GAAD,OAAmB,SAAEC,IAEnB,YAAfA,EAAMC,MACkC,QAAtCD,EAA8BE,KACO,UAAtCF,EAA8BE,MAGnCZ,EAAUS,KAuCd,OACI,8BACE,cAACI,GAAA,EAAD,CAAQC,OAAO,QAAQL,KAAMb,EAAQmB,QAASP,GAAa,GAA3D,SArCF,qBAAKQ,KAAK,eAAeC,UAAWT,GAAa,GAAQU,QAASV,GAAa,GAAQW,UAAWpB,EAAQH,OAA1G,SACI,eAACwB,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAUC,QAAM,EAAC9F,UAAW+F,IAAYxF,GAAI,cAA5C,SACI,cAACyF,EAAA,EAAD,CAAcC,QAAQ,iBAEzBnB,EACG,cAACe,EAAA,EAAD,CAAUC,QAAM,EAAC9F,UAAW+F,IAAYxF,GAAI,UAA5C,SACI,cAACyF,EAAA,EAAD,CAAcC,QAAQ,sBAG1B,cAACJ,EAAA,EAAD,CAAUC,QAAM,EAAC9F,UAAW+F,IAAYxF,GAAI,YAA5C,SACI,cAACyF,EAAA,EAAD,CAAcC,QAAQ,eAI9B,cAACJ,EAAA,EAAD,CAAUC,QAAM,EAAC9F,UAAW+F,IAAYxF,GAAI,WAA5C,SACI,cAACyF,EAAA,EAAD,CAAcC,QAAQ,iBAE1B,cAACJ,EAAA,EAAD,CAAUC,QAAM,EAAC9F,UAAW+F,IAAYxF,GAAI,UAA5C,SACI,cAACyF,EAAA,EAAD,CAAcC,QAAQ,kBAE1B,cAACC,EAAA,EAAD,IACC7F,EAAKqE,OACF,cAACmB,EAAA,EAAD,CAAUC,QAAM,EAACJ,QAAS5F,EAAMqG,aAAhC,SACI,cAACH,EAAA,EAAD,CAAcC,QAAQ,cAG1B,cAACJ,EAAA,EAAD,CAAUC,QAAM,EAAC9F,UAAW+F,IAAYxF,GAAI,wBAA5C,SACI,cAACyF,EAAA,EAAD,CAAcC,QAAQ,sBCtExChC,GAAYC,aAAW,SAACC,GAAD,YAAY,CACrCiC,OAAO,aACHC,QAAS,SACTC,QAAS,OACTjC,MAAO,MACPkC,OAAQ,OACRC,eAAgB,WAChB,MAAO,CACHC,eAAgB,OAChBC,MAAO,QACP,UAAW,CACPA,MAAO,YAGfC,SAAU,OACVC,QAAS,IACRzC,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BR,QAAS,SAGjBS,OAAQ,CACJ1C,MAAO,MACPkC,OAAQ,OACRD,QAAS,OACTU,WAAY,SACZR,eAAgB,eAChBG,SAAU,QAEdM,aAAW,GACPX,QAAS,OACTY,UAAW,OACXb,QAAS,GAHF,cAINlC,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BR,QAAS,SALN,qBAOD,GAPC,+BAQS,cART,cASP,MAAO,CACHG,eAAgB,OAChBC,MAAO,QACP,UAAW,CACPA,MAAO,aAbR,cAgBP,OAAO,CACHJ,QAAS,OACTU,WAAY,WAlBT,GAqBXG,iBAAkB,CACdb,QAAS,OACTU,WAAY,UAEhBI,cAAc,aACVC,SAAU,GACTlD,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BR,QAAS,SAGjBgB,eAAe,aACXC,KAAM,EACNf,eAAgB,WAChBF,QAAS,OACTY,UAAW,OACXb,QAAS,EACTW,WAAY,SACZP,eAAgB,QACftC,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BS,KAAM,IAGdC,SAAS,eACJrD,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BR,QAAS,SAGjBmB,UAAU,aACNnB,QAAS,QACRnC,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BR,QAAS,UAGjBoB,cAAe,CACXC,WAAY,UACZC,SAAU,SACVC,IAAK,EACLC,OAAQ,KAEZC,WAAY,CACR1B,QAASlC,EAAM6D,QAAQ,EAAG,GAC1BC,OAAQ,OACRL,SAAU,WACVM,cAAe,OACf5B,QAAS,OACTU,WAAY,SACZR,eAAgB,UAEpB2B,OAAO,aACHP,SAAU,WACVQ,aAAcjE,EAAMkE,MAAMD,aAC1BE,YAAanE,EAAM6D,QAAQ,GAC3BO,WAAY,EACZlE,MAAO,QACNF,EAAM0C,YAAY2B,GAAG,MAAQ,CAC5BD,WAAYpE,EAAM6D,QAAQ,GAC1B3D,MAAO,SAGboE,YAAa,CACTC,YAAY,cAAD,OAAgBvE,EAAM6D,QAAQ,GAA9B,YAUbW,GAAiB,SAAC7I,GACpB,IAAO6E,EAAc7E,EAAd6E,KAAMC,EAAQ9E,EAAR8E,KACb,OACI,cAAC,IAAD,CAAYrE,GAAE,yBAAoBoE,GAAQiE,MAAO,CAACnC,eAAgB,OAAQC,MAAO,SAAjF,SACI,cAACmC,EAAA,EAAD,UAAajE,OAgGVkE,GA3FA,WACX,IAAMvE,EAAUN,KACV8E,EAAWC,cACjB,EAAwBvE,mBAAe,CAACC,QAAQ,EAAOC,KAAM,SAAUC,KAAM,UAA7E,mBAAOvE,EAAP,KAAawE,EAAb,KACA,EAA4BJ,oBAAkB,GAA9C,mBAAOL,EAAP,KAAeI,EAAf,KACA,EAAoCC,oBAAkB,GAAtD,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAiC5E,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAjEH,EAAR,EAAQA,cAAeO,EAAvB,EAAuBA,MACfwI,EAAU9I,aAAY,SAACC,GAAD,OAAsBA,EAAM8I,QAAlDD,MAERpI,qBAAU,WACcgE,EAAjB3E,EAAyB,CAACwE,QAAQ,EAAMC,KAAM,UAAWC,KAAM,WAC1D,CAACF,QAAQ,EAAOC,KAAM,SAAUC,KAAM,YAC/C,CAAC1E,IAEJW,qBAAU,WACMkE,IAATtE,KAEJ,CAACA,IAEJ,IAAM0F,EAAY,uCAAG,sBAAA9E,EAAA,sEACX0H,EAASxG,EAAc,CAACL,QAAS,oBAClCT,MAAK,SAAAC,GAAG,OAAImB,QAAQC,IAAIpB,MAFZ,2CAAH,qDAMlB,OACI,qCACI,qBAAKiE,UAAWpB,EAAQ6B,OAAxB,SACI,sBAAKT,UAAWpB,EAAQ4C,iBAAxB,UACI,cAAC0B,EAAA,EAAD,CAAY7I,UAAW+F,IAAYxF,GAAG,WAAtC,wBACA,cAACsI,EAAA,EAAD,CAAYD,MAAO,CAACrC,OAAQ,UAA5B,oBACA,cAACsC,EAAA,EAAD,CAAY7I,UAAW+F,IAAYxF,GAAG,UAAtC,8BAGR,qBAAKoF,UAAWpB,EAAQmD,cAAxB,SACI,qBAAK/B,UAAWpB,EAAQwC,OAAxB,SACI,qBAAI6B,MAAO,CAACvE,MAAO,OAAQiC,QAAS,OAAQY,UAAW,OAAQb,QAAS,GAAxE,UACI,oBAAIuC,MAAO,CAACrB,KAAM,GAAlB,SACI,cAAC4B,EAAA,EAAD,CAAMnJ,UAAW+F,IAAYxF,GAAG,IAAhC,SACA,qBAAK6I,IAAKC,EAAMC,IAAI,GAAGV,MAAO,CAACX,OAAQ,GAAI5D,MAAO,UAGtD,qBAAIsB,UAAWpB,EAAQ0C,YAAvB,UACI,oBAAI2B,MAAO,CAACN,YAAa,IAAzB,SACI,cAAC,IAAD,CAAY/H,GAAG,cAAf,SACI,cAACsI,EAAA,EAAD,6BAIP/D,EACG,oBAAI8D,MAAO,CAACN,YAAa,IAAzB,SACI,cAAC,IAAD,CAAY/H,GAAG,UAAf,SACI,cAACsI,EAAA,EAAD,kCAIR,oBAAID,MAAO,CAACN,YAAa,IAAzB,SACI,cAAC,IAAD,CAAY/H,GAAG,YAAf,SACI,cAACsI,EAAA,EAAD,8BAKhB,qBAAKlD,UAAWpB,EAAQ6C,gBACxB,qBAAIzB,UAAWpB,EAAQ+C,eAAvB,UACI,oBAAIsB,MAAO,CAACN,YAAa,IAAK3C,UAAWpB,EAAQiD,SAAjD,SACMnH,EAAKqE,OACH,cAAC6E,EAAA,EAAD,CAAQ7D,QAASS,EAAjB,qBADY,cAAC,GAAD,eAAoB9F,MAIxC,6BACI,cAACmJ,EAAA,EAAD,CAAYxJ,UAAW+F,IAAYxF,GAAG,QAAtC,SACI,cAACkJ,EAAA,EAAD,CAAO/C,MAAM,YAAYgD,aAAcT,EAAvC,SACI,cAAC,IAAD,UAIZ,oBAAItD,UAAWpB,EAAQkD,UAAvB,SACI,cAAC+B,EAAA,EAAD,CAAY9D,QAAS,kBAAMlB,GAAU,SAAAmF,GAAa,OAAKA,MAAvD,SACI,cAAC,IAAD,kBAOxB,cAAC,GAAD,CAAQvF,OAAQA,EAAQI,UAAWA,EAAW2B,aAAcA,QC3NlElC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCuD,cAAe,CACXO,OAAQ,OACRN,WAAY,UACZC,SAAU,YAEdgC,kBAAmB,CACfvF,MAAO,MACPuD,SAAU,WACVC,IAAK,MACLgC,KAAM,MACNC,UAAW,uBACXhC,OAAQ,GAEZiC,SAAS,aACL1F,MAAO,OACNF,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BzC,MAAO,QAGf2F,WAAY,CACRC,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,IAEhCmC,OAAQ,CACJvC,SAAU,WACVvD,MAAO,OACP4D,OAAQ,OACRH,OAAQ,EACR,QAAS,CACLG,OAAQ,OACRL,SAAU,WACVwC,MAAO,EACPvC,IAAK,MACLiC,UAAW,2BAwBRO,GAnBF,WACT,IAAM9F,EAAUN,KACRxD,EAAUN,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAlDI,MAER,OACI,sBAAKkF,UAAWpB,EAAQmD,cAAxB,UACI,sBAAK/B,UAAWpB,EAAQqF,kBAAxB,UACI,cAACf,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAc,EAAM5E,UAAWpB,EAAQwF,SAAhE,sEACA,cAAClB,EAAA,EAAD,CAAYyB,QAAQ,QAApB,2DACA,qBAAK3E,UAAWpB,EAAQyF,WAAxB,SACI,cAACT,EAAA,EAAD,CAAQ7C,MAAM,UAAU4D,QAAQ,YAAYtK,UAAW+F,IAAYxF,GAAIE,EAAQ,UAAY,WAA3F,2BAGR,qBAAKkF,UAAWpB,EAAQ4F,a,oBC1DrB,OAA0B,kCCA1B,OAA0B,oCCA1B,OAA0B,oCCUnClG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,OACR0D,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,IAEhCyC,oBAAqB,CACjB9C,WAAY,UACZrB,QAAS,OACT2B,OAAQ,OACRjB,WAAY,SACZ0D,UAAW,QACXC,UAAW,SAEfC,gBAAiB,CACbrD,KAAM,EACN,QAAS,CACLlD,MAAO,OACPqG,UAAW,QACXG,UAAW,UAGnBC,sBAAuB,CACnBzE,QAAS,EACTkB,KAAM,KAEVwD,qBAAsB,CAClBC,aAAc,yBAoDPC,GAhDU,WACrB,IAAM1G,EAAUN,KACRxD,EAAUN,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAlDI,MAER,OACI,qBAAKkF,UAAWpB,EAAQiG,UAAxB,SACI,eAACU,GAAA,EAAD,CAAMV,WAAS,EAACxC,QAAS,EAAzB,UACI,cAACkD,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAA7B,SACI,eAACC,GAAA,EAAD,CAAO5F,UAAWpB,EAAQkG,oBAA1B,UACI,qBAAK9E,UAAWpB,EAAQqG,gBAAxB,SACI,qBAAKxB,IAAKoC,GAAOlC,IAAI,OAEzB,sBAAK3D,UAAWpB,EAAQuG,sBAAxB,UACI,cAACjC,EAAA,EAAD,CAAYyB,QAAQ,KAApB,wBACA,cAACzB,EAAA,EAAD,CAAY4C,WAAS,EAAC/E,MAAM,gBAA5B,mDACA,cAAC6C,EAAA,EAAD,CAAQ5D,UAAWpB,EAAQwG,qBAAsBnC,MAAO,CAACR,aAAc,GAAIpI,UAAW+F,IAAYxF,GAAIE,EAAQ,2BAA6B,6BAA3I,8BAIZ,cAACyK,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAA7B,SACI,eAACC,GAAA,EAAD,CAAO5F,UAAWpB,EAAQkG,oBAA1B,UACI,qBAAK9E,UAAWpB,EAAQqG,gBAAxB,SACI,qBAAKxB,IAAKsC,GAASpC,IAAI,OAE3B,sBAAK3D,UAAWpB,EAAQuG,sBAAxB,UACI,cAACjC,EAAA,EAAD,CAAYyB,QAAQ,KAApB,yBACA,cAACzB,EAAA,EAAD,CAAY4C,WAAS,EAAC/E,MAAM,gBAA5B,yDACA,cAAC6C,EAAA,EAAD,CAAQ5D,UAAWpB,EAAQwG,qBAAsBnC,MAAO,CAACR,aAAc,GAAIpI,UAAW+F,IAAYxF,GAAIE,EAAQ,6BAA+B,+BAA7I,8BAIZ,cAACyK,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAA7B,SACI,eAACC,GAAA,EAAD,CAAO5F,UAAWpB,EAAQkG,oBAA1B,UACI,qBAAK9E,UAAWpB,EAAQqG,gBAAxB,SACI,qBAAKxB,IAAKuC,GAASrC,IAAI,OAE3B,sBAAK3D,UAAWpB,EAAQuG,sBAAxB,UACI,cAACjC,EAAA,EAAD,CAAYyB,QAAQ,KAApB,0BACA,cAACzB,EAAA,EAAD,CAAY4C,WAAS,EAAC/E,MAAM,gBAA5B,yDACA,cAAC6C,EAAA,EAAD,CAAQ5D,UAAWpB,EAAQwG,qBAAsBnC,MAAO,CAACR,aAAc,GAAIpI,UAAW+F,IAAYxF,GAAIE,EAAQ,yBAA2B,2BAAzI,oC,4DCrDfmL,GAAY5I,YAAY,CACnCC,KAAM,OACNC,aAR8B,CAC9B2I,MAAO,GACPC,MAAO,EACP7C,MAAO,GAMP3F,SAAU,CACRyI,UAAW,SAAC3L,EAAOoD,GACjBpD,EAAM6I,QACN7I,EAAM0L,MAAQ1L,EAAM0L,MAAQtI,EAAOC,QAAQuI,MAC3C5L,EAAMyL,MAAMI,KAAKzI,EAAOC,UAE1ByI,eAAgB,SAAC9L,EAAOoD,GACtB,IAAM2I,EAAgB/L,EAAMyL,MAAMO,QAAO,SAAAjB,GAAI,OAAIA,EAAKkB,MAAQ7I,EAAOC,QAAQ6I,MAC7ElM,EAAMyL,MAAQM,EACd/L,EAAM6I,MAAQkD,EAAcI,OAC5BnM,EAAM0L,MAAQ1L,EAAM0L,MAAQtI,EAAOC,QAAQuI,MAAQxI,EAAOC,QAAQ+I,QAEpEC,WAAY,SAACrM,EAAOoD,GAClB,IAAMkJ,EAAkBlJ,EAAOC,QAAQ9B,KAAKgL,mBACxCC,EAAiBxM,EAAMyL,MAC3Ba,EAAgBG,SAAQ,SAACC,GACvB,IAAMC,EAAwBH,EAAeR,QAAO,SAAAY,GAAO,OAAIA,EAAQX,MAAQS,KAC/EF,EAAiBG,KAEnB3M,EAAMyL,MAAQe,EACdxM,EAAM6I,MAAQ2D,EAAeL,QAE/BU,UAAW,SAAC7M,GACVA,EAAMyL,MAAQ,GACdzL,EAAM0L,MAAQ,EACd1L,EAAM6I,MAAQ,MAKb,GAA6D2C,GAAU5H,QAA/D+H,GAAR,GAAQA,UAAWG,GAAnB,GAAmBA,eAAgBO,GAAnC,GAAmCA,WAAYQ,GAA/C,GAA+CA,UACvCrB,MAAf,QCrDM3H,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC+I,QAAS,CACL7I,MAAO,OACPkC,OAAQ,UAEZ4G,MAAO,CACHlF,OAAQ,EACRmF,WAAY,YA2ELC,GAtDY,SAACvN,GACxB,IAAMyE,EAAUN,KAChB,EAAgCQ,mBAAiB,IAAjD,mBAAO6I,EAAP,KAAiBC,EAAjB,KACA,EAAgC9I,mBAAyB,IAAzD,mBAAO+I,EAAP,KAAiBC,EAAjB,KACM1E,EAAWC,cAajB,OAXAnI,qBAAU,WACN0M,EAAYzN,EAAMwN,YACnB,CAACxN,EAAMwN,WAEVzM,qBAAU,WACU,KAAbyM,GACHhM,IAAMoM,IAAN,4CAA+CJ,IAC1C7L,MAAK,SAAAC,GAAG,OAAI+L,EAAY/L,EAAIC,KAAK6L,aACjC3L,OAAM,SAAA8L,GAAG,OAAI9K,QAAQC,IAAI6K,QAC/B,CAACL,IAEDE,GAAYA,EAASjB,OAAS,EAC7B,0BAAS5G,UAAWpB,EAAQ2I,QAA5B,UACI,cAACrE,EAAA,EAAD,CAAYyB,QAAQ,KAAKsD,MAAM,SAASrD,cAAc,EAAtD,SAA6DzK,EAAM+N,QACnE,cAAC3C,GAAA,EAAD,CAAMV,WAAS,EAACxC,QAAS,EAAzB,SACKwF,EAASM,KAAI,SAACd,GAAD,OACV,cAAC9B,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAA7B,SACI,eAACyC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWC,MAAOjB,EAAQiB,MAAMC,IAAKvI,UAAWpB,EAAQ4I,MAAOU,MAAM,YACrE,eAACM,GAAA,EAAD,WACI,cAACtF,EAAA,EAAD,CAAY0B,cAAY,EAACD,QAAQ,KAAKtK,UAAU,KAAhD,SACKgN,EAAQ/J,OAEb,sBAAK2F,MAAO,CAACtC,QAAS,OAAQU,WAAY,UAA1C,UACI,eAAC6B,EAAA,EAAD,CAAYyB,QAAQ,KAApB,cAA2B0C,EAAQhB,SACnC,cAACoC,GAAA,EAAD,CAAQC,UAAQ,EAACC,aAAc,IAAKC,UAAW,QAEnD,cAAC1F,EAAA,EAAD,CAAYyB,QAAQ,QAAQ5D,MAAM,gBAAgB+E,WAAS,EAA3D,SACKuB,EAAQwB,iBAGjB,eAACC,GAAA,EAAD,WACI,cAAClF,EAAA,EAAD,CAAQ7C,MAAM,YAAY4D,QAAQ,WAAW5E,QAAS,kBAAMqD,EAASgD,GAAUiB,KAA/E,yBACA,cAACzD,EAAA,EAAD,CAAQ7C,MAAM,UAAU1G,UAAW+F,IAAYxF,GAAE,mBAAcyM,EAAQX,KAAvE,8BAjB0BW,EAAQX,aA0B1D,8BACI,cAACqC,GAAA,EAAD,CAAkBhI,MAAM,eClF9BzC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,YAgBDoI,GAZQ,WACnB,IAAMpK,EAAUN,KAEhB,OACI,sBAAK0B,UAAWpB,EAAQiG,UAAxB,UACI,cAAC,GAAD,CAAoB8C,SAAS,YAAYO,MAAM,yBAC/C,cAAC,GAAD,CAAoBP,SAAS,cAAcO,MAAM,wCACjD,cAAC,GAAD,CAAoBP,SAAS,UAAUO,MAAM,0CCH1Ce,GAVD,WACV,OACI,qCACI,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,Q,kDCFN3K,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqG,UAAW,CACTnG,MAAO,OACP4D,OAAQ,QACR3B,QAAS,OACTU,WAAY,SACZR,eAAgB,UAElBqI,MAAO,CACLvI,QAAS,OACTwI,cAAe,SACf9H,WAAY,UAEd+H,OAAQ,CACNxI,OAAQpC,EAAM6D,QAAQ,GACtBgH,gBAAiB7K,EAAM8K,QAAQC,UAAUC,MAE3CC,KAAM,CACJ/K,MAAO,OACP4F,UAAW9F,EAAM6D,QAAQ,IAE3BqH,OAAQ,CACN9I,OAAQpC,EAAM6D,QAAQ,EAAG,EAAG,IAE9BrD,KAAM,CACJ8B,eAAgB,OAChBC,MAAO,QACP,UAAW,CACTA,MAAO,gBAWP4I,GAAuB,SAACC,EAA6DrN,GACzFqN,EAAO,CAACzN,OAAO,EAAMI,aA4DRsN,GAxDD,WACZ,MAAwC/K,mBAAuB,CAAC3C,OAAO,EAAOI,QAAS,KAAvF,mBAAOuN,EAAP,KAAqBC,EAArB,KACMnL,EAAUN,KACVrD,EAAU+O,cACV5G,EAAWC,cAEX4G,EAAkB,uCAAG,WAAOC,GAAP,mBAAAxO,EAAA,yDACzBwO,EAAEC,iBACIC,EAASF,EAAEE,OAKX5O,EAAW4O,EAAO5O,SAAS6O,MAC3B5O,EAAW2O,EAAO3O,SAAS4O,MAEjB,KAAb7O,GAAgC,KAAbC,EAVG,uBAWvBkO,GAAqBI,EAAiB,uBAXf,2CAanB3G,EAAS7H,EAAa,CAACC,WAAUC,cACpCK,MAAK,SAAAC,GACsB,MAAvBA,EAAI+B,QAAQ7B,OACfhB,EAAQqL,KAAK,KADmBqD,GAAqBI,EAAiBhO,EAAI+B,QAAQvB,YAf7D,4CAAH,sDAqBxB,OACE,cAAC+N,GAAA,EAAD,CAAWjQ,UAAU,OAAOkQ,SAAS,KAAKvK,UAAWpB,EAAQiG,UAA7D,SACE,sBAAK7E,UAAWpB,EAAQsK,MAAxB,UACE,cAACsB,GAAA,EAAD,CAAQxK,UAAWpB,EAAQwK,OAA3B,SACE,cAAC,KAAD,MAEF,cAAClG,EAAA,EAAD,CAAY7I,UAAU,KAAKsK,QAAQ,KAAnC,qBAGCmF,EAAa3N,OAAS,cAAC+G,EAAA,EAAD,CAAYnC,MAAM,QAAQkH,MAAM,SAAStD,QAAQ,QAAjD,SAA0DmF,EAAavN,UAC9F,uBAAMyD,UAAWpB,EAAQ6K,KAAMgB,YAAU,EAACC,SAAUT,EAApD,UACE,cAACU,GAAA,EAAD,CAAWhG,QAAQ,WAAW/D,OAAO,SAASgK,UAAQ,EAACC,WAAS,EAAClE,GAAG,WAAWmE,MAAM,WAAWtL,KAAK,OAAOlC,KAAK,WAAWyN,WAAS,IACrI,cAACJ,GAAA,EAAD,CAAWhG,QAAQ,WAAW/D,OAAO,SAASgK,UAAQ,EAACC,WAAS,EAACvN,KAAK,WAAWwN,MAAM,WAAWtL,KAAK,WAAWmH,GAAG,WAAWqE,aAAa,qBAC7I,cAACpH,EAAA,EAAD,CAAQpE,KAAK,SAASqL,WAAS,EAAClG,QAAQ,YAAY5D,MAAM,UAAUf,UAAWpB,EAAQ8K,OAAvF,qBAGA,cAACnE,GAAA,EAAD,CAAMV,WAAS,EAAf,SACE,cAACU,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,cAAC,IAAD,CAAY5K,GAAG,2BAA2BoF,UAAWpB,EAAQI,KAA7D,SACE,cAACkE,EAAA,EAAD,CAAYyB,QAAQ,QAApB,2D,oBChGHsG,GAAkB,uCAAG,WAAOxO,GAAP,SAAAf,EAAA,+EACvBC,IAAMC,KAAK,0BAA2B,CAACa,UAC7CX,MAAK,SAAAC,GAAG,OAAImP,MAAMnP,EAAIC,KAAKO,YAC3BL,OAAM,SAACC,GACJ,OAAGA,EAAMC,SACED,EAAMC,SAASJ,KAAKO,QACpBJ,EAAME,QACNF,EAAME,QAENF,EAAMI,YATS,2CAAH,sDCQzB+B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqG,UAAW,CACTnG,MAAO,OACP4D,OAAQ,QACR3B,QAAS,OACTU,WAAY,SACZR,eAAgB,UAElBqI,MAAO,CACLvI,QAAS,OACTwI,cAAe,SACf9H,WAAY,UAEd+H,OAAQ,CACNxI,OAAQpC,EAAM6D,QAAQ,GACtBgH,gBAAiB7K,EAAM8K,QAAQC,UAAUC,MAE3CC,KAAM,CACJ/K,MAAO,OACP4F,UAAW9F,EAAM6D,QAAQ,IAE3BqH,OAAQ,CACN9I,OAAQpC,EAAM6D,QAAQ,EAAG,EAAG,IAE9BrD,KAAM,CACJ8B,eAAgB,OAChBC,MAAO,QACP,UAAW,CACTA,MAAO,gBAUP4I,GAAuB,SAACC,EAA6DrN,GACzFqN,EAAO,CAACzN,OAAO,EAAMI,aAiHR4O,GA9GE,WACf,MAAgCrM,mBAAiB,IAAjD,mBAAOrD,EAAP,KAAiB2P,EAAjB,KACA,EAAkDtM,oBAAkB,GAApE,mBAAOuM,EAAP,KAA0BC,EAA1B,KACA,EAAkCxM,oBAAkB,GAApD,mBAAOyM,EAAP,KAAkBC,EAAlB,KACA,EAAwC1M,mBAAuB,CAAC3C,OAAO,EAAOI,QAAS,KAAvF,mBAAOuN,EAAP,KAAqBC,EAArB,KACMnL,EAAUN,KACV8E,EAAWC,cAGXoI,GAFUzB,cAEW,uCAAG,WAAOE,GAAP,2BAAAxO,EAAA,yDAC5BwO,EAAEC,iBAEEkB,EAHwB,uBAGH1B,GAAqBI,EAAiB,2BAHnC,6BAKtBK,EAASF,EAAEE,OASX3N,EAAQ2N,EAAO3N,MAAM4N,MACrB3N,EAAY0N,EAAO1N,UAAU2N,MAC7B1N,EAAWyN,EAAOzN,SAAS0N,MAC3B7O,EAAW4O,EAAO5O,SAAS6O,MAC3B5O,EAAW2O,EAAO3O,SAAS4O,MAEpB,KAAV5N,GAA8B,KAAdC,GAAiC,KAAbC,GAAgC,KAAbnB,GAAgC,KAAbC,EApBjD,wBAqB1BkO,GAAqBI,EAAiB,wBArBZ,8BAuBtB2B,EAAkBtB,EAAOuB,gBAAgBtB,MAC5C5O,IAAaiQ,EAxBY,wBAwBO/B,GAAqBI,EAAiB,0BAxB7C,4CA0BtB3G,EAAS5G,EAAgB,CAAChB,WAAUC,WAAUgB,QAAOC,YAAWC,cACnEb,MAAK,SAAAC,GACsB,MAAvBA,EAAI+B,QAAQ7B,QAAiB0N,GAAqBI,EAAiBhO,EAAI+B,QAAQ9B,KAAKO,YAExFT,MAAK,WACJ,GAAGyP,EAAW,OAAON,GAAmBxO,MAEzCX,MAAK,SAACE,GACLkB,QAAQC,IAAInB,MAlCY,4CAAH,uDAgD3B,OACE,cAACsO,GAAA,EAAD,CAAWjQ,UAAU,OAAOkQ,SAAS,KAAKvK,UAAWpB,EAAQiG,UAA7D,SACE,sBAAK7E,UAAWpB,EAAQsK,MAAxB,UACE,cAACsB,GAAA,EAAD,CAAQxK,UAAWpB,EAAQwK,OAA3B,SACE,cAAC,KAAD,MAEF,cAAClG,EAAA,EAAD,CAAY7I,UAAU,KAAKsK,QAAQ,KAAnC,qBAGCmF,EAAa3N,OAAS,cAAC+G,EAAA,EAAD,CAAYnC,MAAM,QAAQkH,MAAM,SAAStD,QAAQ,QAAjD,SAA0DmF,EAAavN,UAC9F,uBAAMyD,UAAWpB,EAAQ6K,KAAMgB,YAAU,EAACC,SAAUe,EAApD,UACE,eAAClG,GAAA,EAAD,CAAMV,WAAS,EAACxC,QAAS,EAAzB,UACE,cAACkD,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACE,cAACiF,GAAA,EAAD,CAAWK,aAAa,QAAQ1N,KAAK,YAAYqH,QAAQ,WAAWiG,UAAQ,EAACC,WAAS,EAAClE,GAAG,YAAYmE,MAAM,aAAaC,WAAS,MAEpI,cAACxF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACE,cAACiF,GAAA,EAAD,CAAWhG,QAAQ,WAAWiG,UAAQ,EAACC,WAAS,EAAClE,GAAG,WAAWmE,MAAM,YAAYxN,KAAK,WAAW0N,aAAa,YAEhH,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAf,SACE,cAACgF,GAAA,EAAD,CAAWhG,QAAQ,WAAWiG,UAAQ,EAACC,WAAS,EAAClE,GAAG,WAAWmE,MAAM,WAAWxN,KAAK,WAAWkC,KAAK,WAEvG,cAAC+F,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAf,SACE,cAACgF,GAAA,EAAD,CAAWhG,QAAQ,WAAWiG,UAAQ,EAACC,WAAS,EAAClE,GAAG,QAAQmE,MAAM,gBAAgBxN,KAAK,QAAQ0N,aAAa,YAE9G,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAf,SACE,cAACgF,GAAA,EAAD,CAAWhG,QAAQ,WAAWiG,UAAQ,EAACC,WAAS,EAACvN,KAAK,WAAWwN,MAAM,WAAWtL,KAAK,WAAWmH,GAAG,WAAWqE,aAAa,mBAAmBY,SAAU,SAAC1B,GAA4CkB,EAAYlB,EAAEE,OAAOC,YAE9N,cAAC9E,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAf,SACE,cAACgF,GAAA,EAAD,CAAWxO,OAAQkP,EAAmB1G,QAAQ,WAAWiG,UAAQ,EAACC,WAAS,EAACvN,KAAK,kBAAkBwN,MAAM,mBAAmBtL,KAAK,WAAWmH,GAAG,kBAAkBiF,SAtC7I,SAAC1B,GACPA,EAAEE,OAAOC,QACV5O,EACvB6P,GAAqB,GADaA,GAAqB,QAsC/C,cAAC/F,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAf,SACE,cAACkG,GAAA,EAAD,CACEC,QAAS,cAACC,GAAA,EAAD,CAAU1B,MAAM,mBAAmBtJ,MAAM,UAAUiL,QAAST,EAAWK,SApCtE,SAAC1B,GACvBsB,EAAatB,EAAEE,OAAO4B,YAoCVlB,MAAM,oFAIZ,cAAClH,EAAA,EAAD,CAAQpE,KAAK,SAASqL,WAAS,EAAClG,QAAQ,YAAY5D,MAAM,UAAUf,UAAWpB,EAAQ8K,OAAvF,qBAGA,cAACnE,GAAA,EAAD,CAAMV,WAAS,EAAf,SACE,cAACU,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,cAAC,IAAD,CAAY5K,GAAG,wBAAwBoF,UAAWpB,EAAQI,KAA1D,SACE,cAACkE,EAAA,EAAD,CAAYyB,QAAQ,QAApB,6DC1ID3B,GATQ,WACnB,OACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOiJ,OAAK,EAACC,KAAK,wBAAwB7R,UAAWwP,KACrD,cAAC,IAAD,CAAOoC,OAAK,EAACC,KAAK,2BAA2B7R,UAAW8Q,S,+BCH9D7M,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPlE,QAAS,OACTqE,UAAW,OACXhE,SAAU,QAEd8D,oBAAqB,CACjBlD,KAAM,EACNuK,SAAU,QACV,OAAO,CACH5K,UAAW,OACXb,QAAS,EACT,OAAQ,CACJE,OAAQ,SAEZ,MAAO,CACHE,eAAgB,OAChBC,MAAO,QACP,UAAW,CACPA,MAAO,cAKvBS,iBAAkB,CACdI,KAAM,EACNuK,SAAU,QAEV,OAAO,CACH5K,UAAW,OACXb,QAAS,EACT,OAAQ,CACJE,OAAQ,SAEZ,MAAO,CACHE,eAAgB,OAChBC,MAAO,QACP,UAAW,CACPA,MAAO,cAKvBqL,oBAAqB,CACjBxK,KAAM,EACNuK,SAAU,QACV,OAAO,CACH5K,UAAW,OACXb,QAAS,EACT,OAAQ,CACJE,OAAQ,SAEZ,SAAU,CACND,QAAS,OACTwI,cAAe,SACf9H,WAAY,aACZ,WAAY,CACRiD,UAAW9F,EAAM6D,QAAQ,OAKzCgK,QAAS,CACL3K,SAAU,OAyEH4K,GArEA,WACX,IAAM1N,EAAUN,KAEViO,EAAe,uCAAG,WAAOrC,GAAP,mBAAAxO,EAAA,6DACpBwO,EAAEC,iBACIC,EAASF,EAAEE,OAGX3N,EAAQ2N,EAAO3N,MAAM4N,MALP,SAOGY,GAAmBxO,GAPtB,QAOdL,EAPc,SAQP8O,MAAM9O,GACnBgO,EAAO3N,MAAM4N,MAAQ,GATD,2CAAH,sDAYrB,OACI,qBAAKpH,MAAO,CAACjB,WAAY,WAAzB,SACI,sBAAKiB,MAAO,CAACvE,MAAO,MAAOkC,OAAQ,QAAnC,UACI,sBAAKZ,UAAWpB,EAAQiG,UAAW5B,MAAO,CAACvC,QAAS,UAApD,UACI,sBAAKV,UAAWpB,EAAQkG,oBAAxB,UACI,cAAC5B,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAc,EAAvC,wBACA,+BACI,6BAAI,cAAC1B,EAAA,EAAD,CAAY7I,UAAW+F,IAAYxF,GAAG,cAAcgK,cAAc,EAAlE,2BACJ,6BAAI,cAAC1B,EAAA,EAAD,CAAY7I,UAAW+F,IAAYxF,GAAG,cAAcgK,cAAc,EAAlE,mCACJ,6BAAI,cAAC1B,EAAA,EAAD,CAAY7I,UAAW+F,IAAYxF,GAAG,cAAcgK,cAAc,EAAlE,gCAGZ,sBAAK5E,UAAWpB,EAAQ4C,iBAAxB,UACI,cAAC0B,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAc,EAAvC,qBACA,+BACI,6BAAI,cAAC1B,EAAA,EAAD,CAAY7I,UAAW+F,IAAYxF,GAAG,WAAtC,0BACJ,6BACI,sBAAKqI,MAAO,CAAChC,QAAS,IAAtB,UACI,cAACiC,EAAA,EAAD,0BACA,cAACA,EAAA,EAAD,mCACA,cAACA,EAAA,EAAD,yCAKhB,sBAAKlD,UAAWpB,EAAQwN,oBAAxB,UACI,cAAClJ,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAc,EAAvC,wBACA,+BACI,6BACI,cAAC1B,EAAA,EAAD,CAAY4C,WAAS,EAACmC,MAAM,UAA5B,iPAIJ,6BACI,uBAAMyC,SAAU6B,EAAhB,UACI,cAAC5B,GAAA,EAAD,CAAWG,MAAM,QAAQxN,KAAK,QAAQqH,QAAQ,WAAW6H,WAAY,CAACC,eAAiB,cAACC,GAAA,EAAD,CAAgBzK,SAAS,QAAzB,SAAiC,cAAC,KAAD,SACxH,cAAC2B,EAAA,EAAD,CAAQpE,KAAK,SAASuB,MAAM,UAAU4D,QAAQ,YAAYgI,KAAK,QAA/D,qCAMpB,cAACpM,EAAA,EAAD,IACA,sBAAKP,UAAWpB,EAAQiG,UAAW5B,MAAO,CAAC5B,WAAY,UAAvD,UACI,8BAAK,cAAC6B,EAAA,EAAD,CAAYnC,MAAM,gBAAgBkC,MAAO,CAACN,YAAa,IAAvD,8BACL,8BAAK,cAACO,EAAA,EAAD,CAAYnC,MAAM,gBAAlB,oCACL,qBAAKf,UAAWpB,EAAQyN,UACxB,8BAAK,cAACnJ,EAAA,EAAD,CAAYnC,MAAM,gBAAlB,2C,qBClInBzC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCoO,WAAY,CACR3K,SAAU,WACVC,IAAK,KACLgC,KAAM,KACNvD,QAAS,OACTU,WAAW,cAkBJwL,GAdI,WACf,IAAMjO,EAAUN,KACVrD,EAAU+O,cAEhB,OACI,sBAAKhK,UAAWpB,EAAQgO,WAAxB,UACI,cAAC/I,EAAA,EAAD,CAAY9D,QAAS,WAAO9E,EAAQqL,KAAK,IAAK,CAACwG,KAAM,oBAArD,SACI,cAAC,KAAD,MAEJ,cAAC5J,EAAA,EAAD,CAAYyB,QAAQ,QAAQ5D,MAAM,gBAAlC,sBCdGgM,GARI,WACf,OACI,yBCAFzO,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,OACR0D,UAAW9F,EAAM6D,QAAQ,QAiBlB2K,GAbI,WACf,IAAMpO,EAAUN,KAEhB,OACI,sBAAK0B,UAAWpB,EAAQiG,UAAxB,UACI,cAAC3B,EAAA,EAAD,CAAYyB,QAAQ,KAAKtK,UAAU,KAAK4N,MAAM,SAA9C,oDACA,cAAC,GAAD,CAAoBN,SAAS,YAAYO,MAAM,gBAC/C,cAAC,GAAD,CAAoBP,SAAS,mBAAmBO,MAAM,wBACtD,cAAC,GAAD,CAAoBP,SAAS,YAAYO,MAAM,mBCjB9C+E,GAAU,uCAAG,WAAO3P,EAAc+I,EAAewC,EAAqBqE,EAA6BvF,EAAkBlK,GAAxG,SAAA/B,EAAA,sEACTC,IAAMC,KAAK,2BAA4B,CAAC0B,OAAM+I,QAAOwC,cAAaqE,OAAMvF,YAAW,CAACwF,QAAS,CAAEC,YAAa,mBAAoBC,cAAc,UAAD,OAAY5P,IAAiB5B,iBAAiB,IADlL,mFAAH,gEAIVyR,GAAW,uCAAG,WAAOC,EAAmBC,GAA1B,SAAA9R,EAAA,sEACVC,IAAMoM,IAAN,6BAAgCwF,EAAhC,mBAAoDC,GAAe,CAACL,QAAS,CAAC,8BAA+B,OACrHrR,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKyR,mBACrBvR,OAAM,SAAA8L,GAAG,OAAIA,EAAI5L,SAASG,WAHR,mFAAH,wDAMXmR,GAAc,uCAAG,WAAOC,EAA4BlQ,GAAnC,SAAA/B,EAAA,sEACbC,IAAMC,KAAK,uBAAwB,CAACiM,SAAU8F,GAAc,CAACR,QAAS,CAAEC,YAAa,mBAAoBC,cAAc,UAAD,OAAY5P,IAAiB5B,iBAAiB,IAC5KC,MAAK,SAAAC,GAAG,MAAK,CACVC,KAAMD,EAAIC,KACVC,OAAQF,EAAIE,WAEfC,OAAM,SAAAC,GACH,GAAGA,EAAMC,SACT,MAAQ,CACJJ,KAAMG,EAAMC,SAASJ,KACrBC,OAAQE,EAAMC,SAASH,QAEpB,MAAIE,EAAME,QACX,IAAIC,MAAMH,EAAME,SAEhB,IAAIC,MAAMH,EAAMI,YAfJ,mFAAH,wDAoBdqR,GAAqB,uCAAG,WAAOC,GAAP,SAAAnS,EAAA,sEACpBC,IAAMoM,IAAN,wBAA2B8F,IACnC/R,MAAK,SAAAC,GAAG,MAAK,CACVC,KAAMD,EAAIC,KACVC,OAAQF,EAAIE,WAEfC,OAAM,SAAAC,GACH,GAAGA,EAAMC,SACT,MAAQ,CACJJ,KAAMG,EAAMC,SAASJ,KACrBC,OAAQE,EAAMC,SAASH,QAEpB,MAAIE,EAAME,QACX,IAAIC,MAAMH,EAAME,SAEhB,IAAIC,MAAMH,EAAMI,YAfG,mFAAH,sDAoBrBuR,GAAW,uCAAG,WAAOD,EAAmBvQ,EAAc+I,EAAewC,EAAqBlB,EAAkBlK,GAA9F,SAAA/B,EAAA,sEACVC,IAAMoS,IAAI,qBAAsB,CAACF,YAAWvQ,OAAM+I,QAAOwC,cAAalB,YAAW,CAACwF,QAAS,CAAEC,YAAa,mBAAoBC,cAAc,UAAD,OAAY5P,IAAiB5B,iBAAiB,IACjMC,MAAK,SAAAC,GAAG,MAAK,CACVC,KAAMD,EAAIC,KACVC,OAAQF,EAAIE,WAEfC,OAAM,SAAAC,GACH,GAAGA,EAAMC,SACT,MAAQ,CACJJ,KAAMG,EAAMC,SAASJ,KACrBC,OAAQE,EAAMC,SAASH,QAEpB,MAAIE,EAAME,QACX,IAAIC,MAAMH,EAAME,SAEhB,IAAIC,MAAMH,EAAMI,YAfP,mFAAH,gEC5ClB+B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,aAEZoN,YAAa,CACTrN,QAAS,OACTK,SAAU,QAEdiN,eAAgB,CACZ9B,SAAU,IACV7J,OAAQ,IACRV,KAAM,EACNjB,QAAS,OACTE,eAAgB,SAChBQ,WAAY,SACZsB,YAAanE,EAAM6D,QAAQ,GAC3BkC,aAAc/F,EAAM6D,QAAQ,GAC5B,QAAS,CACL1B,QAAS,QACTjC,MAAO,OACP4D,OAAQ,IACR4C,UAAW,UAGnBgJ,gBAAiB,CACb/B,SAAU,IACVvK,KAAM,EACNjB,QAAS,OACTwI,cAAe,SACf9H,WAAY,cAEhB8M,YAAa,CACT7J,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,GAC5B3D,MAAO,KAEXmK,YAAa,CACT7D,UAAW,YAkEJoJ,GA5CC,WACZ,IAAMxP,EAAUN,KAChB,EAA8BQ,qBAA9B,mBAAOuI,EAAP,KAAgBgH,EAAhB,KACQ1H,EAAO2H,cAAP3H,GACAkB,EAAarN,aAAY,SAACC,GAAD,OAAsBA,EAAMoN,YAArDA,SACA/M,EAAUN,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAlDI,MAaR,OAXAI,qBAAU,WACN,GAAG2M,EAASjB,OAAS,EAAG,CACpB,IAAI2H,EAIJ,GAHA1G,EAASX,SAAQ,SAACG,GACd,GAAGA,EAAQX,MAAQC,EAA8C,OAAzC0H,EAAWhH,QAAUkH,GAAc,MAE5DA,EAAc,OACjBX,GAAsBjH,GAAI7K,MAAK,SAACC,GAAD,OAAesS,EAAWtS,EAAI+B,QAAQuJ,eAE1E,CAACV,EAAIkB,IAELR,EACC,qBAAKrH,UAAWpB,EAAQiG,UAAxB,SACI,sBAAK7E,UAAWpB,EAAQoP,YAAxB,UACI,qBAAKhO,UAAWpB,EAAQqP,eAAxB,SACI,qBAAKxK,IAAK4D,EAAQiB,MAAMC,IAAK5E,IAAI,OAErC,sBAAK3D,UAAWpB,EAAQsP,gBAAxB,UACI,cAAChL,EAAA,EAAD,CAAY7I,UAAU,KAAKsK,QAAQ,KAAnC,SAAyC0C,EAAQ/J,OACjD,eAAC4F,EAAA,EAAD,CAAY7I,UAAU,KAAKsK,QAAQ,KAAK1B,MAAO,CAACtC,QAAS,OAAQU,WAAY,UAA7E,cAA0FgG,EAAQhB,MAAM,cAACoC,GAAA,EAAD,CAAQC,UAAQ,EAACC,aAAc,IAAKC,UAAW,GAAK3F,MAAO,CAACL,WAAY,SAChL,eAACM,EAAA,EAAD,CAAYnC,MAAM,gBAAgB6D,cAAY,EAA9C,0BAA6DyC,EAAQmH,cACrE,cAACtL,EAAA,EAAD,CAAY4C,WAAS,EAAC9F,UAAWpB,EAAQiK,YAAzC,SAAuDxB,EAAQwB,cAC9D/N,GACD,cAAC8I,EAAA,EAAD,CAAQe,QAAQ,YAAY5D,MAAM,UAAUf,UAAWpB,EAAQuP,YAAa9T,UAAW+F,IAAYxF,GAAE,uBAAkByM,EAAQX,KAA/H,0BAQZ,2C,SC1FK+H,GAAqB3R,YAC9B,6BAD8C,uCAE9C,WAAM4R,EAAN,wBAAAhT,EAAA,6DAAsBsB,EAAtB,EAAsBA,gBAAtB,SAEeuQ,EAA0BmB,EAA1BnB,UAAWC,EAAekB,EAAflB,YAF1B,SAG+BmB,GAAwBpB,EAAWC,GAHlE,cAGcpR,EAHd,OAIQc,QAAQC,IAAIf,GAJpB,kBAKeA,GALf,2DAOeY,EAAgB,EAAD,KAP9B,kEAF8C,yDAcrC4R,GAAwB9R,YACjC,gCADiD,uCAEjD,WAAM+R,EAAN,wBAAAnT,EAAA,6DAAqCsB,EAArC,EAAqCA,gBAArC,SAEe2Q,EAA4BkB,EAA5BlB,YAAalQ,EAAeoR,EAAfpR,YAF5B,SAG+BkR,GAA2BhB,EAAalQ,GAHvE,UAI+B,OADjBrB,EAHd,QAIoBH,OAJpB,yCAI2Ce,EAAgB,CAACT,QAASH,EAASJ,KAAKO,QAASN,OAAQG,EAASH,UAJ7G,UAK+B,MAApBG,EAASH,OALpB,0CAK2Ce,EAAgB,CAACT,QAASH,EAASJ,KAAKO,QAASN,OAAQG,EAASH,UAL7G,iCAMeG,GANf,2DAQeY,EAAgB,EAAD,KAR9B,0DAFiD,yDA4CtC8R,GA7BczR,YAAY,CACrCC,KAAM,WACNC,aAnCiB,CACjBsK,SAAU,IAmCVlK,SAAU,GACVK,cAAe,SAACC,GACZA,EAAQC,QAAQuQ,GAAmBtQ,WAAW,SAAC1D,EAAOoD,GAClDpD,EAAMoN,SAAWhK,EAAOC,WAE5BG,EAAQC,QAAQ0Q,GAAsBzQ,WAAW,SAAC1D,EAAOoD,GACrD,IAAMkR,EAAyBtU,EAAMoN,SACjCmH,EAA4B,GAC1BC,EAAqB,GAC3BF,EAAuB7H,SAAQ,SAAAG,GAC3B2H,EAA0B1I,KAAKe,EAAQX,QAE3C,IAAMM,EAAqBnJ,EAAOC,QAAQ9B,KAAKgL,mBACjBgI,EAA0BvI,QAAO,SAAAY,GAAO,OAAKL,EAAmBkI,SAAS7H,MACjFH,SAAQ,SAAAP,GAC1B,IAAMwI,EAAaJ,EAAuBK,MAAK,SAAA/H,GAAO,OAAIA,EAAQX,MAAQC,KAC1EsI,EAAmB3I,KAAK6I,MAE5B1U,EAAMoN,SAAWoH,KAErBhR,EAAQC,QAAQ0Q,GAAsBxQ,UAAU,SAAC3D,EAAOoD,GACpDX,QAAQC,IAAI,kBAKxB,QCjEMmB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC6Q,kBAAmB,CACfzO,OAAQ,SACRoE,UAAW,QAEfsK,iBAAiB,CACbhN,OAAQ,OACR3B,QAAS,OACTE,eAAgB,SAChBQ,WAAY,UAEhBmG,MAAO,CACHlF,OAAQ,EACRmF,WAAY,QAEhBJ,QAAS,CACLpF,SAAU,YAEdsN,SAAU,CACNtN,SAAU,WACVC,IAAK,EACLuC,MAAO,EACPtC,OAAQ,EACR,QAAS,CACLH,WAAY,cAmHTwN,GA1FS,SAACrV,GACrB,IAAMyE,EAAUN,KAChB,EAA8BQ,oBAAkB,GAAhD,mBAAOtB,EAAP,KAAgBiS,EAAhB,KACA,EAAgD,CAACtV,EAAMuV,WAAYvV,EAAMwV,eAAhDC,EAAzB,KACA,EAA8C9Q,mBAAyB,IAAvE,mBAAO2O,EAAP,KAAwBoC,EAAxB,KACMzM,EAAWC,cACTwE,EAAarN,aAAY,SAACC,GAAD,OAAsBA,EAAMoN,YAArDA,SACA/M,EAAUN,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAlDI,MAERI,qBAAU,WACNuU,GAAW,GACX,IAAQlC,EAA2BpT,EAA3BoT,UAAWC,EAAgBrT,EAAhBqT,YACnBpK,EAASqL,GAAmB,CAAClB,YAAWC,iBACnC1R,MAAK,SAAAC,GACFmB,QAAQC,IAAIpB,GACZ0T,GAAW,QAGpB,CAACtV,EAAMoT,UAAWpT,EAAMqT,cAE3BtS,qBAAU,WACN2U,EAAmBhI,KACpB,CAACA,IAOJ3M,qBAAU,WACkB,KAArBf,EAAM2V,YANU,SAACC,GACpB,IAAIC,EAAmB,aAAIvC,GAAiBhH,QAAO,SAAAY,GAAO,OAAI0I,EAAME,KAAK5I,EAAQ/J,SACjFuS,EAAmBG,GAMnBE,CAD4B,IAAIC,OAAOhW,EAAM2V,WAAY,QAG1D,CAAC3V,EAAM2V,aAEV,IAAMM,EAAuB,SAAClG,GACVA,EAAEE,OAAO4B,QAErB4D,GAAoB,SAACS,GAAD,6BAAqBA,GAArB,CAAiCnG,EAAEE,OAAOC,WAGlEuF,GAAoB,SAACS,GAAD,OAAiBA,EAAW5J,QAAO,SAAAE,GAAE,OAAIA,IAAOuD,EAAEE,OAAOC,aAGjF,OAAGoD,GAA8C,IAA3BA,EAAgB7G,OAE9B,cAACrB,GAAA,EAAD,CAAMV,WAAS,EAACxC,QAAS,EAAGrC,UAAWpB,EAAQyQ,kBAA/C,SACE5B,EAAgBtF,KAAI,SAAAd,GAAO,OACzB,eAAC9B,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAkC3F,UAAWpB,EAAQyI,QAAlF,UACI,eAACe,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWC,MAAOjB,EAAQiB,MAAMC,IAAKvI,UAAWpB,EAAQ4I,MAAOU,MAAM,YACrE,eAACM,GAAA,EAAD,WACI,cAACtF,EAAA,EAAD,CAAY0B,cAAY,EAACD,QAAQ,KAAKtK,UAAU,KAAhD,SACKgN,EAAQ/J,OAEb,sBAAK2F,MAAO,CAACtC,QAAS,OAAQU,WAAY,UAA1C,UACI,eAAC6B,EAAA,EAAD,CAAYyB,QAAQ,KAApB,cAA2B0C,EAAQhB,SACnC,cAACoC,GAAA,EAAD,CAAQC,UAAQ,EAACC,aAAc,IAAKC,UAAW,QAEnD,cAAC1F,EAAA,EAAD,CAAYyB,QAAQ,QAAQ5D,MAAM,gBAAgB+E,WAAS,EAA3D,SACKuB,EAAQwB,iBAGjB,eAACC,GAAA,EAAD,WACI,cAAClF,EAAA,EAAD,CAAQ7C,MAAM,YAAY4D,QAAQ,WAAW5E,QAAS,kBAAMqD,EAASgD,GAAUiB,KAA/E,yBACA,cAACzD,EAAA,EAAD,CAAQ7C,MAAM,UAAU1G,UAAW+F,IAAYxF,GAAE,mBAAcyM,EAAQX,KAAvE,6BAGP5L,GAAS,cAACiR,GAAA,EAAD,CAAUhL,MAAM,YAAYf,UAAWpB,EAAQ2Q,SAAUlF,MAAOhD,EAAQX,IAAKkF,SAAUwE,MApB/D/I,EAAQiB,MAAMgI,iBAyBrD9S,GAAWiQ,GAA8C,IAA3BA,EAAgB7G,OAEjD,qBAAK5G,UAAWpB,EAAQ0Q,iBAAxB,SACI,cAACpM,EAAA,EAAD,oCAMJ,qBAAKlD,UAAWpB,EAAQ0Q,iBAAxB,SACI,cAACvG,GAAA,EAAD,O,wCCzIVzK,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,OACPiC,QAAS,OACTE,eAAgB,SAChBQ,WAAY,SACZ8H,cAAe,MACfnI,SAAU,QAEduP,gBAAgB,aACZ3N,WAAYpE,EAAM6D,QAAQ,IACzB7D,EAAM0C,YAAYC,KAAK,MAAQ,CAC5ByB,WAAY,EACZ0B,UAAW9F,EAAM6D,QAAQ,KAGjCmO,WAAW,aACP9R,MAAO,KACNF,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BzC,MAAO,MAGfoE,YAAa,CACTpE,MAAO,SAkEA+R,GAnDC,SAACtW,GAEb,IAAMyE,EAAUN,KAChB,EAAwB,CAACnE,EAAMoT,UAAWpT,EAAMuW,mBAAzCC,EAAP,KAAaC,EAAb,KACA,EAA4B,CAACzW,EAAMqT,YAAarT,EAAM0W,qBAA/CpK,EAAP,KAAeqK,EAAf,KACA,EAA0B,CAAC3W,EAAM2V,WAAY3V,EAAM4W,oBAArCC,EAAd,KACMxO,EAASnH,OAAO4V,SAASzO,OAEzB0O,EADS,IAAIC,gBAAgB3O,GACPuF,IAAI,UAEhC7M,qBAAU,WACc,OAAjBgW,GACHJ,EAAUI,KACX,CAACA,EAAcJ,IAElB,IAAMM,EAAgB,uCAAG,WAAO7R,GAAP,SAAA7D,EAAA,sDACrBkV,EAAQrR,EAAM6K,OAAOC,OADA,2CAAH,sDAIhBgH,EAAkB,uCAAG,WAAO9R,GAAP,SAAA7D,EAAA,sDACvBoV,EAAUvR,EAAM6K,OAAOC,OADA,2CAAH,sDAIxB,OACI,gCACI,cAACnH,EAAA,EAAD,CAAYyB,QAAQ,KAAKtK,UAAU,KAAK4N,MAAM,SAA9C,sBACA,eAACqJ,GAAA,EAAD,CAAatR,UAAWpB,EAAQiG,UAAhC,UACI,cAAC8F,GAAA,EAAD,CAAWrN,KAAK,SAASqJ,GAAG,SAASmE,MAAM,SAAS9K,UAAWpB,EAAQkE,YAAa8I,SAAU,SAAC1B,GAAD,OAA4C8G,EAAS9G,EAAEE,OAAOC,UAC5J,eAACiH,GAAA,EAAD,CAAatR,UAAWpB,EAAQ2R,gBAAhC,UACI,cAACgB,GAAA,EAAD,CAAY5K,GAAG,gBAAf,oBACA,eAAC6K,GAAA,EAAD,CAAQnH,MAAO5D,EAAQmF,SAAUyF,EAAoBI,QAAQ,gBAAgBzR,UAAWpB,EAAQ4R,WAAhG,UACI,cAACkB,GAAA,EAAD,CAAUrH,MAAM,MAAhB,uBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,YAAhB,wBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,cAAhB,yBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,UAAhB,2BAGR,eAACiH,GAAA,EAAD,CAAatR,UAAWpB,EAAQ2R,gBAAhC,UACI,cAACgB,GAAA,EAAD,CAAY5K,GAAG,gBAAf,qBACA,eAAC6K,GAAA,EAAD,CAAQnH,MAAOsG,EAAM/E,SAAUwF,EAAkBK,QAAQ,gBAAgBzR,UAAWpB,EAAQ4R,WAA5F,UACI,cAACkB,GAAA,EAAD,CAAUrH,MAAM,OAAhB,kBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,QAAhB,iBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,QAAhB,mBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,aAAhB,qCClFlB/L,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,OACR0D,UAAW9F,EAAM6D,QAAQ,QAuBlBsP,GAdE,SAACxX,GACd,IAAMyE,EAAUN,KAChB,EAAwBQ,mBAAiB,QAAzC,mBAAO6R,EAAP,KAAaC,EAAb,KACA,EAA4B9R,mBAAiB,OAA7C,mBAAO2H,EAAP,KAAeqK,EAAf,KACA,EAA0BhS,mBAAiB,IAA3C,mBAAO4P,EAAP,KAAcsC,EAAd,KAEA,OACI,sBAAKhR,UAAWpB,EAAQiG,UAAxB,UACI,cAAC,GAAD,CAAS0I,UAAWoD,EAAMD,kBAAmBE,EAASpD,YAAa/G,EAAQoK,oBAAqBC,EAAWhB,WAAYpB,EAAOqC,mBAAoBC,IAClJ,cAAC,GAAD,CAAiBlB,WAAYpB,EAAOnB,UAAWoD,EAAMnD,YAAa/G,EAAQiJ,WAAYvV,EAAMuV,WAAYC,cAAexV,EAAMwV,oBChBnIrR,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,OACRD,QAAS,OACTE,eAAgB,WAChByD,UAAW9F,EAAM6D,QAAQ,IAE7BuP,aAAa,aACThP,WAAYpE,EAAM6D,QAAQ,IACzB7D,EAAM0C,YAAYC,KAAK,MAAQ,CAC5ByB,WAAYpE,EAAM6D,QAAQ,KAGlCwP,UAAW,CACP,SAAU,CACNC,UAAW,eAuCRC,GAlCA,WACX,MAAgDjT,mBAAwB,IAAxE,mBAAOkT,EAAP,KAAyBpC,EAAzB,KACA,EAA8B9Q,oBAAkB,GAAhD,mBAAOtB,EAAP,KAAgBiS,EAAhB,KACM7Q,EAAUN,KACV8E,EAAWC,cACT5F,EAAgBjD,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAxD+C,YAkBR,OACI,gCACI,sBAAKuC,UAAWpB,EAAQiG,UAAxB,UACI,cAACjB,EAAA,EAAD,CAAQe,QAAQ,YAAY5D,MAAM,UAAU1G,UAAW+F,IAAYxF,GAAG,cAAcoF,UAAWpB,EAAQiT,UAAvG,yBACA,cAACjO,EAAA,EAAD,CAAQe,QAAQ,YAAY5D,MAAM,YAAYf,UAAWpB,EAAQgT,aAAc7R,QApB9D,WACM,IAA5BiS,EAAiBpL,QACpB6I,GAAW,GACXrM,EAASwL,GAAsB,CAACjB,YAAaqE,EAAkBvU,iBAC1D3B,MAAK,SAACC,GAGH,GAFA6T,EAAoB,IACM,MAAvB7T,EAAI+B,QAAQ7B,QAAoBF,EAAI+B,QAAQ9B,KAAKyB,aAAa2F,EAASxF,EAAkB7B,EAAI+B,QAAQ9B,KAAKyB,cACnF,MAAvB1B,EAAI+B,QAAQ7B,OAA4E,OAA3DiP,MAAM,+BAA2B9H,EAASrF,KAChD,MAAvBhC,EAAI+B,QAAQ7B,QACfiP,MAAM,wBACN9H,EAAS0D,GAAW/K,EAAI+B,WAFQoN,MAAM,2BAIzCpP,MAAK,kBAAMmW,YAAW,kBAAMxC,GAAW,KAAQ,SAXhBvE,MAAM,qCAmBlC,SAA+G1N,EAAU,cAACuL,GAAA,EAAD,CAAkB9F,MAAO,CAAClC,MAAO,WAAe,uBAE7K,cAAC,GAAD,CAAU2O,WAAYsC,EAAkBrC,cAAeC,QCnD7DtR,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,aAEZoN,YAAa,CACTrN,QAAS,OACTK,SAAU,QAEdkR,YAAa,CACTvR,QAAS,QAEbsN,eAAgB,CACZ9B,SAAU,IACV7J,OAAQ,IACRV,KAAM,EACNjB,QAAS,OACTE,eAAgB,SAChBQ,WAAY,SACZsB,YAAanE,EAAM6D,QAAQ,GAC3BkC,aAAc/F,EAAM6D,QAAQ,GAC5B,QAAS,CACL1B,QAAS,QACTjC,MAAO,OACP4D,OAAQ,IACR4C,UAAW,UAGnBgJ,gBAAiB,CACb/B,SAAU,IACVvK,KAAM,EACNjB,QAAS,OACTwI,cAAe,SACf9H,WAAY,cAEhB8Q,MAAO,CACH7N,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,IAEhC8L,YAAa,CACT7J,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,GAC5B3D,MAAO,SAgGA0T,GA5EK,WAChB,IAAMxT,EAAUN,KACVrD,EAAU+O,cACV5G,EAAWC,cACjB,EAA8BvE,oBAAkB,GAAhD,mBAAOtB,EAAP,KAAgBiS,EAAhB,KACA,EAA0C3Q,qBAA1C,mBAAOuT,EAAP,KAAsBC,EAAtB,KACA,EAAwBxT,qBAAxB,mBAAOxB,EAAP,KAAaiV,EAAb,KACA,EAA0BzT,qBAA1B,mBAAOuH,EAAP,KAAcmM,EAAd,KACA,EAAsC1T,qBAAtC,mBAAO+J,EAAP,KAAoB4J,EAApB,KACA,EAAgC3T,mBAAiB,eAAjD,mBAAO6I,EAAP,KAAiBC,EAAjB,KACQC,EAAarN,aAAY,SAACC,GAAD,OAAsBA,EAAMoN,YAArDA,SACApK,EAAgBjD,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAxD+C,YACAkJ,EAAO2H,cAAP3H,GAERzL,qBAAU,WACNuU,GAAW,GACX,IAAIlB,GAAuB,EAC3B1G,EAASX,SAAQ,SAACG,GACd,GAAGA,EAAQX,MAAQC,EAAwE,OAAlE4H,GAAc,EAAM+D,EAAiBjL,QAAUoI,GAAW,MAEpFlB,GACHX,GAAsBjH,GAAI7K,MAAK,SAACC,GAAD,OAAeuW,EAAiBvW,EAAI+B,QAAQuJ,cAC5E,CAACV,EAAIkB,IAER3M,qBAAU,WACHmX,IACCzK,EAAYyK,EAAc1K,UAC1B4K,EAAQF,EAAc/U,MACtBkV,EAASH,EAAchM,OACvBoM,EAAeJ,EAAcxJ,gBAElC,CAACwJ,IAiBJ,OAAI7U,GAAW6U,EACX,qBAAKrS,UAAWpB,EAAQiG,UAAxB,SACI,uBAAM7E,UAAWpB,EAAQoP,YAAatD,SAbvB,SAACR,GACpBA,EAAEC,iBACF2D,GAAYnH,EAAIrJ,EAAM+I,EAAOwC,EAAalB,EAAUlK,GAC/C3B,MAAK,SAAAC,GAEF,OADAmB,QAAQC,IAAIpB,GACM,MAAfA,EAAIE,QAAqBF,EAAIC,KAAKyB,aAAc2F,EAASxF,EAAkB7B,EAAIC,KAAKyB,mBAAiBxC,EAAQqL,KAAK,YACnG,MAAfvK,EAAIE,OACW,MAAfF,EAAIE,QAAkBiP,MAAM,qBAAiB9H,EAASrF,WAAzD,OADyBmN,MAAMnP,EAAIC,KAAKO,aAO5C,UACI,qBAAKyD,UAAWpB,EAAQqP,eAAxB,SACI,qBAAKxK,IAAK4O,EAAc/J,MAAMC,IAAK5E,IAAI,OAE3C,sBAAM3D,UAAWpB,EAAQsP,gBAAzB,UACI,cAACvD,GAAA,EAAD,CAAWhE,GAAG,eAAemE,MAAM,eAAexN,KAAK,OAAOqH,QAAQ,WAAWkG,WAAS,EAAC7K,UAAWpB,EAAQuT,MAAOxJ,aAAc0J,EAAc/U,KAAMsO,SAAU,SAAC1B,GAAD,OAA4CqI,EAAQrI,EAAEE,OAAOC,UAC9N,cAACM,GAAA,EAAD,CAAWhE,GAAG,gBAAgBmE,MAAM,YAAYxN,KAAK,QAAQqH,QAAQ,WAAWnF,KAAK,SAASqL,WAAS,EAAC7K,UAAWpB,EAAQuT,MAAOxJ,aAAc0J,EAAchM,MAAOuF,SAAU,SAAC1B,GAAD,OAA4CsI,EAASE,SAASxI,EAAEE,OAAOC,WACtP,cAACM,GAAA,EAAD,CAAWhE,GAAG,sBAAsBmE,MAAM,cAAcxN,KAAK,cAAcqH,QAAQ,WAAWgO,WAAS,EAACC,KAAM,EAAG/H,WAAS,EAAC7K,UAAWpB,EAAQuT,MAAOxJ,aAAc0J,EAAcxJ,YAAa+C,SAAU,SAAC1B,GAAD,OAA4CuI,EAAevI,EAAEE,OAAOC,UAC5Q,eAACiH,GAAA,EAAD,CAAarO,MAAO,CAACvE,MAAO,KAA5B,UACI,cAAC6S,GAAA,EAAD,CAAY5K,GAAG,wBAAwB1D,MAAO,CAACvE,MAAO,KAAtD,sBACA,eAAC8S,GAAA,EAAD,CAAQC,QAAQ,wBAAwBzR,UAAWpB,EAAQuP,YAAa9D,MAAO1C,EAAUiE,SA3BhF,SAACrM,GAC1BqI,EAAYrI,EAAM6K,OAAOC,QA0BT,UACI,cAACqH,GAAA,EAAD,CAAUrH,MAAM,cAAhB,yBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,YAAhB,wBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,UAAhB,2BAGR,cAACzG,EAAA,EAAD,CAAQe,QAAQ,YAAY5D,MAAM,UAAUvB,KAAK,SAASQ,UAAWpB,EAAQuP,YAA7E,SAA2F3Q,EAAU,cAACuL,GAAA,EAAD,CAAkB9F,MAAO,CAAClC,MAAO,WAAe,yBAMjK,qCCxIFzC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,aAEZoN,YAAa,CACTrN,QAAS,OACTK,SAAU,QAEdkR,YAAa,CACTvR,QAAS,QAEbsN,eAAe,aACX9B,SAAU,IACV7J,OAAQ,IACRV,KAAM,EACNjB,QAAS,OACTE,eAAgB,SAChBQ,WAAY,SACZwR,OAAQ,iBACRlQ,YAAanE,EAAM6D,QAAQ,GAC3BkC,aAAc/F,EAAM6D,QAAQ,GAC5B,QAAQ,aACJ1B,QAAS,QACTjC,MAAO,OACP4D,OAAQ,IACR4C,UAAW,SACV1G,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BmB,OAAQ,OAGf9D,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BzC,MAAO,IACPyN,SAAU,IACV7J,OAAQ,IACR1B,OAAQ,qBAGhBsN,gBAAgB,aACZ/B,SAAU,IACVvK,KAAM,EACNjB,QAAS,OACTwI,cAAe,SACf9H,WAAY,cACX7C,EAAM0C,YAAYC,KAAK,MAAQ,CAC5BzC,MAAO,IACPyN,SAAU,MAGlBgG,MAAO,CACH7N,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,IAEhC8L,YAAa,CACT7J,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,GAC5B3D,MAAO,SA0FAoU,GAtFI,WACf,IAAMlU,EAAUN,KAChB,EAAsBQ,mBAAiB,IAAvC,mBAAOyJ,EAAP,KAAYwK,EAAZ,KACA,EAA8BjU,oBAAkB,GAAhD,mBAAOtB,EAAP,KAAgBiS,EAAhB,KACA,EAAgC3Q,mBAAiB,eAAjD,mBAAO6I,EAAP,KAAiBC,EAAjB,KACA,EAAkC9I,mBAAsB,MAAxD,mBAAOkU,EAAP,KAAkBC,EAAlB,KACMhY,EAAU+O,cACRvM,EAAgBjD,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAxD+C,YACF2F,EAAWC,cAiBX6P,EAAmB,uCAAG,WAAOhJ,GAAP,uBAAAxO,EAAA,sDACxBwO,EAAEC,iBACIC,EAASF,EAAEE,OAKX9M,EAAO8M,EAAO9M,KAAK+M,MACnBhE,EAAQ+D,EAAO/D,MAAMgE,MACrBxB,EAAcuB,EAAOvB,YAAYwB,MAEjC8I,EAAS,IAAIC,WACF,OAAdJ,IACCG,EAAOE,cAAcL,GACrBG,EAAOG,UAAY,WACf,IAAMpG,EAAOiG,EAAOI,OACpB9D,GAAW,GACXxC,GAAW3P,EAAM+I,EAAOwC,EAAaqE,EAAMvF,EAAUlK,GAChD3B,MAAK,SAAAC,GAAWA,EAAIC,KAAKyB,aAAc2F,EAASxF,EAAkB7B,EAAIC,KAAKyB,cAAiBgS,GAAW,GAAQxU,EAAQqL,KAAK,cAC5HpK,OAAM,SAAA8L,GAAG,OAAI9K,QAAQC,IAAI6K,QAnBd,2CAAH,sDA6BzB,OACI,qBAAKhI,UAAWpB,EAAQiG,UAAxB,SACI,uBAAM7E,UAAWpB,EAAQoP,YAAatD,SAAUwI,EAAhD,UACI,sBAAKlT,UAAWpB,EAAQqP,eAAxB,UACI,uBAAOuF,OAAO,UAAUxT,UAAWpB,EAAQsT,YAAavL,GAAG,wBAAwBnH,KAAK,OAAOlC,KAAK,QAAQsO,SAhDlG,SAAC1B,GACvB,GAAsB,OAAnBA,EAAEE,OAAOqJ,MAAgB,CACxB,IAAMvG,EAAahD,EAAEE,OAAOqJ,MAAM,GAElC,GADAR,EAAa/F,GACVA,EAAKP,KAAO,QACX,OAAOzB,MAAM,mBAEjB,GAAiB,eAAdgC,EAAK1N,MAAuC,cAAd0N,EAAK1N,KAClC,OAAO0L,MAAM,6BACjB6H,EAAOW,IAAIC,gBAAgBzG,SAE3BhC,MAAM,0BAsCE,uBAAO0I,QAAQ,wBAAf,SACa,KAARrL,EAAa,cAAC3E,EAAA,EAAD,CAAQe,QAAQ,YAAY5D,MAAM,UAAU1G,UAAU,OAAtD,oBAGV,qBAAKoJ,IAAK8E,EAAK5E,IAAI,gBAI/B,sBAAM3D,UAAWpB,EAAQsP,gBAAzB,UACI,cAACvD,GAAA,EAAD,CAAWhE,GAAG,eAAemE,MAAM,eAAexN,KAAK,OAAOqH,QAAQ,WAAWkG,WAAS,EAAC7K,UAAWpB,EAAQuT,QAC9G,cAACxH,GAAA,EAAD,CAAWhE,GAAG,gBAAgBmE,MAAM,YAAYxN,KAAK,QAAQqH,QAAQ,WAAWnF,KAAK,SAASqL,WAAS,EAAC7K,UAAWpB,EAAQuT,QAC3H,cAACxH,GAAA,EAAD,CAAWhE,GAAG,sBAAsBmE,MAAM,cAAcxN,KAAK,cAAcqH,QAAQ,WAAWgO,WAAS,EAACC,KAAM,EAAG/H,WAAS,EAAC7K,UAAWpB,EAAQuT,QAC9I,eAACb,GAAA,EAAD,CAAarO,MAAO,CAACvE,MAAO,KAA5B,UACI,cAAC6S,GAAA,EAAD,CAAY5K,GAAG,wBAAwB1D,MAAO,CAACvE,MAAO,KAAtD,sBACA,eAAC8S,GAAA,EAAD,CAAQC,QAAQ,wBAAwBzR,UAAWpB,EAAQuP,YAAa9D,MAAO1C,EAAUiE,SAvBhF,SAACrM,GAC1BqI,EAAYrI,EAAM6K,OAAOC,QAsBT,UACI,cAACqH,GAAA,EAAD,CAAUrH,MAAM,cAAhB,yBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,YAAhB,wBACA,cAACqH,GAAA,EAAD,CAAUrH,MAAM,UAAhB,2BAGR,cAACzG,EAAA,EAAD,CAAQe,QAAQ,YAAY5D,MAAM,UAAUvB,KAAK,SAASQ,UAAWpB,EAAQuP,YAA7E,SAA2F3Q,EAAU,cAACuL,GAAA,EAAD,CAAkB9F,MAAO,CAAClC,MAAO,WAAe,0B,wCC3InKzC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,OACRoE,UAAW,OACXrE,QAAS,OACTwI,cAAe,UAEnB0K,UAAW,CACPjS,KAAM,GAEVkS,cAAe,CACXpV,MAAO,IACP4D,OAAQ,IACRG,aAAc,GAElBsR,gBAAiB,CACbhR,YAAavE,EAAM6D,QAAQ,GAC3BT,KAAM,GAEVuQ,MAAO,CACHzT,MAAO,QA0EAsV,GA3DG,WACd,IAAMpV,EAAUN,KAChB,EAAwBQ,mBAAsB,IAA9C,mBAAOyE,EAAP,KAAa0Q,EAAb,KACeC,EAAc1Z,aAAY,SAACC,GAAD,OAAsBA,EAAM8I,QAA7D2C,MACA2B,EAAarN,aAAY,SAACC,GAAD,OAAsBA,EAAMoN,YAArDA,SACFzE,EAAWC,cA8BjB,OA5BAnI,qBAAU,WACN+Y,EAAQ,IACR,IAAME,EAAW,IAAIC,IACrB,IAAI,IAAIC,KAAKH,EACT,GAAGC,EAASG,IAAIJ,EAAUG,GAAG3N,KAA7B,CACI,IAAIG,EAASsN,EAASpM,IAAImM,EAAUG,GAAG3N,KACvCyN,EAASI,IAAIL,EAAUG,GAAG3N,MAAOG,QAGrCsN,EAASI,IAAIL,EAAUG,GAAG3N,IAAK,GATvB,qBAYayN,GAZb,kDAYF1U,EAZE,KAYG4K,EAZH,KAaFmK,EAAgB3M,EAASuH,MAAK,SAAA/H,GAAO,OAAIA,EAAQX,MAAQjH,KAC/D,QAAqBgV,IAAlBD,EAA6B,iBAChC,IAAOlX,EAAsBkX,EAAtBlX,KAAM+I,EAAgBmO,EAAhBnO,MAAOiC,EAASkM,EAATlM,MACd9C,EAAa,CACfmB,GAAIlH,EACJnC,OACA+I,QACAiC,QACAzB,OAAQwD,GAEZ4J,GAAQ,SAACS,GAAD,6BAAsBA,GAAtB,CAAmClP,QAX/C,2BAAmC,IAZvB,iCA0Bb,CAAC0O,EAAWrM,IAGX,sBAAK7H,UAAWpB,EAAQiG,UAAxB,UACI,cAAC5E,EAAA,EAAD,CAAMD,UAAWpB,EAAQiV,UAAzB,SACKtQ,GAAQA,EAAK4E,KAAI,SAAA3C,GAAI,OAClB,eAACtF,EAAA,EAAD,CAAU+C,MAAO,CAACvC,QAAS,UAA3B,UACI,cAACiU,GAAA,EAAD,UACI,qBAAKlR,IAAK+B,EAAK8C,MAAMC,IAAK5E,IAAK6B,EAAKlI,KAAM0C,UAAWpB,EAAQkV,kBAEjE,sBAAK9T,UAAWpB,EAAQmV,gBAAxB,UACI,cAAC7Q,EAAA,EAAD,CAAYyB,QAAQ,KAAKtK,UAAU,KAAnC,SAAyCmL,EAAKlI,OAC9C,eAAC4F,EAAA,EAAD,CAAYyB,QAAQ,QAAQ5D,MAAM,gBAAlC,cAAoDyE,EAAKa,YAE7D,cAACsE,GAAA,EAAD,CAAWG,MAAM,SAAST,MAAO7E,EAAKqB,OAAQ+N,UAAQ,EAACjQ,QAAQ,WAAW3E,UAAWpB,EAAQuT,QAC7F,cAACtO,EAAA,EAAD,CAAY,aAAW,SAAS9D,QAAS,kBAAMqD,EAASmD,GAAe,CAACI,GAAInB,EAAKmB,GAAIN,MAAOb,EAAKa,MAAOQ,OAAQrB,EAAKqB,WAAW5D,MAAO,CAACvE,MAAO,GAAI4D,OAAQ,IAA3J,SACI,cAAC,KAAD,QAVmCkD,EAAKmB,SAexD,cAACpG,EAAA,EAAD,QC3EGsU,GAjBG,WACd,MAAgD/V,oBAAkB,GAAlE,mBAAOgW,EAAP,KAAyBC,EAAzB,KACQ5O,EAAU3L,aAAY,SAACC,GAAD,OAAsBA,EAAM8I,QAAlD4C,MAOR,OALAjL,qBAAU,WAEN6Z,EADa,IAAV5O,KAEJ,CAACA,IAGA,sBAAKlD,MAAO,CAACvE,MAAO,MAAOkC,OAAQ,OAAQF,QAAS,SAAUC,QAAS,OAAQE,eAAgB,YAA/F,UACI,eAACqC,EAAA,EAAD,CAAYyB,QAAQ,KAApB,qBAAkCwB,KAClC,cAACvC,EAAA,EAAD,CAAQvJ,UAAW+F,IAAYxF,GAAG,YAAYmG,MAAM,UAAU4D,QAAQ,YAAY1B,MAAO,CAACL,WAAY,IAAKgS,SAAUE,EAArH,0BCJGE,GAVF,WAET,OACI,gCACI,cAAC,GAAD,IACA,cAAC,GAAD,Q,UCJN1W,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPjE,OAAQ,aAEZqU,cAAe,CACXvW,MAAO,OACP,uBAAwB,CACpBkC,OAAQ,WAGhBsU,WAAY,CACR5Q,UAAW9F,EAAM6D,QAAQ,QAwClB8S,GApCC,WACZ,IAAMvW,EAAUN,KAChB,EAA8BQ,oBAAkB,GAAhD,mBAAOtB,EAAP,KAAgBiS,EAAhB,KAkBA,OACI,eAACnF,GAAA,EAAD,CAAWC,SAAS,KAAKvK,UAAWpB,EAAQiG,UAA5C,UACI,cAAC3B,EAAA,EAAD,CAAYyB,QAAQ,KAAKtK,UAAU,KAAK4N,MAAM,SAASrD,cAAY,EAAnE,wBACA,eAAC0M,GAAA,EAAD,CAAajX,UAAU,OAAOqQ,SAnBpB,SAACR,GACfA,EAAEC,iBACFsF,GAAW,GACX,IAAMrF,EAASF,EAAEE,OACjBgL,KAAQC,SAAS,kBAAmB,mBAAoBjL,EAAQ,8BAC3DtO,MAAK,SAACyX,GACHrI,MAAM,6BACNd,EAAOkL,QACP7F,GAAW,MACZ,SAACtT,GACA+O,MAAM,yBACNhO,QAAQC,IAAIhB,EAAM8C,MAClBwQ,GAAW,OAOoCzP,UAAWpB,EAAQqW,cAAtE,UACI,cAACtK,GAAA,EAAD,CAAWG,MAAM,UAAUxN,KAAK,UAAUkC,KAAK,OAAOmF,QAAQ,WAAWoG,WAAS,IAClF,cAACJ,GAAA,EAAD,CAAWG,MAAM,OAAOxN,KAAK,OAAOkC,KAAK,OAAOmF,QAAQ,aACxD,cAACgG,GAAA,EAAD,CAAWG,MAAM,QAAQxN,KAAK,QAAQkC,KAAK,QAAQmF,QAAQ,aAC3D,cAACgG,GAAA,EAAD,CAAWG,MAAM,UAAUxN,KAAK,UAAUkC,KAAK,OAAOmT,WAAS,EAACC,KAAM,EAAGjO,QAAQ,WAAWkG,WAAW,IACvG,cAACjH,EAAA,EAAD,CAAQpE,KAAK,SAASmF,QAAQ,YAAY5D,MAAM,UAAUf,UAAWpB,EAAQsW,WAA7E,SACK1X,EAAU,cAACuL,GAAA,EAAD,CAAkB9F,MAAO,CAAClC,MAAO,WAAe,gB,8BC9CzEzC,GAAYC,aAAW,SAACC,GAAD,MAAY,MA0C1B+W,GAtCC,WACIjX,KAEhB,OACI,qCACE,cAAC4E,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAY,EAArC,8BAGA,eAACW,GAAA,EAAD,CAAMV,WAAS,EAACxC,QAAS,EAAGhI,UAAU,OAAOsM,GAAG,cAAhD,UACE,cAACpB,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACE,cAACiF,GAAA,EAAD,CAAWC,UAAQ,EAACjE,GAAG,YAAYrJ,KAAK,YAAYwN,MAAM,aAAatL,KAAK,SAASqL,WAAS,EAACG,aAAa,iBAE9G,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACA,cAACiF,GAAA,EAAD,CAAWC,UAAQ,EAACjE,GAAG,WAAWrJ,KAAK,WAAWwN,MAAM,YAAYtL,KAAK,SAASqL,WAAS,EAACG,aAAa,kBAEzG,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAf,SACE,cAACgF,GAAA,EAAD,CAAWC,UAAQ,EAACjE,GAAG,WAAWrJ,KAAK,WAAWwN,MAAM,iBAAiBtL,KAAK,SAASqL,WAAS,EAACG,aAAa,6BAEhH,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAf,SACE,cAACgF,GAAA,EAAD,CAAWhE,GAAG,WAAWrJ,KAAK,WAAWwN,MAAM,iBAAiBtL,KAAK,SAASqL,WAAS,EAACG,aAAa,6BAEvG,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACE,cAACiF,GAAA,EAAD,CAAWC,UAAQ,EAACjE,GAAG,OAAOrJ,KAAK,OAAOwN,MAAM,OAAOtL,KAAK,SAASqL,WAAS,EAACG,aAAa,8BAE9F,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACE,cAACiF,GAAA,EAAD,CAAWhE,GAAG,QAAQrJ,KAAK,QAAQwN,MAAM,wBAAwBtL,KAAK,SAASqL,WAAS,MAE1F,cAACtF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACE,cAACiF,GAAA,EAAD,CAAWC,UAAQ,EAACjE,GAAG,MAAMrJ,KAAK,MAAMwN,MAAM,oBAAoBtL,KAAK,SAASqL,WAAS,EAACG,aAAa,2BAEzG,cAACzF,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,EAAvB,SACE,cAACiF,GAAA,EAAD,CAAWC,UAAQ,EAACjE,GAAG,UAAUrJ,KAAK,UAAUwN,MAAM,UAAUtL,KAAK,SAASqL,WAAS,EAACG,aAAa,8B,SCqCpGwK,GApEK,SAACrb,GACjB,MAAkC,CAACA,EAAMsb,SAAUtb,EAAMub,aAAvCC,EAAlB,KACA,EAA0B7W,mBAAS,MAAnC,mBAAO3C,EAAP,KAAcyZ,EAAd,KACA,EAAoC,CAACzb,EAAMuP,OAAQvP,EAAM0b,WAAtCC,EAAnB,KACA,EAAwChX,mBAAS,IAAjD,mBAAOiX,EAAP,KAAqBC,EAArB,KACMC,EAASC,uBACTC,EAAWC,yBAETlQ,EAAU1L,aAAY,SAACC,GAAD,OAAsBA,EAAM8I,QAAlD2C,MAERhL,qBAAU,WACNG,OACGgb,MAAM,qCAAsC,CAC3CC,OAAQ,OACRnJ,QAAS,CACP,eAAgB,oBAElBpQ,YAAa,UACbwZ,KAAMC,KAAKC,UAAU,CAACvQ,QAAOwQ,QAASvc,EAAMuc,YAE7C5a,MAAK,SAAAC,GACJ,OAAOA,EAAI4a,UAEZ7a,MAAK,SAAAE,GACJkB,QAAQC,IAAInB,GACZga,EAAgBha,EAAK+Z,mBAE1B,IAEH,IAAMa,EAAY,uCAAG,WAAMC,GAAN,eAAAnb,EAAA,6DACjBmb,EAAG1M,iBACH2L,GAAc,GAFG,SAGKG,EAAOa,mBAAmBf,EAAc,CAC5DgB,eAAgB,CACdC,KAAMb,EAASc,WAAWC,mBALb,QAGXpZ,EAHW,QAQL3B,OACVyZ,EAAS,kBAAD,OAAmB9X,EAAQ3B,MAAMI,UACzCuZ,GAAc,KAEdF,EAAS,MACTE,GAAc,GACdH,GAAa,IAdE,2CAAH,sDAkBZwB,EAAY,uCAAG,WAAO5X,GAAP,SAAA7D,EAAA,sDACjBka,EAASrW,EAAMpD,MAAQoD,EAAMpD,MAAMI,QAAU,IAD5B,2CAAH,sDAIlB,OACI,mCACI,uBAAMoK,GAAG,eAAe+D,SAAUkM,EAAlC,UACI,cAAC,eAAD,CAAajQ,GAAG,eAAeiF,SAAUuL,IACzC,wBAAQ3X,KAAK,SAASmH,GAAG,sBAAsB1D,MAAO,CAACtC,QAAS,UAC/DxE,GACG,qBAAK6D,UAAU,aAAaH,KAAK,QAAjC,SACA,cAACqD,EAAA,EAAD,UACC/G,YC5DfmC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC4Y,SAAU,CACR1W,QAASlC,EAAM6D,QAAQ,EAAG,IAE5B8D,MAAO,CACLkR,WAAY,KAEdnP,MAAO,CACL5D,UAAW9F,EAAM6D,QAAQ,QA2GhBiV,GA1FA,SAACnd,GACZ,IAAMyE,EAAUN,KAChB,EAAwBQ,mBAAsB,IAA9C,mBAAOyE,EAAP,KAAa0Q,EAAb,KACA,EAAoCzZ,aAAY,SAACC,GAAD,OAAsBA,EAAM8I,QAA7D2Q,EAAf,EAAQhO,MAAkBC,EAA1B,EAA0BA,MAClB0B,EAAarN,aAAY,SAACC,GAAD,OAAsBA,EAAMoN,YAArDA,SA8BR,OA5BA3M,qBAAU,WACR+Y,EAAQ,IACR,IAAME,EAAW,IAAIC,IACrB,IAAI,IAAIC,KAAKH,EACT,GAAGC,EAASG,IAAIJ,EAAUG,GAAG3N,KAA7B,CACI,IAAIG,EAASsN,EAASpM,IAAImM,EAAUG,GAAG3N,KACvCyN,EAASI,IAAIL,EAAUG,GAAG3N,MAAOG,QAGrCsN,EAASI,IAAIL,EAAUG,GAAG3N,IAAK,GATrB,qBAYWyN,GAZX,kDAYJ1U,EAZI,KAYC4K,EAZD,KAaJmK,EAAgB3M,EAASuH,MAAK,SAAA/H,GAAO,OAAIA,EAAQX,MAAQjH,KAC/D,QAAqBgV,IAAlBD,EAA6B,iBAChC,IAAOlX,EAAsBkX,EAAtBlX,KAAM+I,EAAgBmO,EAAhBnO,MAAOiC,EAASkM,EAATlM,MACd9C,EAAa,CACfmB,GAAIlH,EACJnC,OACA+I,QACAiC,QACAzB,OAAQwD,GAEZ4J,GAAQ,SAACS,GAAD,6BAAsBA,GAAtB,CAAmClP,QAX/C,2BAAmC,IAZrB,iCA0Bb,CAAC0O,EAAWrM,IAGX,gCACI,cAAC3E,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAY,EAArC,2BAGA,eAAC3E,EAAA,EAAD,CAAMsX,gBAAc,EAApB,UACGhU,EAAK4E,KAAI,SAACd,GAAD,OACR,eAACnH,EAAA,EAAD,CAAUF,UAAWpB,EAAQwY,SAA7B,UACE,cAAC/W,EAAA,EAAD,CAAcC,QAAS+G,EAAQ/J,KAAMiM,UAAS,kBAAalC,EAAQR,UACnE,eAAC3D,EAAA,EAAD,CAAYyB,QAAQ,QAApB,cAA8B0C,EAAQhB,WAFIgB,EAAQ/J,SAKtD,eAAC4C,EAAA,EAAD,CAAUF,UAAWpB,EAAQwY,SAA7B,UACE,cAAC/W,EAAA,EAAD,CAAcC,QAAQ,UACtB,eAAC4C,EAAA,EAAD,CAAYyB,QAAQ,YAAY3E,UAAWpB,EAAQuH,MAAnD,cACIA,WAIR,cAACZ,GAAA,EAAD,CAAMV,WAAS,EAACxC,QAAS,EAAzB,SACE,eAACkD,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,GAAID,GAAI,GAAvB,UACE,cAACxC,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAY,EAAC5E,UAAWpB,EAAQsJ,MAAzD,sBAGA,eAAC3C,GAAA,EAAD,CAAMV,WAAS,EAAf,UACE,cAACU,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,oBAEF,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,mBAA6BzK,EAAMuc,QAAQha,UAA3C,YAAwDvC,EAAMuc,QAAQ/Z,cAExE,cAAC4I,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,6BAEF,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,SAA0BzK,EAAMuc,QAAQc,aAE1C,cAACjS,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,8BAEF,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,SAAqD,KAA3BzK,EAAMuc,QAAQe,SAAkB,YAActd,EAAMuc,QAAQe,aAExF,cAAClS,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,uBAEF,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SACE,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,mBAA6BzK,EAAMuc,QAAQgB,KAA3C,YAAmDvd,EAAMuc,QAAQiB,IAAjE,YAAwExd,EAAMuc,QAAQkB,QAAtF,YAAiGzd,EAAMuc,QAAQjc,uB,UCjG7Hod,GAAUC,aAAW,8CAErBxZ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCuZ,kBAAmB,CACfzV,OAAQ,QACR3B,QAAS,OACTE,eAAgB,SAChBQ,WAAY,SACZiD,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,IAEhC2V,OAAO,aACHtZ,MAAO,OACPkE,WAAYpE,EAAM6D,QAAQ,GAC1BM,YAAanE,EAAM6D,QAAQ,IAC1B7D,EAAM0C,YAAY2B,GAAG,IAAyB,EAAnBrE,EAAM6D,QAAQ,IAAU,CAClD3D,MAAO,IACPkE,WAAY,OACZD,YAAa,SAGnBuG,MAAM,aACFxI,QAASlC,EAAM6D,QAAQ,IACtB7D,EAAM0C,YAAY2B,GAAG,IAAyB,EAAnBrE,EAAM6D,QAAQ,IAAU,CAChDiC,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,GAC5B3B,QAASlC,EAAM6D,QAAQ,KAG/B4V,QAAS,CACLvX,QAASlC,EAAM6D,QAAQ,EAAG,EAAG,IAEjC6V,QAAS,CACLvX,QAAS,OACTE,eAAgB,YAEpBV,OAAQ,CACJmE,UAAW9F,EAAM6D,QAAQ,GACzBO,WAAYpE,EAAM6D,QAAQ,QAI5B8V,GAAQ,CAAC,mBAAoB,oBAAqB,mBAalDC,GAAiB,SAACC,EAAc3B,EAA2BhN,EAAiBmM,EAA8CJ,EAAmBC,GAC/I,OAAO2C,GACH,KAAK,EACD,OAAO,cAAC,GAAD,IACX,KAAK,EACD,OAAO,cAAC,GAAD,CAAQ3B,QAASA,IAC5B,KAAK,EACD,OACI,qBAAK1W,UAAU,eAAf,SACI,cAAC,YAAD,CAAUiW,OAAQ4B,GAAlB,SACI,cAAC,GAAD,CAAanB,QAASA,EAAShN,OAAQA,EAAQmM,UAAWA,EAAWJ,SAAUA,EAAUC,YAAaA,QAItH,QACI,MAAM,IAAIpZ,MAAM,kBAuHbgc,GAlHE,WACb,IAAMlV,EAAWC,cACXzE,EAAUN,KAChB,EAAoCQ,mBAAiB,GAArD,mBAAOyZ,EAAP,KAAmBC,EAAnB,KACA,EAA8B1Z,qBAA9B,mBAAO4X,EAAP,KAAgB+B,EAAhB,KACA,EAA4B3Z,oBAAkB,GAA9C,mBAAO4K,EAAP,KAAemM,EAAf,KACA,EAAgC/W,oBAAkB,GAAlD,mBAAO2W,EAAP,KAAiBC,EAAjB,KAEAxa,qBAAU,WACN,GAAIua,EAAJ,CACA+C,GAAc,SAAAD,GAAU,OAAIA,EAAa,KACzCnV,EAASkE,MAITlE,EAASqL,GAAmB,CAAClB,UAFX,OAEsBC,YADpB,SAEf1R,MAAK,SAAAC,GACFmB,QAAQC,IAAIpB,SAErB,CAAC0Z,EAAUrS,IAwCd,OACI,qBAAKpD,UAAWpB,EAAQmZ,kBAAxB,SACI,sBAAM/X,UAAWpB,EAAQoZ,OAAzB,SACI,eAACpS,GAAA,EAAD,CAAO5F,UAAWpB,EAAQsK,MAA1B,UACA,cAAChG,EAAA,EAAD,CAAY7I,UAAU,KAAKsK,QAAQ,KAAKsD,MAAM,SAA9C,sBAGA,cAACyQ,GAAA,EAAD,CAASH,WAAYA,EAAYvY,UAAWpB,EAAQqZ,QAApD,SACKE,GAAMhQ,KAAI,SAAC2C,GAAD,OACX,cAAC6N,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,UAAY9N,KADLA,QAKf,cAAC,IAAM+N,SAAP,UACKN,IAAeJ,GAAMvR,OACtB,eAAC,IAAMiS,SAAP,WACI,cAAC3V,EAAA,EAAD,CAAYyB,QAAQ,KAAKC,cAAY,EAArC,uCAGA,cAAC1B,EAAA,EAAD,CAAYyB,QAAQ,YAAYC,cAAY,EAA5C,+GAIA,cAAChB,EAAA,EAAD,CAAQvJ,UAAW+F,IAAYxF,GAAG,IAAI+J,QAAQ,YAAY5D,MAAM,UAAUkC,MAAO,CAACrC,OAAQ,QAA1F,6BAKJ,eAAC,IAAMiY,SAAP,WACKT,GAAeG,EAAY7B,EAAShN,EAAQmM,EAAWJ,EAAUC,GAClE,sBAAK1V,UAAWpB,EAAQsZ,QAAxB,UACgB,IAAfK,GACG,cAAC3U,EAAA,EAAD,CAAQ7D,QArCb,WACfyY,EAAcD,EAAa,IAoCsBvY,UAAWpB,EAAQuB,OAAhD,kBAIJ,cAACyD,EAAA,EAAD,CACIe,QAAQ,YACR5D,MAAM,UACNhB,QA9EL,WACf,GAAkB,IAAfwY,EAAH,CAMA,GAAkB,IAAfA,EAAkB,CACjB,IAAQ7b,EAAiDga,EAAjDha,UAAWC,EAAsC+Z,EAAtC/Z,SAAU6a,EAA4Bd,EAA5Bc,SAAUE,EAAkBhB,EAAlBgB,KAAME,EAAYlB,EAAZkB,QAC7C,GAAiB,KAAdlb,GAAgC,KAAbC,GAAgC,KAAb6a,GAA4B,KAATE,GAA2B,KAAZE,EAEvE,YADA1M,MAAM,iEAKd,GAAkB,IAAfqN,EAAiB,CAChB,IAAMO,EAAcC,SAASC,eAAe,eACtCC,EAAkB,IAAIC,SAASJ,GAC/BK,EAAc,CAChBzc,UAAWuc,EAAgBlR,IAAI,aAC/BpL,SAAUsc,EAAgBlR,IAAI,YAC9ByP,SAAUyB,EAAgBlR,IAAI,YAC9B0P,SAAUwB,EAAgBlR,IAAI,YAC9B2P,KAAMuB,EAAgBlR,IAAI,QAC1BtN,MAAOwe,EAAgBlR,IAAI,SAC3B4P,IAAKsB,EAAgBlR,IAAI,OACzB6P,QAASqB,EAAgBlR,IAAI,YAEjC0Q,EAAWU,GAGfX,EAAcD,EAAa,OA9B3B,CACgCQ,SAASC,eAAe,uBAChCI,UA4EJpZ,UAAWpB,EAAQuB,OAJvB,SAMKoY,IAAeJ,GAAMvR,OAAS,EAAK8C,EAAS,cAACX,GAAA,EAAD,CAAkB9F,MAAO,CAAClC,MAAO,WAAe,cAAiB,yBCtL3HsY,GARQ,WACnB,OACI,yBCMOC,GARQ,WACnB,OACI,yBCFKC,GAAY,uCAAG,WAAO9b,GAAP,eAAA/B,EAAA,6DAClB8d,EAAS,CACXrM,QAAS,CACLC,YAAa,mBACbC,cAAc,UAAD,OAAY5P,IAE7B5B,iBAAiB,GANG,kBASjBF,IAAMoM,IAAI,cAAeyR,GAC3B1d,MAAK,SAACC,GAAD,OAAcA,EAAIC,QACvBE,OAAM,SAAA8L,GAAG,OAAI9K,QAAQC,IAAI6K,OAXN,2CAAH,sD,kDCOnB1J,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCqG,UAAW,CACPnG,MAAO,MACPkC,OAAQ,OACR0D,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,GAC5B2C,UAAW,YAgFJyU,GAxDA,WACX,IAAM7a,EAAUN,KACV8E,EAAWC,cACjB,EAA4BvE,mBAA2B,IAAvD,mBAAO4a,EAAP,KAAeC,EAAf,KACQlc,EAAgBjD,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAxD+C,YAaR,OAXAvC,qBAAU,WACNqe,GAAa9b,GACR3B,MAAK,SAAAE,GACF,IAAQ0d,EAA2B1d,EAA3B0d,OAAQE,EAAmB5d,EAAnB4d,eAChBD,EAAUD,GACY,OAAnBE,GACHxW,EAASxF,EAAkBgc,OAE9B1d,OAAM,SAAA8L,GAAG,OAAI9K,QAAQC,IAAI6K,QAC/B,CAACvK,EAAa2F,IAGb,sBAAKpD,UAAWpB,EAAQiG,UAAxB,UACI,cAAC3B,EAAA,EAAD,CAAY7I,UAAU,KAAKsK,QAAQ,KAAKC,cAAY,EAApD,yBAEI8U,EACA,qBAAKzW,MAAO,CAAC4W,UAAW,QAAxB,SACI,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,uBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,qBACA,cAACA,GAAA,EAAD,oBACA,cAACA,GAAA,EAAD,SAGR,cAACC,GAAA,EAAD,UACKR,EAAOvR,KAAI,SAACgS,GACT,IAAMC,EAAOD,EAAMC,KAAKC,MAAM,KAAK,GACnC,OACI,eAACL,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UAAYE,EAAMzT,MAClB,cAACuT,GAAA,EAAD,UAAYG,IACZ,cAACH,GAAA,EAAD,UAAYE,EAAMjU,MAAMU,SACxB,cAACqT,GAAA,EAAD,UAAYE,EAAM9T,QAClB,cAAC4T,GAAA,EAAD,UAAW,cAACrW,EAAA,EAAD,CAAQvJ,UAAW+F,IAAYxF,GAAE,kBAAauf,EAAMzT,KAApD,yBALCyT,EAAMzT,eAYxC,cAACqC,GAAA,EAAD,CAAkBhI,MAAM,gBC/EpCzC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC4Y,SAAU,CACR1W,QAASlC,EAAM6D,QAAQ,EAAG,IAE5B8D,MAAO,CACLkR,WAAY,KAEdnP,MAAO,CACL5D,UAAW9F,EAAM6D,QAAQ,IAE3BwC,UAAW,CACPnG,MAAO,MACPkC,OAAQ,OACR0D,UAAW9F,EAAM6D,QAAQ,GACzBkC,aAAc/F,EAAM6D,QAAQ,GAC5B2C,UAAW,OACXrE,QAAS,OACTE,eAAgB,SAChByZ,aAAc,UAElBxG,cAAe,CACXpV,MAAO,IACP4D,OAAQ,IACRG,aAAc,GAElBsR,gBAAiB,CACbnR,WAAYpE,EAAM6D,QAAQ,QAkJnBkY,GApEK,WAChB,IAAM3b,EAAUN,KACVrD,EAAU+O,cAERrD,GADStD,cACFiL,cAAP3H,IACR,EAA0B7H,wBAAoB2V,GAA9C,mBAAO0F,EAAP,KAAcK,EAAd,KACA,EAA0B1b,wBAA6B2V,GAAvD,mBAAOvO,EAAP,KAAcuU,EAAd,KAEQhd,EAAgBjD,aAAY,SAACC,GAAD,OAAsBA,EAAMC,QAAxD+C,YACAoK,EAAarN,aAAY,SAACC,GAAD,OAAsBA,EAAMoN,YAArDA,SAiBR,OAfA3M,qBAAU,WACNS,IAAMoM,IAAN,sBAAyBpB,GAAO,CAAC9K,iBAAiB,EAAMsR,QAAS,CAACC,YAAa,mBAAoBC,cAAc,UAAD,OAAY5P,MACvH3B,MAAK,SAAAC,GACF,IAAOC,EAAQD,EAARC,KACPwe,EAASxe,EAAKme,OACdM,EA9CwB,SAACC,EAA6BC,GAClE,IAAMxG,EAAW,IAAIC,IACjBwG,EAAmC,GACvC,IAAI,IAAIvG,KAAKqG,EACT,GAAGvG,EAASG,IAAIoG,EAAerG,GAAG3N,KAAlC,CACI,IAAIG,EAASsN,EAASpM,IAAI2S,EAAerG,GAAG3N,KAC5CyN,EAASI,IAAImG,EAAerG,GAAG3N,MAAOG,QAG1CsN,EAASI,IAAImG,EAAerG,GAAG3N,IAAK,GATuD,qBAYvEyN,GAZuE,kDAYtF1U,EAZsF,KAYjF4K,EAZiF,KAarFmK,EAAgBmG,EAAYvL,MAAK,SAAA/H,GAAO,OAAIA,EAAQX,MAAQjH,KAClE,QAAqBgV,IAAlBD,EAA6B,iBAChC,IAAOlX,EAAsBkX,EAAtBlX,KAAM+I,EAAgBmO,EAAhBnO,MAAOiC,EAASkM,EAATlM,MACd9C,EAAoB,CACtBmB,GAAIlH,EACJnC,OACA+I,QACAiC,QACAzB,OAAQwD,GAEZuQ,EAAatU,KAAKd,IAXtB,IAAI,EAAJ,qBAAkC,IAZ6D,8BA0B/F,OAAOoV,EAoBcC,CAAgC7e,EAAKme,MAAMjU,MAAO2B,OAE9D3L,OAAM,SAAA8L,GACH9K,QAAQC,IAAI6K,EAAI5L,UAChB8O,MAAMlD,EAAI5L,SAASJ,KAAKG,OACxBlB,EAAQqL,KAAK,UAGtB,CAACK,EAAIlJ,EAAaoK,EAAU5M,IAG3B,qBAAK+E,UAAWpB,EAAQiG,UAAxB,cACgB4P,IAAV0F,QAAiC1F,IAAVvO,EACzB,eAACX,GAAA,EAAD,CAAMV,WAAS,EAACxC,QAAS,EAAzB,UACI,eAACkD,GAAA,EAAD,CAAMC,MAAI,EAACE,GAAI,GAAIC,GAAI,GAAvB,UACI,cAACzC,EAAA,EAAD,CAAYyB,QAAQ,KAAK3E,UAAWpB,EAAQsJ,MAAOtD,cAAY,EAA/D,6BACA,eAAC3E,EAAA,EAAD,CAAMsX,gBAAc,EAApB,UACKrR,EAAMiC,KAAI,SAACd,GAAD,OACP,eAACnH,EAAA,EAAD,CAA2BF,UAAWpB,EAAQwY,SAA9C,UACI,cAACzC,GAAA,EAAD,UACI,qBAAKlR,IAAK4D,EAAQiB,MAAMC,IAAK5E,IAAK0D,EAAQ/J,KAAM0C,UAAWpB,EAAQkV,kBAEvE,cAACzT,EAAA,EAAD,CAAcC,QAAS+G,EAAQ/J,KAAMiM,UAAS,kBAAalC,EAAQR,QAAU7G,UAAWpB,EAAQmV,kBAChG,eAAC7Q,EAAA,EAAD,CAAYyB,QAAQ,QAApB,cAA8B0C,EAAQhB,WAL3BgB,EAAQV,OAQ3B,cAACpG,EAAA,EAAD,IACA,eAACL,EAAA,EAAD,CAAUF,UAAWpB,EAAQwY,SAA7B,UACI,cAAC/W,EAAA,EAAD,CAAcC,QAAQ,UACtB,eAAC4C,EAAA,EAAD,CAAYlD,UAAWpB,EAAQuH,MAAOxB,QAAQ,YAA9C,cAA4DwV,EAAM9T,kBAI9E,eAACd,GAAA,EAAD,CAAMC,MAAI,EAACE,GAAI,GAAIC,GAAI,GAAvB,UACI,cAACzC,EAAA,EAAD,CAAYyB,QAAQ,KAAK3E,UAAWpB,EAAQsJ,MAAOtD,cAAY,EAA/D,kCACA,eAACW,GAAA,EAAD,CAAMV,WAAS,EAAf,UACI,cAACU,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,oBAClB,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,SAA0BuV,EAAMW,aAAaxd,SAC/D,cAACiI,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,6BAClB,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,SAA0BuV,EAAMW,aAAatD,aAC/D,cAACjS,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,8BAClB,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,SAA0D,KAAhCuV,EAAMW,aAAarD,SAAkB,YAAc0C,EAAMW,aAAarD,aAClH,cAAClS,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,uBAClB,cAACW,GAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAf,SAAkB,cAACzC,EAAA,EAAD,CAAY0B,cAAY,EAAxB,mBAA6BuV,EAAMW,aAAapD,KAAhD,YAAwDyC,EAAMW,aAAargB,MAA3E,YAAoF0f,EAAMW,aAAanD,IAAvG,YAA8GwC,EAAMW,aAAalD,sBAI7J,MCxGCmD,GAzCC,WACZ,IAAM3X,EAAWC,cAMjB,OALAnI,qBAAW,WACPkI,EAASqL,GAAmB,CAAClB,UAAW,OAAQC,YAAa,SACxD1R,MAAK,SAAAC,GAAG,OAAImB,QAAQC,IAAIpB,QAC9B,CAACqH,IAGA,mCACI,eAAC,IAAD,WACI,cAAC,EAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAO8I,KAAK,kBAAkB7R,UAAWwS,KACzC,cAAC,IAAD,CAAOX,KAAK,YAAY7R,UAAWgf,KACnC,cAAC,IAAD,CAAOhf,UAAW8I,QAEtB,eAAC,IAAD,WACI,cAAC,IAAD,CAAO8I,OAAK,EAACC,KAAK,IAAI7R,UAAW4O,KACjC,cAAC,IAAD,CAAOgD,OAAK,EAACC,KAAK,cAAc7R,UAAW2S,KAC3C,cAAC,IAAD,CAAOf,OAAK,EAACC,KAAK,YAAY7R,UAAWsX,KACzC,cAAC,IAAD,CAAO1F,OAAK,EAACC,KAAK,eAAe7R,UAAW+T,KAC5C,cAAC,IAAD,CAAOnC,OAAK,EAACC,KAAK,QAAQ7R,UAAW2a,KACrC,cAAC,IAAD,CAAO/I,OAAK,EAACC,KAAK,WAAW7R,UAAW8a,KACxC,cAAC,IAAD,CAAOlJ,OAAK,EAACC,KAAK,YAAY7R,UAAWie,KACzC,cAAC,EAAD,CAAiBpM,KAAK,kBAAkB7R,UAAW2I,KACnD,cAAC,EAAD,CAAciJ,OAAK,EAACC,KAAK,UAAU7R,UAAWof,KAC9C,cAAC,EAAD,CAAcxN,OAAK,EAACC,KAAK,cAAc7R,UAAWkgB,KAClD,cAAC,EAAD,CAAYtO,OAAK,EAACC,KAAK,UAAU7R,UAAW0X,KAC5C,cAAC,EAAD,CAAY9F,OAAK,EAACC,KAAK,cAAc7R,UAAWyY,KAChD,cAAC,EAAD,CAAY7G,OAAK,EAACC,KAAK,mBAAmB7R,UAAW+X,QAEzD,eAAC,IAAD,WACI,cAAC,IAAD,CAAOlG,KAAK,kBAAkB7R,UAAW0S,KACzC,cAAC,IAAD,CAAOb,KAAK,YAAY7R,UAAWif,KACnC,cAAC,IAAD,CAAOjf,UAAWiS,c,4BCzDhC0O,GAAgB,CAClBvb,IAAK,OACLwb,QAAS,EACTC,Q,QAAAA,GAGEC,GAAUC,aAAgB,CAC5B7X,KAAM8X,GACN3gB,KAAM4gB,EACNzT,SAAU0T,KAGRC,GAAmBC,aAAeT,GAAeG,IAG1CO,GAAQC,YAAe,CAChCR,QAASK,GACTI,WAAY,SAACC,GAAD,OACZA,EAAqB,CACnBC,kBAAmB,CACjBC,eAAgB,CAACC,KAAOC,KAAWC,KAAOC,KAASC,KAAOC,Y,wCChB5D7d,GAAQ8d,aAAe,CACzBC,WAAY,CACVC,WAAY,CACV,UACA,cACAC,KAAK,QAITC,GAAYC,aAAajB,IAE7BkB,IAASjiB,OACL,cAACkiB,GAAA,EAAD,CAAere,MAAOA,GAAtB,SACI,cAACse,GAAA,EAAD,UACI,cAAC,IAAD,CAAUpB,MAAOA,GAAjB,SACI,cAAC,KAAD,CAAale,QAAS,KAAMkf,UAAWA,GAAvC,SACI,cAAC,GAAD,YAKpB3D,SAASC,eAAe,W","file":"static/js/main.89018876.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../redux/store';\r\n\r\nconst PrivateRoute = (props: any) => {\r\n    const {component: Component, ...rest} = props;\r\n    const { authenticated } = useSelector((state: RootState) => state.auth);\r\n\r\n    return (\r\n        <Route {...rest} render={() => (authenticated ? <Component /> : <Redirect to=\"/authentication/login\" />)}/>\r\n    )\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../redux/store';\r\n\r\nconst AdminRoute = (props: any) => {\r\n    const {component: Component, ...rest} = props;\r\n    const { admin } = useSelector((state: RootState) => state.auth);\r\n\r\n    return (\r\n        <Route {...rest} render={() => (admin ? <Component /> : <Redirect to=\"/authentication/login\" />)}/>\r\n    )\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../redux/store';\r\n\r\nconst RestrictedRoute = (props: any) => {\r\n    const {component: Component, ...rest} = props;\r\n    const { authenticated } = useSelector((state: RootState) => state.auth);\r\n\r\n    return (\r\n        <Route {...rest} render={() => (!authenticated ? <Component /> : <Redirect to=\"/\" />)}/>\r\n    )\r\n};\r\n\r\nexport default RestrictedRoute\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst ScrollToTop = ({history}) => {\r\n    useEffect(() => {\r\n        const unlisten = history.listen(() => {\r\n          window.scrollTo(0, 0);\r\n        });\r\n        return () => {\r\n          unlisten();\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    return (null);\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","export default __webpack_public_path__ + \"static/media/logo.9a821720.png\";","import axios from 'axios';\r\n\r\nexport const loginRequest = async (username: string, password: string) => {\r\n    return axios.post('/api/authentication/login', {username, password}, {withCredentials: true})\r\n      .then(res => ({\r\n        data: res.data,\r\n        status: res.status,\r\n      }))\r\n      .catch(error => {\r\n        if(error.response) {\r\n          return ({\r\n            data: error.response.data,\r\n            status: error.response.status,\r\n          });\r\n        } else if (error.request) {\r\n          throw new Error(error.request);\r\n        } else {\r\n          throw new Error(error.message);\r\n        };\r\n      });\r\n};\r\n\r\nexport const registerRequest = async (username: string, password: string, email: string, firstName: string, lastName: string) => {\r\n    return axios.post('/api/authentication/register', {username, password, email, firstName, lastName}, {withCredentials: true})\r\n      .then(res => ({\r\n        data: res.data,\r\n        status: res.status,\r\n      }))\r\n      .catch(error => {\r\n        if(error.response) {\r\n          return ({\r\n            data: error.response.data,\r\n            status: error.response.status,\r\n          });\r\n        } else if (error.request) {\r\n          throw new Error(error.request);\r\n        } else {\r\n          throw new Error(error.message);\r\n        };\r\n      });\r\n};\r\n\r\nexport const logoutRequest = async () => {\r\n  return axios.delete('/api/authentication/logout', {withCredentials: true})\r\n    .then(res => ({\r\n      data: res.data,\r\n      status: res.status,\r\n    }))\r\n    .catch(error => {\r\n      if(error.response) {\r\n        return ({\r\n          data: error.response.data,\r\n          status: error.response.status,\r\n        });\r\n      } else if (error.request) {\r\n        throw new Error(error.request);\r\n      } else {\r\n        throw new Error(error.message);\r\n      };\r\n    });\r\n};","import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport * as authenticateAPI from '../../api/authenticate';\r\n\r\ntype User = {\r\n    _id: string;\r\n    username: string;\r\n    email: string;\r\n    password: string;\r\n};\r\ninterface Authenticate {\r\n    loading: boolean;\r\n    authenticated: boolean;\r\n    admin: boolean;\r\n    accessToken: string;\r\n    user: Array<User>;\r\n};\r\n\r\ntype LoginCredentials = {\r\n    username: string;\r\n    password: string;\r\n};\r\n\r\ntype RegisterCredentials = {\r\n    username: string;\r\n    password: string;\r\n    email: string\r\n    firstName: string;\r\n    lastName: string;\r\n};\r\n\r\ntype LogoutData = {\r\n    message: string;\r\n};\r\n\r\nconst initialState: Authenticate = {\r\n    loading: false,\r\n    authenticated: false,\r\n    admin: false,\r\n    accessToken: '',\r\n    user: []\r\n};\r\n\r\nexport const loginRequest = createAsyncThunk(\r\n    'user/loginRequestStatus', \r\n    async (credentials: LoginCredentials, { rejectWithValue }) => {\r\n        try {\r\n            const {username, password} = credentials;\r\n            const response = await authenticateAPI.loginRequest(username, password);\r\n            if(response.status === 401) return rejectWithValue({message: response.data.message, status: response.status});\r\n            console.log(response);\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        };\r\n    },\r\n);\r\n\r\nexport const registerRequest = createAsyncThunk(\r\n    'user/registerRequestStatus',\r\n    async (credentials: RegisterCredentials, { rejectWithValue }) => {\r\n        try {\r\n            const {username, password, email, firstName, lastName} = credentials;\r\n            const response = await authenticateAPI.registerRequest(username, password, email, firstName, lastName);\r\n            if(response.status === 401) return rejectWithValue({message: response.data.message, status: response.status});\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        };\r\n    },\r\n);\r\n\r\nexport const logoutRequest = createAsyncThunk(\r\n    'user/logoutRequestStatus',\r\n    async ( data: LogoutData, {rejectWithValue}) => {\r\n        try {\r\n            const { message } = data;\r\n            const response = await authenticateAPI.logoutRequest();\r\n            console.log(message);\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        };\r\n    },\r\n);\r\n\r\nexport const authenticateSlice = createSlice({\r\n    name: 'authenticate',\r\n    initialState,\r\n    reducers: {\r\n        updateAccessToken: (state, action) => {\r\n            state.accessToken = action.payload;\r\n        },\r\n        unauthorized: (state) => {\r\n            state.admin = false;\r\n            state.authenticated = false;\r\n            state.accessToken = '';\r\n            state.user = [];\r\n        }, \r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(loginRequest.fulfilled, (state, action) => {\r\n            state.loading = false;\r\n            state.authenticated = true;\r\n            state.user = action.payload.data.user;\r\n            state.accessToken = action.payload.data.accessToken;\r\n            if(action.payload.data.user.admin) state.admin = true;\r\n        });\r\n        builder.addCase(loginRequest.rejected, (state, action) => {\r\n            state.loading = false;\r\n            state.authenticated = false;\r\n        });\r\n        builder.addCase(registerRequest.fulfilled, (state, action) => {\r\n            state.loading = false;\r\n            state.authenticated = true;\r\n            state.user = action.payload.data.user;\r\n            state.accessToken = action.payload.data.accessToken;\r\n            if(action.payload.data.user.admin) state.admin = true;\r\n        });\r\n        builder.addCase(registerRequest.rejected, (state, action) => {\r\n            state.loading = false;\r\n            state.authenticated = false;\r\n        });\r\n        builder.addCase(logoutRequest.fulfilled, (state, action) => {\r\n            state.authenticated = false;\r\n            state.admin = false;\r\n            state.user = [];\r\n            state.accessToken = '';\r\n        });\r\n    },\r\n});\r\n\r\nexport const { unauthorized, updateAccessToken } = authenticateSlice.actions;\r\nexport default authenticateSlice.reducer;","import React, {useState, useEffect} from 'react';\r\nimport { Drawer, List, ListItem, ListItemIcon, ListItemText, makeStyles, Typography, Button, Divider } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    drawer: {\r\n        width: '50vw'\r\n    }\r\n}));\r\n\r\ntype Props = {\r\n    drawer: boolean;\r\n    setDrawer: React.Dispatch<React.SetStateAction<boolean>>;\r\n    handleLogout: any;\r\n};\r\n\r\ntype Auth = {\r\n    logged: boolean;\r\n    link: string;\r\n    text: string;\r\n};\r\n\r\n\r\nconst DrawerNavigation = (props: Props) => {\r\n    const classes = useStyles();\r\n    const [drawer, setDrawer] = [props.drawer, props.setDrawer];\r\n    const [auth, setAuth] = useState<Auth>({logged: false, link: '/login', text: 'Login'});\r\n    const [adminState, setAdminState] = useState<boolean>(false);\r\n    const { authenticated, admin } = useSelector((state: RootState) => state.auth);\r\n\r\n    useEffect(() => {\r\n        if(authenticated) { setAuth({logged: true, link: '/logout', text: 'Log Out'}); return };\r\n        setAuth({logged: false, link: '/login', text: 'Login'});\r\n    }, [authenticated]);\r\n\r\n    useEffect(() => {\r\n        if(admin) { setAdminState(true); return; };\r\n        setAdminState(false);\r\n    }, [admin]);\r\n\r\n    const toggleDrawer = (open: boolean) => ( event: React.KeyboardEvent | React.MouseEvent ) => {\r\n        if (\r\n            event.type === 'keydown' &&\r\n            ((event as React.KeyboardEvent).key === 'Tab' ||\r\n            (event as React.KeyboardEvent).key === 'Shift')\r\n        ) return;\r\n\r\n        setDrawer(open);\r\n    };\r\n\r\n    const list = () => (\r\n        <div role=\"presentation\" onKeyDown={toggleDrawer(false)} onClick={toggleDrawer(false)} className={classes.drawer}>\r\n            <List>\r\n                <ListItem button component={RouterLink} to={'/collection'}>\r\n                    <ListItemText primary='COLLECTION'/>\r\n                </ListItem>\r\n                {adminState ?\r\n                    <ListItem button component={RouterLink} to={'/manage'}>\r\n                        <ListItemText primary='MANAGE PRODUCTS'/>\r\n                    </ListItem>\r\n                :\r\n                    <ListItem button component={RouterLink} to={'/products'}>\r\n                        <ListItemText primary='PRODUCTS'/>\r\n                    </ListItem>\r\n                }\r\n\r\n                <ListItem button component={RouterLink} to={'/contact'}>\r\n                    <ListItemText primary='CONTACT US'/>\r\n                </ListItem>\r\n                <ListItem button component={RouterLink} to={'/orders'}>\r\n                    <ListItemText primary='YOUR ORDERS'/>\r\n                </ListItem>\r\n                <Divider></Divider>\r\n                {auth.logged ? \r\n                    <ListItem button onClick={props.handleLogout}>\r\n                        <ListItemText primary='LOG OUT'/>\r\n                    </ListItem>            \r\n                : \r\n                    <ListItem button component={RouterLink} to={'/authentication/login'}>\r\n                        <ListItemText primary='LOGIN'/>\r\n                    </ListItem>\r\n                }\r\n            </List>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n          <Drawer anchor=\"right\" open={drawer} onClose={toggleDrawer(false)}>\r\n            {list()}\r\n          </Drawer>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DrawerNavigation;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Typography, makeStyles, Link, Badge, IconButton, Button } from '@material-ui/core';\r\nimport logo from '../../images/logo.png';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState, AppDispatch } from '../../redux/store';\r\nimport { logoutRequest } from '../../redux/reducers/authenticate';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Drawer from './DrawerNavigation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    sumBar: {\r\n        padding: '10px 0',\r\n        display: 'flex',\r\n        width: '80%',\r\n        margin: 'auto',\r\n        justifyContent: 'flex-end',\r\n        '& a': {\r\n            textDecoration: 'none',\r\n            color: 'black',\r\n            '&:hover': {\r\n                color: '#587D9F'\r\n            }, \r\n        },\r\n        flexWrap: 'wrap',\r\n        opacity: 0.7,\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'none'\r\n        }, \r\n    },\r\n    navBar: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-evenly', \r\n        flexWrap: 'wrap',\r\n    },\r\n    navBarLinks: {\r\n        display: 'flex',\r\n        listStyle: 'none',\r\n        padding: 0,\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'none'\r\n        },\r\n        flex: 3,\r\n        justifyContent: 'flex-start',\r\n        '& a': {\r\n            textDecoration: 'none',\r\n            color: 'black',\r\n            '&:hover': {\r\n                color: '#587D9F'\r\n            }, \r\n        },\r\n        '& li':{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n        }, \r\n    },\r\n    contactContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    growContainer: {\r\n        flexGrow: 1,\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'none'\r\n        }, \r\n    },\r\n    authentication: {\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n        display: 'flex',\r\n        listStyle: 'none',\r\n        padding: 0,\r\n        alignItems: 'center',\r\n        textDecoration: 'none',\r\n        [theme.breakpoints.down('xs')]: {\r\n            flex: 2\r\n        }\r\n    },\r\n    authLink: {\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    hamburger: {\r\n        display: 'none',\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    heroContainer: {\r\n        background: '#F2FBFF',\r\n        position: 'sticky',\r\n        top: 0,\r\n        zIndex: 999\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        marginRight: theme.spacing(2),\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n          marginLeft: theme.spacing(3),\r\n          width: 'auto',\r\n        },\r\n    },\r\n    searchInput: {\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    },\r\n}));\r\n\r\ntype Auth = {\r\n    logged: boolean;\r\n    link: string;\r\n    text: string;\r\n};\r\n\r\nconst Authentication = (props: Auth) => {\r\n    const {link, text} = props;\r\n    return (\r\n        <RouterLink to={`/authentication${link}`} style={{textDecoration: 'none', color: 'black'}}>\r\n            <Typography>{text}</Typography>\r\n        </RouterLink>\r\n    )\r\n};\r\n\r\nconst Header = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const [auth, setAuth] = useState<Auth>({logged: false, link: '/login', text: 'Login'});\r\n    const [drawer, setDrawer] = useState<boolean>(false);\r\n    const [adminState, setAdminState] = useState<boolean>(false);\r\n    const { authenticated, admin } = useSelector((state: RootState) => state.auth);\r\n    const { count } = useSelector((state: RootState) => state.cart);\r\n\r\n    useEffect(() => {\r\n        if(authenticated) { setAuth({logged: true, link: '/logout', text: 'Log Out'}); return };\r\n        setAuth({logged: false, link: '/login', text: 'Login'});\r\n    }, [authenticated]);\r\n\r\n    useEffect(() => {\r\n        if(admin) { setAdminState(true); return; };\r\n        setAdminState(false);\r\n    }, [admin]);\r\n\r\n    const handleLogout = async () => {\r\n        await dispatch(logoutRequest({message: \"Logout request\"}))\r\n            .then(res => console.log(res));\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.sumBar}>\r\n                <div className={classes.contactContainer}>\r\n                    <Typography component={RouterLink} to=\"/contact\">CONTACT US</Typography>\r\n                    <Typography style={{margin: '0 20px'}}>•</Typography>\r\n                    <Typography component={RouterLink} to=\"/orders\">YOUR ORDERS</Typography>\r\n                </div>\r\n            </div>\r\n            <div className={classes.heroContainer}>\r\n                <nav className={classes.navBar}>\r\n                    <ul style={{width: '100%', display: 'flex', listStyle: 'none', padding: 0}}>\r\n                        <li style={{flex: 1}}>\r\n                            <Link component={RouterLink} to=\"/\">\r\n                            <img src={logo} alt=\"\" style={{height: 70, width: 70}}/>\r\n                            </Link>\r\n                        </li>\r\n                        <ul className={classes.navBarLinks}>\r\n                            <li style={{marginRight: 20}}>\r\n                                <RouterLink to=\"/collection\">\r\n                                    <Typography>COLLECTION</Typography>\r\n                                </RouterLink>\r\n                            </li>\r\n                            \r\n                            {adminState ? \r\n                                <li style={{marginRight: 20}}>\r\n                                    <RouterLink to=\"/manage\">\r\n                                        <Typography>MANAGE PRODUCTS</Typography>\r\n                                    </RouterLink>\r\n                                </li>\r\n                                :\r\n                                <li style={{marginRight: 20}}>\r\n                                    <RouterLink to=\"/products\">\r\n                                        <Typography>PRODUCTS</Typography>\r\n                                    </RouterLink>\r\n                                </li>\r\n                            }\r\n                        </ul>\r\n                        <div className={classes.growContainer}></div>\r\n                        <ul className={classes.authentication}>\r\n                            <li style={{marginRight: 20}} className={classes.authLink}>\r\n                                {!auth.logged ? <Authentication {...auth}/> : \r\n                                    <Button onClick={handleLogout}>Log Out</Button>\r\n                                }\r\n                            </li>\r\n                            <li>\r\n                                <IconButton component={RouterLink} to=\"/cart\">\r\n                                    <Badge color=\"secondary\" badgeContent={count}>\r\n                                        <ShoppingCartIcon />\r\n                                    </Badge>\r\n                                </IconButton>\r\n                            </li>\r\n                            <li className={classes.hamburger}>\r\n                                <IconButton onClick={() => setDrawer(previousState => !previousState)}>\r\n                                    <MenuIcon />\r\n                                </IconButton>\r\n                            </li>\r\n                        </ul>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n            <Drawer drawer={drawer} setDrawer={setDrawer} handleLogout={handleLogout} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, {useState} from 'react';\r\nimport { Typography, makeStyles, Button } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    heroContainer: {\r\n        height: '60vh',\r\n        background: '#CEE7FD',\r\n        position: 'relative',\r\n    },\r\n    heroTextContainer: {\r\n        width: '80%',\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%,-50%)',\r\n        zIndex: 5,\r\n    },\r\n    heroText: {\r\n        width: '40%',\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '80%'\r\n        }\r\n    },\r\n    btnShopNow: {\r\n        marginTop: theme.spacing(4),\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    slider: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        zIndex: 3,\r\n        '& img': {\r\n            height: '100%',\r\n            position: 'absolute',\r\n            right: 0,\r\n            top: '50%',\r\n            transform: 'translate(0%,-50%)' \r\n        }\r\n    },\r\n}));\r\n\r\nconst Hero = () => {\r\n    const classes = useStyles();\r\n    const { admin } = useSelector((state: RootState) => state.auth);\r\n\r\n    return (\r\n        <div className={classes.heroContainer}>\r\n            <div className={classes.heroTextContainer}>\r\n                <Typography variant=\"h4\" gutterBottom={true} className={classes.heroText}>Shop all brands and essentials, Now with huge discounts.</Typography>\r\n                <Typography variant=\"body1\">Coming to your doorstep with a huge discount.</Typography>\r\n                <div className={classes.btnShopNow}>\r\n                    <Button color=\"primary\" variant=\"contained\" component={RouterLink} to={admin ? '/manage' : 'products'}>Shop Now</Button>\r\n                </div>\r\n            </div>\r\n            <div className={classes.slider}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Hero\r\n","export default __webpack_public_path__ + \"static/media/chair.513e1ad2.png\";","export default __webpack_public_path__ + \"static/media/grocery.1f788de7.png\";","export default __webpack_public_path__ + \"static/media/macbook.36c93a13.png\";","import React from 'react';\r\nimport { Typography, makeStyles, Grid, Paper, Button } from '@material-ui/core';\r\nimport chair from '../../images/chair.png';\r\nimport grocery from '../../images/grocery.png';\r\nimport macbook from '../../images/macbook.png';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto', \r\n        marginTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(3),\r\n    },\r\n    collectionContainer: {\r\n        background: '#F2FBFF',\r\n        display: 'flex',\r\n        height: '30vh',\r\n        alignItems: 'center',\r\n        maxHeight: '350px',\r\n        minHeight: '200px',\r\n    },\r\n    collectionImage: {\r\n        flex: 1,\r\n        '& img': {\r\n            width: '100%',\r\n            maxHeight: '300px',\r\n            objectFit: 'cover',\r\n        },\r\n    },\r\n    collectionDescription: {\r\n        padding: 5,\r\n        flex: 1.5,\r\n    },\r\n    collectionShopNowBtn: {\r\n        borderBottom: '3px solid #587D9F',\r\n    }\r\n}));\r\n\r\nconst TrendingProducts = () => {\r\n    const classes = useStyles();\r\n    const { admin } = useSelector((state: RootState) => state.auth);\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Grid container spacing={3}>\r\n                <Grid item md={4} sm={6} xs={12}>\r\n                    <Paper className={classes.collectionContainer}>\r\n                        <div className={classes.collectionImage}>\r\n                            <img src={chair} alt=\"\" />\r\n                        </div>\r\n                        <div className={classes.collectionDescription}>\r\n                            <Typography variant=\"h5\">Home Decor</Typography>\r\n                            <Typography paragraph color=\"textSecondary\">Complete your space with modern decor</Typography>\r\n                            <Button className={classes.collectionShopNowBtn} style={{borderRadius: 0}} component={RouterLink} to={admin ? '/manage?filter=homeDecor' : '/products?filter=homeDecor'}>Shop Now</Button>\r\n                        </div>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item md={4} sm={6} xs={12}>\r\n                    <Paper className={classes.collectionContainer}>\r\n                        <div className={classes.collectionImage}>\r\n                            <img src={macbook} alt=\"\" />\r\n                        </div>\r\n                        <div className={classes.collectionDescription}>\r\n                            <Typography variant=\"h5\">Electronics</Typography>\r\n                            <Typography paragraph color=\"textSecondary\">Ramp up your wardrobe with the latest trend</Typography>\r\n                            <Button className={classes.collectionShopNowBtn} style={{borderRadius: 0}} component={RouterLink} to={admin ? '/manage?filter=electronics' : '/products?filter=electronics'}>Shop Now</Button>\r\n                        </div>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item md={4} sm={6} xs={12}>\r\n                    <Paper className={classes.collectionContainer}>\r\n                        <div className={classes.collectionImage}>\r\n                            <img src={grocery} alt=\"\" />\r\n                        </div>\r\n                        <div className={classes.collectionDescription}>\r\n                            <Typography variant=\"h5\">Shop Grocery</Typography>\r\n                            <Typography paragraph color=\"textSecondary\">Ramp up your wardrobe with the latest trend</Typography>\r\n                            <Button className={classes.collectionShopNowBtn} style={{borderRadius: 0}} component={RouterLink} to={admin ? '/manage?filter=grocery' : '/products?filter=grocery'}>Shop Now</Button>\r\n                        </div>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TrendingProducts\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\ntype Item = {\r\n  _id: string;\r\n  date: string;\r\n  description: string;\r\n  image: {\r\n    url: string;\r\n    public_id: string;\r\n  };\r\n  name: string;\r\n  price: number;\r\n  soldPieces: number;\r\n}\r\n\r\n\r\ninterface CartState {\r\n  items: Array<Item>;\r\n  total: number;\r\n  count: number;\r\n};\r\n\r\nconst initialState: CartState = {\r\n  items: [],\r\n  total: 0,\r\n  count: 0,\r\n};\r\n\r\nexport const cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    addToCart: (state, action) => {\r\n      state.count++;\r\n      state.total = state.total + action.payload.price;\r\n      state.items.push(action.payload);\r\n    },\r\n    removeFromCart: (state, action) => {\r\n      const newItemsArray = state.items.filter(item => item._id !== action.payload.id);\r\n      state.items = newItemsArray;\r\n      state.count = newItemsArray.length;\r\n      state.total = state.total - action.payload.price * action.payload.amount;\r\n    },\r\n    updateCart: (state, action) => {\r\n      const removedProducts = action.payload.data.arrayOfProductsIDs;\r\n      let productsInCart = state.items;\r\n      removedProducts.forEach((removedProductId: string) => {\r\n        const updatedProductsInCart = productsInCart.filter(product => product._id !== removedProductId)\r\n        productsInCart = updatedProductsInCart;\r\n      });\r\n      state.items = productsInCart;\r\n      state.count = productsInCart.length;\r\n    },\r\n    cleanCart: (state) => {\r\n      state.items = [];\r\n      state.total = 0;\r\n      state.count = 0;\r\n    },\r\n  },\r\n});\r\n// Action creators are generated for each case reducer function\r\nexport const { addToCart, removeFromCart, updateCart, cleanCart } = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Typography, Grid, Card, CardMedia, CardContent, Button, CardActions, makeStyles, CircularProgress } from '@material-ui/core';\r\nimport { Rating } from '@material-ui/lab';\r\nimport axios from 'axios';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addToCart } from '../../redux/reducers/cartSlice';\r\nimport { AppDispatch } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    section: {\r\n        width: '100%',\r\n        margin: '50px 0'\r\n    },\r\n    media: {\r\n        height: 0,\r\n        paddingTop: '100%',\r\n    },\r\n}));\r\n\r\ntype Props = {\r\n    category: string;\r\n    title: string;\r\n};\r\n\r\ntype Product = {\r\n    category: string;\r\n    description: string;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n    name: string;\r\n    price: number;\r\n    _id: string;\r\n};\r\n\r\nconst DisplayTopProducts = (props: Props) => {\r\n    const classes = useStyles();\r\n    const [category, setCategory] = useState<string>('');\r\n    const [products, setProducts] = useState<Array<Product>>([]);\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n    useEffect(() => {\r\n        setCategory(props.category);\r\n    }, [props.category]);\r\n\r\n    useEffect(() => {\r\n        if(category === '') return;\r\n        axios.get(`/api/products/collection?category=${category}`)\r\n            .then(res => setProducts(res.data.products))\r\n            .catch(err => console.log(err));\r\n    }, [category]);\r\n\r\n    if(products && products.length > 0) return (\r\n        <section className={classes.section}>\r\n            <Typography variant=\"h4\" align=\"center\" gutterBottom={true}>{props.title}</Typography>\r\n            <Grid container spacing={3}>\r\n                {products.map((product) => (\r\n                    <Grid item md={4} sm={6} xs={12} key={product._id}>\r\n                        <Card>\r\n                            <CardMedia image={product.image.url} className={classes.media} title=\"Product\"/>\r\n                            <CardContent>\r\n                                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                    {product.name}\r\n                                </Typography>\r\n                                <div style={{display: 'flex', alignItems: 'center'}}>\r\n                                    <Typography variant=\"h6\">${product.price}</Typography>\r\n                                    <Rating readOnly defaultValue={3.5} precision={0.5}/>\r\n                                </div>\r\n                                <Typography variant=\"body2\" color=\"textSecondary\" paragraph>\r\n                                    {product.description}\r\n                                </Typography>\r\n                            </CardContent>\r\n                            <CardActions>\r\n                                <Button color=\"secondary\" variant=\"outlined\" onClick={() => dispatch(addToCart(product))}>Add to cart</Button>\r\n                                <Button color=\"primary\" component={RouterLink} to={`/product/${product._id}`} >View More</Button>\r\n                            </CardActions>\r\n                        </Card>\r\n                    </Grid>\r\n                ))}\r\n            </Grid>\r\n        </section>\r\n    )\r\n    else return (\r\n        <div>\r\n            <CircularProgress color=\"primary\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DisplayTopProducts;\r\n","import React from 'react';\r\nimport {  makeStyles } from '@material-ui/core';\r\nimport DisplayTopProducts from '../shared/DisplayTopProducts';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n    },\r\n}));\r\n\r\nconst LatestProducts = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <DisplayTopProducts category=\"homeDecor\" title=\"Most Exclusive Decor\"/>\r\n            <DisplayTopProducts category=\"electronics\" title=\"Best Quality For a Reasonable Price\"/>\r\n            <DisplayTopProducts category=\"grocery\" title=\"Freshest Goods On The Marketplace\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LatestProducts\r\n","import React from 'react';\r\nimport Hero from '../components/landing/Hero';\r\nimport TrendingProducts from '../components/landing/TrendingProducts';\r\nimport LatestProducts from '../components/landing/LatestProducts';\r\n\r\nconst Index = () => {\r\n    return (\r\n        <>\r\n            <Hero />\r\n            <TrendingProducts /> \r\n            <LatestProducts />  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React, {useState} from 'react';\r\nimport { Typography, Avatar, Button, TextField, Grid, makeStyles, Container } from '@material-ui/core';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Link as RouterLink, useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginRequest } from '../../redux/reducers/authenticate'; \r\nimport { AppDispatch } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    width: '100%',\r\n    height: '100vh',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center', \r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:hover': {\r\n      color: '#587D9F',\r\n    },\r\n  },\r\n}));\r\n\r\ntype ErrorMessage = {\r\n  error: boolean;\r\n  message: string;\r\n};\r\n\r\n\r\nconst generateErrorMessage = (setter:  React.Dispatch<React.SetStateAction<ErrorMessage>>, message: string) => {\r\n  setter({error: true, message});\r\n};\r\n\r\n\r\nconst Login = () => {\r\n  const [errorMessage, setErrorMessage] = useState<ErrorMessage>({error: false, message: ''});\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  const handleLoginRequest = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n    const target = e.target as typeof e.target & {\r\n      username: { value: string };\r\n      password: { value: string };\r\n    };\r\n\r\n    const username = target.username.value;\r\n    const password = target.password.value;\r\n    \r\n    if(username === '' || password === '')\r\n    { generateErrorMessage(setErrorMessage, 'Fields are requried'); return; };\r\n    \r\n    await dispatch(loginRequest({username, password}))\r\n      .then(res => {\r\n        if(res.payload.status === 401) {generateErrorMessage(setErrorMessage, res.payload.message); return; };\r\n        history.push('/');\r\n      });\r\n  };\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        {errorMessage.error && <Typography color=\"error\" align=\"center\" variant=\"body1\">{errorMessage.message}</Typography>}\r\n        <form className={classes.form} noValidate onSubmit={handleLoginRequest}>\r\n          <TextField variant=\"outlined\" margin=\"normal\" required fullWidth id=\"username\" label=\"Username\" type=\"text\" name=\"username\" autoFocus />\r\n          <TextField variant=\"outlined\" margin=\"normal\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" />\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <RouterLink to=\"/authentication/register\" className={classes.link}>\r\n                <Typography variant=\"body2\">Don't have an account? Sign Up</Typography>\r\n              </RouterLink>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;","import axios from 'axios';\r\n\r\nexport const getEmailNewsletter = async (email: string) => {\r\n    return axios.post('/api/contact/newsletter', {email})\r\n    .then(res => alert(res.data.message))\r\n    .catch((error) => {\r\n        if(error.response) {\r\n            return error.response.data.message;\r\n        } else if (error.request) {\r\n            return error.request;\r\n        } else {\r\n            return error.message;\r\n        };\r\n    });\r\n};","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport { Typography, Avatar, Button, TextField, FormControlLabel, Checkbox, Grid, makeStyles, Container } from '@material-ui/core';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { Link as RouterLink, useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { registerRequest } from '../../redux/reducers/authenticate'; \r\nimport { AppDispatch } from '../../redux/store';\r\nimport { getEmailNewsletter } from '../../api/contact';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    width: '100%',\r\n    height: '100vh',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center', \r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:hover': {\r\n      color: '#587D9F',\r\n    },\r\n  },\r\n}));\r\n\r\ntype ErrorMessage = {\r\n  error: boolean;\r\n  message: string;\r\n};\r\n\r\nconst generateErrorMessage = (setter:  React.Dispatch<React.SetStateAction<ErrorMessage>>, message: string) => {\r\n  setter({error: true, message});\r\n};\r\n\r\nconst Register = () => {\r\n  const [password, setPassword] = useState<string>('');\r\n  const [matchingPasswords, setMatchingPasswords] = useState<boolean>(true);\r\n  const [subscribe, setSubscribe] = useState<boolean>(false);\r\n  const [errorMessage, setErrorMessage] = useState<ErrorMessage>({error: false, message: ''});\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const history = useHistory();\r\n\r\n  const handleRegisterRequest = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if(!matchingPasswords) { generateErrorMessage(setErrorMessage, 'Passwords do not match!'); return; };\r\n    \r\n    const target = e.target as typeof e.target & {\r\n      firstName: { value: string };\r\n      lastName: { value: string };\r\n      username: { value: string };\r\n      email: { value: string };\r\n      password: { value: string };\r\n      comfirmpassword: { value: string};\r\n    };\r\n\r\n    const email = target.email.value;\r\n    const firstName = target.firstName.value;\r\n    const lastName = target.lastName.value;\r\n    const username = target.username.value;\r\n    const password = target.password.value;\r\n\r\n    if(email === '' || firstName === '' || lastName === '' || username === '' || password === '')\r\n    { generateErrorMessage(setErrorMessage, 'Fields are requried!'); return; };\r\n\r\n    const confirmpassword = target.comfirmpassword.value;\r\n    if(password !== confirmpassword) { generateErrorMessage(setErrorMessage, 'Passwords do not match'); return; };\r\n    \r\n    await dispatch(registerRequest({username, password, email, firstName, lastName}))\r\n      .then(res => {\r\n        if(res.payload.status === 400) {generateErrorMessage(setErrorMessage, res.payload.data.message); return; };\r\n      })\r\n      .then(() => {\r\n        if(subscribe) return getEmailNewsletter(email);\r\n      })\r\n      .then((data) => {\r\n        console.log(data);\r\n      });\r\n  };\r\n\r\n  const handleMatchingPasswords = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const confirmPassword = e.target.value;\r\n    if(confirmPassword !== password){ setMatchingPasswords(false); return};\r\n    setMatchingPasswords(true);\r\n  };\r\n\r\n  const handleSubscribe = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSubscribe(e.target.checked);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        {errorMessage.error && <Typography color=\"error\" align=\"center\" variant=\"body1\">{errorMessage.message}</Typography>}\r\n        <form className={classes.form} noValidate onSubmit={handleRegisterRequest}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField autoComplete=\"fname\" name=\"firstName\" variant=\"outlined\" required fullWidth id=\"firstName\" label=\"First Name\" autoFocus />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField variant=\"outlined\" required fullWidth id=\"lastName\" label=\"Last Name\" name=\"lastName\" autoComplete=\"lname\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField variant=\"outlined\" required fullWidth id=\"username\" label=\"Username\" name=\"username\" type=\"text\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField variant=\"outlined\" required fullWidth id=\"email\" label=\"Email Address\" name=\"email\" autoComplete=\"email\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField variant=\"outlined\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={(e: React.ChangeEvent<HTMLInputElement>) => {setPassword(e.target.value)}}/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField error={!matchingPasswords} variant=\"outlined\" required fullWidth name=\"comfirmpassword\" label=\"Confirm Password\" type=\"password\" id=\"confirmpassword\" onChange={handleMatchingPasswords}/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" checked={subscribe} onChange={handleSubscribe}/>}\r\n                label=\"I want to receive inspiration, marketing promotions and updates via email.\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <RouterLink to=\"/authentication/login\" className={classes.link}>\r\n                <Typography variant=\"body2\">Already have an account? Sign in</Typography>\r\n              </RouterLink>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Login from '../components/authentication/Login';\r\nimport Register from '../components/authentication/Register';\r\n\r\nconst Authentication = () => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/authentication/login\" component={Login}/>\r\n            <Route exact path=\"/authentication/register\" component={Register}/>\r\n        </Switch>\r\n    );\r\n};\r\n\r\nexport default Authentication;\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { Typography, makeStyles, Divider, Button, TextField, Container, InputAdornment  } from '@material-ui/core';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport { getEmailNewsletter } from '../../api/contact';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        display: 'flex',\r\n        minHeight: '10vh',\r\n        flexWrap: 'wrap',\r\n    },\r\n    collectionContainer: {\r\n        flex: 1,\r\n        minWidth: '300px',\r\n        '& ul':{\r\n            listStyle: 'none', \r\n            padding: 0,\r\n            '& li': {\r\n                margin: '5px 0',\r\n            }, \r\n            '& a': {\r\n                textDecoration: 'none',\r\n                color: 'black',\r\n                '&:hover': {\r\n                    color: '#587D9F'\r\n                }, \r\n            },\r\n        }\r\n    },\r\n    contactContainer: {\r\n        flex: 1,\r\n        minWidth: '300px',\r\n\r\n        '& ul':{\r\n            listStyle: 'none', \r\n            padding: 0,\r\n            '& li': {\r\n                margin: '5px 0',\r\n            }, \r\n            '& a': {\r\n                textDecoration: 'none',\r\n                color: 'black',\r\n                '&:hover': {\r\n                    color: '#587D9F'\r\n                }, \r\n            },\r\n        }\r\n    },\r\n    newsletterContainer: {\r\n        flex: 2,\r\n        minWidth: '300px',\r\n        '& ul':{\r\n            listStyle: 'none', \r\n            padding: 0,\r\n            '& li': {\r\n                margin: '5px 0',\r\n            }, \r\n            '& form': {\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'flex-start',\r\n                '& button': {\r\n                    marginTop: theme.spacing(2)\r\n                }\r\n            },\r\n        },\r\n    },\r\n    divGrow: {\r\n        flexGrow: 1,\r\n    }\r\n}));\r\n\r\nconst Footer = () => {\r\n    const classes = useStyles();\r\n\r\n    const handleSubscribe = async (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        const target = e.target as typeof e.target & {\r\n            email: { value: string };\r\n        };\r\n        const email = target.email.value;\r\n\r\n        const response = await getEmailNewsletter(email);\r\n        if(response) alert(response);\r\n        target.email.value = '';\r\n    };\r\n\r\n    return (\r\n        <div style={{background: '#F2FBFF'}}>\r\n            <div style={{width: '80%', margin: 'auto'}}>\r\n                <div className={classes.container} style={{padding: '30px 0'}}>\r\n                    <div className={classes.collectionContainer}>\r\n                        <Typography variant=\"h5\" gutterBottom={true}>Collection</Typography>\r\n                        <ul>\r\n                            <li><Typography component={RouterLink} to=\"/collection\" gutterBottom={true}>On the Edge</Typography></li>\r\n                            <li><Typography component={RouterLink} to=\"/collection\" gutterBottom={true}>Master of the Night</Typography></li>\r\n                            <li><Typography component={RouterLink} to=\"/collection\" gutterBottom={true}>Never More</Typography></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className={classes.contactContainer}>\r\n                        <Typography variant=\"h5\" gutterBottom={true}>Contact</Typography>\r\n                        <ul>\r\n                            <li><Typography component={RouterLink} to=\"/contact\">Contact Us</Typography></li>\r\n                            <li>\r\n                                <div style={{opacity: 0.7}}>\r\n                                    <Typography>Philip Tran</Typography>\r\n                                    <Typography>Čapkova 1658/18</Typography>\r\n                                    <Typography>Cheb 350 02, CZ</Typography>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className={classes.newsletterContainer}>\r\n                        <Typography variant=\"h5\" gutterBottom={true}>Newsletter</Typography>\r\n                        <ul>\r\n                            <li>\r\n                                <Typography paragraph align=\"justify\">\r\n                                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Illum numquam in amet, nisi assumenda totam odit! Ratione doloribus perspiciatis quasi porro recusandae autem perferendis expedita nemo temporibus minima. Hic, libero?\r\n                                </Typography>\r\n                            </li>\r\n                            <li>\r\n                                <form onSubmit={handleSubscribe}>\r\n                                    <TextField label=\"Email\" name=\"email\" variant=\"outlined\" InputProps={{startAdornment: (<InputAdornment position=\"start\"><EmailIcon /></InputAdornment>)}} />\r\n                                    <Button type=\"submit\" color=\"primary\" variant=\"contained\" size=\"large\">Subscribe</Button>\r\n                                </form>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <Divider></Divider>\r\n                <div className={classes.container} style={{alignItems: 'center'}}>\r\n                    <div><Typography color=\"textSecondary\" style={{marginRight: 20}}>Privacy Policy</Typography></div>\r\n                    <div><Typography color=\"textSecondary\">Terms and Conditions</Typography></div>\r\n                    <div className={classes.divGrow}></div>\r\n                    <div><Typography color=\"textSecondary\">Philip Tran | 2021</Typography></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles, IconButton, Typography } from '@material-ui/core';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    backButton: {\r\n        position: 'absolute',\r\n        top: '3%',\r\n        left: '3%',\r\n        display: 'flex',\r\n        alignItems:'center'\r\n    }\r\n}));\r\n\r\nconst AuthHeader = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <div className={classes.backButton}>\r\n            <IconButton onClick={() => {history.push(\"/\", {from: \"Authentication\"})}}>\r\n                <ArrowBackIcon />\r\n            </IconButton>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">Back</Typography>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthHeader\r\n","import React from 'react'\r\n\r\nconst AuthFooter = () => {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthFooter\r\n","import React from 'react';\r\nimport { Typography, makeStyles } from '@material-ui/core';\r\nimport DisplayTopProducts from '../shared/DisplayTopProducts';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        marginTop: theme.spacing(4),\r\n    },\r\n}));\r\n\r\nconst Collection = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Typography variant=\"h4\" component=\"h2\" align=\"center\">Our handpicked collection just for you</Typography>\r\n            <DisplayTopProducts category=\"ontheedge\" title=\"On the Edge\"/>\r\n            <DisplayTopProducts category=\"masterofthenight\" title=\"Master of the Night\"/>\r\n            <DisplayTopProducts category=\"nevermore\" title=\"Never More\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Collection\r\n","import axios from 'axios';\r\n\r\n\r\nexport const addProduct = async (name: string, price: number, description: string, file: string  | ArrayBuffer, category: string, accessToken: string) => {\r\n    return await axios.post('/api/products/addProduct', {name, price, description, file, category} ,{headers: { ContentType: 'application/json', Authorization: `Bearer ${accessToken}` }, withCredentials: true});\r\n};\r\n\r\nexport const getProducts = async (sortState: string, filterState: string) => {\r\n    return await axios.get(`/api/products?sort=${sortState}&filter=${filterState}`, {headers: {\"Access-Control-Allow-Origin\": \"*\"}})\r\n        .then(res => res.data.fetchedProducts)\r\n        .catch(err => err.response.message);\r\n};\r\n\r\nexport const deleteProducts = async (productsIds: Array<string>, accessToken: string) => {\r\n    return await axios.post('/api/products/delete', {products: productsIds}, {headers: { ContentType: 'application/json', Authorization: `Bearer ${accessToken}` }, withCredentials: true})\r\n        .then(res => ({\r\n            data: res.data,\r\n            status: res.status,\r\n        }))\r\n        .catch(error => {\r\n            if(error.response) {\r\n            return ({\r\n                data: error.response.data,\r\n                status: error.response.status,\r\n            });\r\n            } else if (error.request) {\r\n            throw new Error(error.request);\r\n            } else {\r\n            throw new Error(error.message);\r\n            };\r\n        });\r\n};\r\n\r\nexport const getCertainProductById = async (productID: string) => {\r\n    return await axios.get(`/api/products/${productID}`)\r\n        .then(res => ({\r\n            data: res.data,\r\n            status: res.status,\r\n        }))\r\n        .catch(error => {\r\n            if(error.response) {\r\n            return ({\r\n                data: error.response.data,\r\n                status: error.response.status,\r\n            });\r\n            } else if (error.request) {\r\n            throw new Error(error.request);\r\n            } else {\r\n            throw new Error(error.message);\r\n            };\r\n        });\r\n};\r\n\r\nexport const editProduct = async (productID: string, name: string, price: number, description: string, category: string, accessToken: string) => {\r\n    return await axios.put('/api/products/edit', {productID, name, price, description, category}, {headers: { ContentType: 'application/json', Authorization: `Bearer ${accessToken}` }, withCredentials: true})\r\n        .then(res => ({\r\n            data: res.data,\r\n            status: res.status,\r\n        }))\r\n        .catch(error => {\r\n            if(error.response) {\r\n            return ({\r\n                data: error.response.data,\r\n                status: error.response.status,\r\n            });\r\n            } else if (error.request) {\r\n            throw new Error(error.request);\r\n            } else {\r\n            throw new Error(error.message);\r\n            };\r\n        });\r\n};","import React, {useState, useEffect} from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\nimport { getCertainProductById } from '../../api/products';\r\nimport { Button, makeStyles, Typography } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { Rating } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: '30px auto',\r\n    },\r\n    productForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap'\r\n    },\r\n    imageContainer: {\r\n        minWidth: 350,\r\n        height: 450,\r\n        flex: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        marginRight: theme.spacing(3),\r\n        marginBottom: theme.spacing(2),\r\n        '& img': {\r\n            display: 'block',\r\n            width: '100%',\r\n            height: 450,\r\n            objectFit: 'cover', \r\n        },\r\n    },\r\n    productsDetails: {\r\n        minWidth: 350,\r\n        flex: 2,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start'\r\n    },\r\n    widthMargin: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n        width: 150\r\n    },\r\n    description: {\r\n        minHeight: '30vh'\r\n    }\r\n}));\r\n\r\ntype Params = {\r\n    id: string;\r\n};\r\n\r\ntype ProductType = {\r\n    _id: string;\r\n    name: string;\r\n    date: string;\r\n    category: string;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n    description: string;\r\n    price: number;\r\n    soldPieces: number;\r\n};\r\n\r\nconst Product = () => {\r\n    const classes = useStyles();\r\n    const [product, setProduct] = useState<ProductType>();\r\n    const { id } = useParams<Params>();\r\n    const { products } = useSelector((state: RootState) => state.products);\r\n    const { admin } = useSelector((state: RootState) => state.auth);\r\n\r\n    useEffect(() => {\r\n        if(products.length > 0) {\r\n            let itemInRedux: boolean;\r\n            products.forEach((product) => {\r\n                if(product._id === id) {setProduct(product); itemInRedux = true ;return};\r\n            });\r\n            if(itemInRedux) {return};\r\n            getCertainProductById(id).then((res : any) => setProduct(res.payload.product))\r\n        };\r\n    }, [id, products]);\r\n\r\n    if(product) return (\r\n        <div className={classes.container}>\r\n            <div className={classes.productForm}>\r\n                <div className={classes.imageContainer}>\r\n                    <img src={product.image.url} alt=\"\" />\r\n                </div>\r\n                <div className={classes.productsDetails}>\r\n                    <Typography component=\"h2\" variant=\"h4\">{product.name}</Typography>\r\n                    <Typography component=\"h4\" variant=\"h6\" style={{display: 'flex', alignItems: 'center'}}>${product.price}<Rating readOnly defaultValue={3.5} precision={0.5} style={{marginLeft: 10}}/></Typography>\r\n                    <Typography color=\"textSecondary\" gutterBottom>Sold pieces: {product.soldPieces}</Typography>\r\n                    <Typography paragraph className={classes.description}>{product.description}</Typography>\r\n                    {admin && \r\n                    <Button variant=\"contained\" color=\"primary\" className={classes.widthMargin} component={RouterLink} to={`/manage/edit/${product._id}`}>Edit</Button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return(\r\n        <div>\r\n            nothing\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport * as productsAPI from '../../api/products';\r\n\r\ntype Query = {\r\n    sortState: string;\r\n    filterState: string;\r\n};\r\n\r\ntype DeleteObject = {\r\n    productsIds: Array<string>;\r\n    accessToken: string;\r\n}\r\n\r\nconst initialState = {\r\n    products: []\r\n};\r\n\r\nexport const getProductsRequest = createAsyncThunk(\r\n    'products/getProductsStatus', \r\n    async(query: Query, { rejectWithValue }) => {\r\n        try {\r\n            const {sortState, filterState} = query;\r\n            const response = await productsAPI.getProducts(sortState, filterState);\r\n            console.log(response);\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        };\r\n    },\r\n);\r\n\r\nexport const deleteProductsRequest = createAsyncThunk(\r\n    'products/deleteProductsStatus',\r\n    async(productObject: DeleteObject, { rejectWithValue }) => {\r\n        try {\r\n            const {productsIds, accessToken} = productObject;\r\n            const response = await productsAPI.deleteProducts(productsIds, accessToken);\r\n            if(response.status === 400) return rejectWithValue({message: response.data.message, status: response.status});\r\n            if(response.status === 401) return rejectWithValue({message: response.data.message, status: response.status});\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n)\r\n\r\nexport const productsSlice = createSlice({\r\n    name: 'products',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n        builder.addCase(getProductsRequest.fulfilled, (state, action) => {\r\n            state.products = action.payload;\r\n        });\r\n        builder.addCase(deleteProductsRequest.fulfilled, (state, action) => {\r\n            const currentArrayOfProducts = state.products;\r\n            let currentArrayOfProductsIds = [];\r\n            const newArrayOfProducts = [];\r\n            currentArrayOfProducts.forEach(product => {\r\n                currentArrayOfProductsIds.push(product._id);\r\n            })\r\n            const arrayOfProductsIDs = action.payload.data.arrayOfProductsIDs;\r\n            const newArrayOfProductsIDs = currentArrayOfProductsIds.filter(product => !arrayOfProductsIDs.includes(product));\r\n            newArrayOfProductsIDs.forEach(id => {\r\n                const newProduct = currentArrayOfProducts.find(product => product._id === id);\r\n                newArrayOfProducts.push(newProduct);\r\n            });\r\n            state.products = newArrayOfProducts;\r\n        });\r\n        builder.addCase(deleteProductsRequest.rejected, (state, action) => {\r\n            console.log('rejected');\r\n        })\r\n    },\r\n});\r\n\r\nexport default productsSlice.reducer;","import React, {useState, useEffect} from 'react';\r\nimport { Typography, Card, CardMedia, CardContent, CardActions, Button, makeStyles, Grid, CircularProgress, Checkbox } from '@material-ui/core';\r\nimport { Rating } from '@material-ui/lab';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getProductsRequest } from '../../redux/reducers/productsSlice';\r\nimport { AppDispatch, RootState } from '../../redux/store';\r\nimport { addToCart } from '../../redux/reducers/cartSlice';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    productsContainer: {\r\n        margin: '30px 0',\r\n        minHeight: '50vh',\r\n    },\r\n    loadingContainer:{\r\n        height: '40vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    media: {\r\n        height: 0,\r\n        paddingTop: '100%',\r\n    },\r\n    product: {\r\n        position: 'relative'\r\n    },\r\n    checkBox: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        right: 0,\r\n        zIndex: 3,\r\n        '& svg': {\r\n            background: 'white',\r\n        }\r\n    }, \r\n}));\r\n\r\ntype Props = {\r\n    sortState: string;\r\n    filterState: string;\r\n    productsID: Array<string> | undefined | null;\r\n    setProductsID: React.Dispatch<React.SetStateAction<string[]>> | undefined | null;\r\n\r\n    queryState: string\r\n};\r\n\r\ntype Product = {\r\n    _id: string;\r\n    name: string;\r\n    price: number;\r\n    description: string;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n};\r\n\r\nconst DisplayProducts = (props: Props) => {\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = useState<boolean>(true);\r\n    const [productsIDDelete, setProductsIDDelete] = [props.productsID, props.setProductsID];\r\n    const [fetchedProducts, setFetchedProducts] = useState<Array<Product>>([])\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const { products } = useSelector((state: RootState) => state.products);\r\n    const { admin } = useSelector((state: RootState) => state.auth);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const { sortState, filterState } = props;\r\n        dispatch(getProductsRequest({sortState, filterState}))\r\n            .then(res => {\r\n                console.log(res);\r\n                setLoading(false);\r\n            });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [props.sortState, props.filterState]);\r\n\r\n    useEffect(() => {\r\n        setFetchedProducts(products);\r\n    }, [products]);\r\n\r\n    const filterProducts = (regex: any ) => {\r\n        let searchedProducts = [...fetchedProducts].filter(product => regex.test(product.name));\r\n        setFetchedProducts(searchedProducts);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(props.queryState === '') return;\r\n        const searchProductsRegex = new RegExp(props.queryState, \"i\");\r\n        filterProducts(searchProductsRegex);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [props.queryState])\r\n\r\n    const handleCheckboxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const checked = e.target.checked;\r\n        if(checked) {\r\n            setProductsIDDelete((currentArr) => ([...currentArr, e.target.value]));\r\n            return;\r\n        };\r\n        setProductsIDDelete((currentArr) => (currentArr.filter(id => id !== e.target.value)));\r\n    };\r\n\r\n    if(fetchedProducts && fetchedProducts.length !== 0) {\r\n        return (\r\n            <Grid container spacing={3} className={classes.productsContainer}>\r\n            { fetchedProducts.map(product => (\r\n                <Grid item md={4} sm={6} xs={12} key={product.image.public_id} className={classes.product}>\r\n                    <Card>\r\n                        <CardMedia image={product.image.url} className={classes.media} title=\"Product\"/>\r\n                        <CardContent>\r\n                            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                {product.name}\r\n                            </Typography>\r\n                            <div style={{display: 'flex', alignItems: 'center'}}>\r\n                                <Typography variant=\"h6\">${product.price}</Typography>\r\n                                <Rating readOnly defaultValue={3.5} precision={0.5}/>\r\n                            </div>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\" paragraph>\r\n                                {product.description}\r\n                            </Typography>\r\n                        </CardContent>\r\n                        <CardActions>\r\n                            <Button color=\"secondary\" variant=\"outlined\" onClick={() => dispatch(addToCart(product))}>Add to cart</Button>\r\n                            <Button color=\"primary\" component={RouterLink} to={`/product/${product._id}`} >View More</Button>\r\n                        </CardActions>\r\n                    </Card>\r\n                    {admin && <Checkbox color=\"secondary\" className={classes.checkBox} value={product._id} onChange={handleCheckboxChange}/>}\r\n                </Grid>\r\n            )) }\r\n            </Grid>\r\n        );\r\n    } else if(!loading && fetchedProducts && fetchedProducts.length === 0) {\r\n        return (\r\n            <div className={classes.loadingContainer}>\r\n                <Typography>No products founded</Typography>\r\n            </div>\r\n        )\r\n    } else {\r\n\r\n        return (\r\n            <div className={classes.loadingContainer}>\r\n                <CircularProgress />\r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nexport default DisplayProducts\r\n","import React, { useEffect, SetStateAction, Dispatch, useState } from 'react';\r\nimport { TextField, Select, Typography, makeStyles, FormControl, InputLabel, MenuItem } from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { AppDispatch } from '../../redux/store';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    },\r\n    selectContainer: {\r\n        marginLeft: theme.spacing(3),\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: 0,\r\n            marginTop: theme.spacing(2),\r\n        }\r\n    },\r\n    sortSelect: {\r\n        width: 150,\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: 250,\r\n        }\r\n    },\r\n    searchInput: {\r\n        width: 250,\r\n        \r\n    }\r\n}));\r\n\r\ntype Props = {\r\n    sortState: string;\r\n    filterState: string;\r\n    sortStateFunction: Dispatch<SetStateAction<string>>;\r\n    filterStateFunction: Dispatch<SetStateAction<string>>;\r\n\r\n    queryState: string;\r\n    queryStateFunction: Dispatch<SetStateAction<string>>;\r\n};\r\n\r\nconst Filters = (props: Props) => {\r\n\r\n    const classes = useStyles();\r\n    const [sort, setSort] = [props.sortState, props.sortStateFunction];\r\n    const [filter, setFilter] = [props.filterState, props.filterStateFunction];\r\n    const [query, setQuery] = [props.queryState, props.queryStateFunction];\r\n    const search = window.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const filterParams = params.get('filter');\r\n    \r\n    useEffect(() => {\r\n        if(filterParams === null) return;\r\n        setFilter(filterParams);\r\n    }, [filterParams, setFilter]);\r\n\r\n    const handleSortChange = async (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setSort(event.target.value as string);\r\n    };\r\n\r\n    const handleFilterChange = async (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setFilter(event.target.value as string);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Typography variant=\"h4\" component=\"h2\" align=\"center\">Products</Typography>\r\n            <FormControl className={classes.container}>\r\n                <TextField name=\"search\" id=\"search\" label=\"Search\" className={classes.searchInput} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setQuery(e.target.value)}/>\r\n                <FormControl className={classes.selectContainer}>\r\n                    <InputLabel id=\"sort-by-label\">Filter</InputLabel>\r\n                    <Select value={filter} onChange={handleFilterChange} labelId=\"sort-by-label\" className={classes.sortSelect}>\r\n                        <MenuItem value=\"all\">All Items</MenuItem>\r\n                        <MenuItem value=\"homeDecor\">Home Decor</MenuItem>\r\n                        <MenuItem value=\"electronics\">Electronics</MenuItem>\r\n                        <MenuItem value=\"grocery\">Grocery</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl className={classes.selectContainer}>\r\n                    <InputLabel id=\"sort-by-label\">Sort By</InputLabel>\r\n                    <Select value={sort} onChange={handleSortChange} labelId=\"sort-by-label\" className={classes.sortSelect}>\r\n                        <MenuItem value=\"none\">None</MenuItem>\r\n                        <MenuItem value=\"alpha\">A-Z</MenuItem>\r\n                        <MenuItem value=\"price\">Price</MenuItem>\r\n                        <MenuItem value=\"popularity\">Popularity</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </FormControl>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Filters;\r\n","import React, {useState} from 'react';\r\nimport DisplayProducts from './DisplayProducts';\r\nimport Filters from './Filters';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        marginTop: theme.spacing(4),\r\n    },\r\n}));\r\n\r\ntype Props = {\r\n    productsID: Array<string>;\r\n    setProductsID: React.Dispatch<React.SetStateAction<string[]>>;\r\n};\r\n\r\nconst Products = (props: Props) => {\r\n    const classes = useStyles();\r\n    const [sort, setSort] = useState<string>('none');\r\n    const [filter, setFilter] = useState<string>('all');\r\n    const [query, setQuery] = useState<string>('');\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Filters sortState={sort} sortStateFunction={setSort} filterState={filter} filterStateFunction={setFilter} queryState={query} queryStateFunction={setQuery} />\r\n            <DisplayProducts queryState={query} sortState={sort} filterState={filter} productsID={props.productsID} setProductsID={props.setProductsID} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import React, {useState} from 'react';\r\nimport Products from '../products/Products';\r\nimport { Button, makeStyles, CircularProgress } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatch, RootState } from '../../redux/store';\r\nimport { deleteProductsRequest } from '../../redux/reducers/productsSlice';\r\nimport { updateCart } from '../../redux/reducers/cartSlice';\r\nimport { unauthorized, updateAccessToken } from '../../redux/reducers/authenticate';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n        marginTop: theme.spacing(4),\r\n    },\r\n    deleteButton: {\r\n        marginLeft: theme.spacing(3),\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: theme.spacing(1)\r\n        }\r\n    },\r\n    addButton: {\r\n        '& span': {\r\n            textAlign: 'center',\r\n        },\r\n    }\r\n}));\r\n\r\nconst Manage = () => {\r\n    const [productsIDDelete, setProductsIDDelete] = useState<Array<string>>([]);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const { accessToken } = useSelector((state: RootState) => state.auth);\r\n\r\n    const handleDeleteProducts = () => {\r\n        if(productsIDDelete.length === 0) { alert('You have not chosen any product.'); return }\r\n        setLoading(true);\r\n        dispatch(deleteProductsRequest({productsIds: productsIDDelete, accessToken}))\r\n            .then((res: any) => {\r\n                setProductsIDDelete([]);\r\n                if(res.payload.status === 200) {if(res.payload.data.accessToken) dispatch(updateAccessToken(res.payload.data.accessToken))};\r\n                if(res.payload.status === 401) {alert('You are not authorized'); dispatch(unauthorized()); return};\r\n                if(res.payload.status === 400) {alert('Something went wrong'); return};\r\n                alert('Successfully deleted');\r\n                dispatch(updateCart(res.payload));\r\n            })\r\n            .then(() => setTimeout(() => setLoading(false), 500));\r\n    };\r\n    \r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.container}>\r\n                <Button variant=\"contained\" color=\"primary\" component={RouterLink} to=\"/manage/add\" className={classes.addButton}>Add Product</Button>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.deleteButton} onClick={handleDeleteProducts}>{loading ? <CircularProgress style={{color: 'white'}} /> : 'Delete Products' }</Button>\r\n            </div>\r\n            <Products productsID={productsIDDelete} setProductsID={setProductsIDDelete} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Manage\r\n","import React, {useState, useEffect} from 'react';\r\nimport { makeStyles, TextField, Select, MenuItem, Button, FormControl, InputLabel, CircularProgress } from '@material-ui/core';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState, AppDispatch } from '../../redux/store';\r\nimport { getCertainProductById } from '../../api/products';\r\nimport { editProduct } from '../../api/products';\r\nimport { unauthorized, updateAccessToken } from '../../redux/reducers/authenticate';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: '30px auto',\r\n    },\r\n    productForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap'\r\n    },\r\n    imageUpload: {\r\n        display: 'none'\r\n    },\r\n    imageContainer: {\r\n        minWidth: 350,\r\n        height: 450,\r\n        flex: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        marginRight: theme.spacing(3),\r\n        marginBottom: theme.spacing(2),\r\n        '& img': {\r\n            display: 'block',\r\n            width: '100%',\r\n            height: 500,\r\n            objectFit: 'cover', \r\n        },\r\n    },\r\n    productsDetails: {\r\n        minWidth: 350,\r\n        flex: 2,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start'\r\n    },\r\n    input: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    widthMargin: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n        width: 150\r\n    }\r\n}));\r\n\r\ntype Params = {\r\n    id: string;\r\n};\r\n\r\ntype Product = {\r\n    _id: string;\r\n    name: string;\r\n    price: number;\r\n    description: string;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n    category: string;\r\n};\r\n\r\nconst ProductEdit = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const [editedProduct, setEditedProduct] = useState<Product>()\r\n    const [name, setName] = useState<string>();\r\n    const [price, setPrice] = useState<number>();\r\n    const [description, setDescription] = useState<string>();\r\n    const [category, setCategory] = useState<string>('electronics');\r\n    const { products } = useSelector((state: RootState) => state.products);\r\n    const { accessToken } = useSelector((state: RootState) => state.auth);\r\n    const { id } = useParams<Params>();\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        let itemInRedux: boolean = false;\r\n        products.forEach((product) => {\r\n            if(product._id === id) { itemInRedux = true; setEditedProduct(product); setLoading(false); return; };\r\n        });\r\n        if(itemInRedux) return;\r\n        getCertainProductById(id).then((res : any) => setEditedProduct(res.payload.product))\r\n    }, [id, products]);\r\n\r\n    useEffect(() => {\r\n        if(editedProduct){\r\n            setCategory(editedProduct.category);\r\n            setName(editedProduct.name);\r\n            setPrice(editedProduct.price);\r\n            setDescription(editedProduct.description);\r\n        };\r\n    }, [editedProduct])\r\n\r\n    const handleCategoryChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setCategory(event.target.value as string);   \r\n    };\r\n\r\n    const handleEditItem = (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        editProduct(id, name, price, description, category, accessToken)\r\n            .then(res => {\r\n                console.log(res);\r\n                if(res.status === 200) { if(res.data.accessToken) {dispatch(updateAccessToken(res.data.accessToken));}; history.push('/manage'); return; };\r\n                if(res.status === 400) { alert(res.data.message); return; };\r\n                if(res.status === 401) { alert('Unauthorized'); dispatch(unauthorized()); return; };\r\n            });\r\n    };\r\n\r\n    if(!loading && editedProduct) return (\r\n        <div className={classes.container}>\r\n            <form className={classes.productForm} onSubmit={handleEditItem}>\r\n                <div className={classes.imageContainer}>\r\n                    <img src={editedProduct.image.url} alt=\"\" />\r\n                </div>\r\n                <div  className={classes.productsDetails}>\r\n                    <TextField id=\"product-name\" label=\"Product Name\" name=\"name\" variant=\"outlined\" fullWidth className={classes.input} defaultValue={editedProduct.name} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setName(e.target.value)}/>\r\n                    <TextField id=\"product-price\" label=\"Price ($)\" name=\"price\" variant=\"outlined\" type=\"number\" fullWidth className={classes.input} defaultValue={editedProduct.price} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setPrice(parseInt(e.target.value))}/>\r\n                    <TextField id=\"product-description\" label=\"Description\" name=\"description\" variant=\"outlined\" multiline rows={5} fullWidth className={classes.input} defaultValue={editedProduct.description} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setDescription(e.target.value)}/>\r\n                    <FormControl style={{width: 150}}>\r\n                        <InputLabel id=\"category-select-label\" style={{width: 150}}>Category</InputLabel>\r\n                        <Select labelId=\"category-select-label\" className={classes.widthMargin} value={category} onChange={handleCategoryChange}>\r\n                            <MenuItem value=\"electronics\">Electronics</MenuItem>\r\n                            <MenuItem value=\"homeDecor\">Home Decor</MenuItem>\r\n                            <MenuItem value=\"grocery\">Grocery</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                    <Button variant=\"contained\" color=\"primary\" type=\"submit\" className={classes.widthMargin}>{loading ? <CircularProgress style={{color: 'white'}} /> : 'Save Changes' }</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n    return (\r\n        <div>H</div>\r\n    )\r\n};\r\n\r\nexport default ProductEdit;\r\n","import React, {useState} from 'react';\r\nimport { makeStyles, TextField, Select, MenuItem, Button, FormControl, InputLabel, CircularProgress } from '@material-ui/core';\r\nimport { useHistory } from 'react-router';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState, AppDispatch } from '../../redux/store';\r\nimport { addProduct } from '../../api/products';\r\nimport { updateAccessToken } from '../../redux/reducers/authenticate';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: '30px auto',\r\n    },\r\n    productForm: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap'\r\n    },\r\n    imageUpload: {\r\n        display: 'none'\r\n    },\r\n    imageContainer: {\r\n        minWidth: 350,\r\n        height: 450,\r\n        flex: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        border: '1px solid gray',\r\n        marginRight: theme.spacing(3),\r\n        marginBottom: theme.spacing(2),\r\n        '& img': {\r\n            display: 'block',\r\n            width: '100%',\r\n            height: 450,\r\n            objectFit: 'cover',\r\n            [theme.breakpoints.down('xs')]: {\r\n                height: 350\r\n            } \r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: 270,\r\n            minWidth: 270, \r\n            height: 350,\r\n            margin: '0 auto 20px auto'\r\n        }\r\n    },\r\n    productsDetails: {\r\n        minWidth: 350,\r\n        flex: 2,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start',\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: 270,\r\n            minWidth: 270, \r\n        }\r\n    },\r\n    input: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    widthMargin: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n        width: 150\r\n    }\r\n}));\r\n\r\nconst ProductAdd = () => {\r\n    const classes = useStyles();\r\n    const [url, setURL] = useState<string>('');\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const [category, setCategory] = useState<string>('electronics')\r\n    const [imageFile, setImageFile] = useState<File | null>(null)\r\n    const history = useHistory();\r\n    const { accessToken } = useSelector((state: RootState) => state.auth);\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n    const handleUploadImage = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if(e.target.files !== null) {\r\n            const file: File = e.target.files[0]\r\n            setImageFile(file);\r\n            if(file.size > 1024 * 1024) // 1mb\r\n                return alert(\"Size too large!\");\r\n\r\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\r\n                return alert(\"File format is incorrect.\");\r\n            setURL(URL.createObjectURL(file))\r\n        } else {\r\n            alert('File does not exist');\r\n        };\r\n    };\r\n\r\n    const handleSavingChanges = async (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        const target = e.target as typeof e.target & {\r\n            name: { value: string };\r\n            price: { value: number };\r\n            description: { value: string };\r\n        };\r\n        const name = target.name.value;\r\n        const price = target.price.value;\r\n        const description = target.description.value;\r\n\r\n        const reader = new FileReader();\r\n        if(imageFile !== null) {\r\n            reader.readAsDataURL(imageFile);\r\n            reader.onloadend = () => {\r\n                const file = reader.result;\r\n                setLoading(true);\r\n                addProduct(name, price, description, file, category, accessToken)\r\n                    .then(res => {if(res.data.accessToken) {dispatch(updateAccessToken(res.data.accessToken));}; setLoading(false); history.push('/manage')})\r\n                    .catch(err => console.log(err)) \r\n            };\r\n        }\r\n\r\n    };\r\n\r\n    const handleCategoryChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setCategory(event.target.value as string);   \r\n    };\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <form className={classes.productForm} onSubmit={handleSavingChanges}>\r\n                <div className={classes.imageContainer}>\r\n                    <input accept=\"image/*\" className={classes.imageUpload} id=\"contained-button-file\" type=\"file\" name=\"image\" onChange={handleUploadImage} />\r\n                    <label htmlFor=\"contained-button-file\">\r\n                        {url === '' ? <Button variant=\"contained\" color=\"primary\" component=\"span\">\r\n                            Upload\r\n                        </Button> :\r\n                            <img src={url} alt=\"poster\" />\r\n                        }\r\n                    </label>\r\n                </div>\r\n                <div  className={classes.productsDetails}>\r\n                    <TextField id=\"product-name\" label=\"Product Name\" name=\"name\" variant=\"outlined\" fullWidth className={classes.input}/>\r\n                    <TextField id=\"product-price\" label=\"Price ($)\" name=\"price\" variant=\"outlined\" type=\"number\" fullWidth className={classes.input}/>\r\n                    <TextField id=\"product-description\" label=\"Description\" name=\"description\" variant=\"outlined\" multiline rows={5} fullWidth className={classes.input}/>\r\n                    <FormControl style={{width: 150}}>\r\n                        <InputLabel id=\"category-select-label\" style={{width: 150}}>Category</InputLabel>\r\n                        <Select labelId=\"category-select-label\" className={classes.widthMargin} value={category} onChange={handleCategoryChange}>\r\n                            <MenuItem value=\"electronics\">Electronics</MenuItem>\r\n                            <MenuItem value=\"homeDecor\">Home Decor</MenuItem>\r\n                            <MenuItem value=\"grocery\">Grocery</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                    <Button variant=\"contained\" color=\"primary\" type=\"submit\" className={classes.widthMargin}>{loading ? <CircularProgress style={{color: 'white'}} /> : 'Save Changes' }</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductAdd\r\n","import React, {useState, useEffect} from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState, AppDispatch } from '../../redux/store';\r\nimport { removeFromCart } from '../../redux/reducers/cartSlice';\r\n\r\nimport { Typography, Divider, IconButton, TextField, List, ListItem, ListItemAvatar, Avatar, ListItemText, ListItemSecondaryAction, makeStyles } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        minHeight: '45vh',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    itemsList: {\r\n        flex: 1,\r\n    }, \r\n    listItemImage: {\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 7\r\n    },\r\n    itemDescription: {\r\n        paddingLeft: theme.spacing(2),\r\n        flex: 1\r\n    },\r\n    input: {\r\n        width: 64\r\n    },\r\n}));\r\n\r\ntype Item = {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n    amount: number;\r\n};\r\n\r\nconst CartItems = () => {\r\n    const classes = useStyles();\r\n    const [cart, setCart] = useState<Array<Item>>([]);\r\n    const { items: cartItems } = useSelector((state: RootState) => state.cart);\r\n    const { products } = useSelector((state: RootState) => state.products);\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n    useEffect(() => {\r\n        setCart([]);\r\n        const itemsMap = new Map();\r\n        for(let i in cartItems) {\r\n            if(itemsMap.has(cartItems[i]._id)){\r\n                let amount = itemsMap.get(cartItems[i]._id);\r\n                itemsMap.set(cartItems[i]._id, ++amount);\r\n                continue;\r\n            };\r\n            itemsMap.set(cartItems[i]._id, 1);\r\n        };\r\n    \r\n        for (let [key, value] of itemsMap) {\r\n            const findedProduct = products.find(product => product._id === key);\r\n            if(findedProduct === undefined) continue;\r\n            const {name, price, image} = findedProduct;\r\n            const item: Item = {\r\n                id: key,\r\n                name,\r\n                price,\r\n                image,\r\n                amount: value,\r\n            };\r\n            setCart((currentCart) => ([...currentCart, item]));\r\n        };    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [cartItems, products]);\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <List className={classes.itemsList}>\r\n                {cart && cart.map(item => (\r\n                    <ListItem style={{padding: '10px 0'}} key={item.id}>\r\n                        <ListItemAvatar>\r\n                            <img src={item.image.url} alt={item.name} className={classes.listItemImage}/>\r\n                        </ListItemAvatar>\r\n                        <div className={classes.itemDescription}>\r\n                            <Typography variant=\"h5\" component=\"h3\">{item.name}</Typography>\r\n                            <Typography variant=\"body1\" color=\"textSecondary\">${item.price}</Typography>\r\n                        </div>\r\n                        <TextField label=\"Amount\" value={item.amount} disabled variant=\"outlined\" className={classes.input}/>\r\n                        <IconButton aria-label=\"delete\" onClick={() => dispatch(removeFromCart({id: item.id, price: item.price, amount: item.amount}))} style={{width: 64, height: 64}}>\r\n                            <DeleteIcon />\r\n                        </IconButton>\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n            <Divider></Divider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartItems;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nconst CartTotal = () => {\r\n    const [disabledCheckout, setDisabledCheckout] = useState<boolean>(true);\r\n    const { total } = useSelector((state: RootState) => state.cart);\r\n\r\n    useEffect(() => {\r\n        if(total === 0) {setDisabledCheckout(true); return;};\r\n        setDisabledCheckout(false);\r\n    }, [total])\r\n\r\n    return (\r\n        <div style={{width: '80%', margin: 'auto', padding: '15px 0', display: 'flex', justifyContent: 'flex-end'}}>\r\n            <Typography variant=\"h6\">Total: ${total}</Typography>\r\n            <Button component={RouterLink} to=\"/checkout\" color=\"primary\" variant=\"contained\" style={{marginLeft: 10}} disabled={disabledCheckout} >Checkout</Button>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CartTotal;\r\n","import React from 'react';\r\nimport CartItems from './CartItems';\r\nimport CartTotal from './CartTotal';\r\n\r\nconst Cart = () => {\r\n\r\n    return (\r\n        <div>\r\n            <CartItems />\r\n            <CartTotal />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Cart;\r\n","import React, {useState} from 'react';\r\nimport emailjs from 'emailjs-com';\r\n\r\nimport { Typography, Container, TextField, FormControl, Button, makeStyles, CircularProgress} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        margin: '30px auto'\r\n    },\r\n    formContainer: {\r\n        width: '100%',\r\n        '& .MuiTextField-root': {\r\n            margin: '10px 0'\r\n        }\r\n    },\r\n    sendButton: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst Contact = () => {\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n\r\n    const sendEmail = (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        const target = e.target as HTMLFormElement;\r\n        emailjs.sendForm('service_7gj5i4i', 'template_531ujxa', target, 'user_MgmPzjT9bk2INTZbpke4k')\r\n            .then((result) => {\r\n                alert('Thank you for your email!')\r\n                target.reset();\r\n                setLoading(false);\r\n            }, (error) => {\r\n                alert('Something went wrong.')\r\n                console.log(error.text);\r\n                setLoading(false);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n            <Typography variant=\"h4\" component=\"h2\" align=\"center\" gutterBottom>Contact Us</Typography>\r\n            <FormControl component=\"form\" onSubmit={sendEmail} className={classes.formContainer}>\r\n                <TextField label=\"Subject\" name=\"subject\" type=\"text\" variant=\"outlined\" autoFocus/>\r\n                <TextField label=\"Name\" name=\"name\" type=\"text\" variant=\"outlined\"/>\r\n                <TextField label=\"Email\" name=\"email\" type=\"email\" variant=\"outlined\"/>\r\n                <TextField label=\"Message\" name=\"message\" type=\"text\" multiline rows={8} variant=\"outlined\" fullWidth={true}/>\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\" className={classes.sendButton}>\r\n                    {loading ? <CircularProgress style={{color: 'white'}} /> : 'Send'}\r\n                </Button>\r\n            </FormControl>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Contact;\r\n","import React from 'react';\r\nimport { Grid, Typography, TextField, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n}));\r\n\r\nconst Address = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Shipping address\r\n          </Typography>\r\n          <Grid container spacing={3} component=\"form\" id=\"addressForm\">\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField required id=\"firstName\" name=\"firstName\" label=\"First name\" type=\"string\" fullWidth autoComplete=\"given-name\" />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n            <TextField required id=\"lastName\" name=\"lastName\" label=\"Last name\" type=\"string\" fullWidth autoComplete=\"family-name\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField required id=\"address1\" name=\"address1\" label=\"Address line 1\" type=\"string\" fullWidth autoComplete=\"shipping address-line1\" />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField id=\"address2\" name=\"address2\" label=\"Address line 2\" type=\"string\" fullWidth autoComplete=\"shipping address-line2\" />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField required id=\"city\" name=\"city\" label=\"City\" type=\"string\" fullWidth autoComplete=\"shipping address-level2\" />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField id=\"state\" name=\"state\" label=\"State/Province/Region\" type=\"string\" fullWidth />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField required id=\"zip\" name=\"zip\" label=\"Zip / Postal code\" type=\"number\" fullWidth autoComplete=\"shipping postal-code\" />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField required id=\"country\" name=\"country\" label=\"Country\" type=\"string\" fullWidth autoComplete=\"shipping country\" />\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Address\r\n","import React, { useEffect, useState } from 'react';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\n\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst PaymentForm = (props) => {\r\n    const [succeeded, setSucceeded] = [props.succeded, props.setSucceded];\r\n    const [error, setError] = useState(null);\r\n    const [processing, setProcessing] = [props.submit, props.setSubmit];\r\n    const [clientSecret, setClientSecret] = useState('');\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const { items } = useSelector((state: RootState) => state.cart);\r\n\r\n    useEffect(() => {\r\n        window\r\n          .fetch(\"/api/payment/create-payment-intent\", {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\"\r\n            },\r\n            credentials: 'include',\r\n            body: JSON.stringify({items, address: props.address})\r\n          })\r\n          .then(res => {\r\n            return res.json();\r\n          })\r\n          .then(data => {\r\n            console.log(data);\r\n            setClientSecret(data.clientSecret);\r\n          });\r\n    }, []);\r\n\r\n    const handleSubmit = async ev => {\r\n        ev.preventDefault();\r\n        setProcessing(true);\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n          payment_method: {\r\n            card: elements.getElement(CardElement)\r\n          }\r\n        });\r\n        if (payload.error) {\r\n          setError(`Payment failed ${payload.error.message}`);\r\n          setProcessing(false);\r\n        } else {\r\n          setError(null);\r\n          setProcessing(false);\r\n          setSucceeded(true);\r\n        };\r\n    };\r\n\r\n    const handleChange = async (event) => {\r\n        setError(event.error ? event.error.message : \"\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <form id=\"payment-form\" onSubmit={handleSubmit}>\r\n                <CardElement id=\"card-element\" onChange={handleChange} />\r\n                <button type=\"submit\" id=\"paymentSubmitButton\" style={{display: 'none'}}></button>\r\n                {error && (\r\n                    <div className=\"card-error\" role=\"alert\">\r\n                    <Typography>\r\n                    {error}\r\n                    </Typography>\r\n                    </div>\r\n                )}\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PaymentForm\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, Typography, List, ListItem, ListItemText, Grid } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/store';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    listItem: {\r\n      padding: theme.spacing(1, 0),\r\n    },\r\n    total: {\r\n      fontWeight: 700,\r\n    },\r\n    title: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\ntype Item = {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  image: {\r\n      url: string;\r\n      public_id: string;\r\n  };\r\n  amount: number;\r\n};\r\n\r\n\r\n\r\nconst Review = (props) => {\r\n    const classes = useStyles();\r\n    const [cart, setCart] = useState<Array<Item>>([]);\r\n    const { items: cartItems, total } = useSelector((state: RootState) => state.cart);\r\n    const { products } = useSelector((state: RootState) => state.products);\r\n\r\n    useEffect(() => {\r\n      setCart([]);\r\n      const itemsMap = new Map();\r\n      for(let i in cartItems) {\r\n          if(itemsMap.has(cartItems[i]._id)){\r\n              let amount = itemsMap.get(cartItems[i]._id);\r\n              itemsMap.set(cartItems[i]._id, ++amount);\r\n              continue;\r\n          };\r\n          itemsMap.set(cartItems[i]._id, 1);\r\n      };\r\n  \r\n      for (let [key, value] of itemsMap) {\r\n          const findedProduct = products.find(product => product._id === key);\r\n          if(findedProduct === undefined) continue;\r\n          const {name, price, image} = findedProduct;\r\n          const item: Item = {\r\n              id: key,\r\n              name,\r\n              price,\r\n              image,\r\n              amount: value,\r\n          };\r\n          setCart((currentCart) => ([...currentCart, item]));\r\n      };    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [cartItems, products]);\r\n\r\n    return (\r\n        <div>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Order summary\r\n            </Typography>\r\n            <List disablePadding>\r\n              {cart.map((product) => (\r\n                <ListItem className={classes.listItem} key={product.name}>\r\n                  <ListItemText primary={product.name} secondary={`Amount: ${product.amount}`} />\r\n                  <Typography variant=\"body2\">${product.price}</Typography>\r\n                </ListItem>\r\n              ))}\r\n              <ListItem className={classes.listItem}>\r\n                <ListItemText primary=\"Total\" />\r\n                <Typography variant=\"subtitle1\" className={classes.total}>\r\n                  ${total}\r\n                </Typography>\r\n              </ListItem>\r\n            </List>\r\n            <Grid container spacing={4}>\r\n              <Grid item xs={12} sm={12}>\r\n                <Typography variant=\"h6\" gutterBottom className={classes.title}>\r\n                  Shipping\r\n                </Typography>\r\n                <Grid container>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>Name</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>{`${props.address.firstName} ${props.address.lastName}`}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>First Address</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>{props.address.address1}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>Second Address</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>{props.address.address2 === '' ? 'Not given' : props.address.address2}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>Country</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography gutterBottom>{`${props.address.city} ${props.address.zip} ${props.address.country} ${props.address.state}`}</Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Review\r\n","import React, {Dispatch, SetStateAction, useState, useEffect} from 'react';\r\nimport { makeStyles, Paper, Stepper, Step, StepLabel, Button, Typography, CircularProgress } from '@material-ui/core';\r\nimport Address from './Address';\r\nimport PaymentForm from './PaymentForm';\r\nimport Review from './Review';\r\nimport { useDispatch } from 'react-redux';\r\nimport { AppDispatch } from '../../redux/store';\r\nimport { cleanCart } from '../../redux/reducers/cartSlice';\r\nimport { getProductsRequest } from '../../redux/reducers/productsSlice';\r\n\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n \r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { Elements } from '@stripe/react-stripe-js';\r\n\r\nconst promise = loadStripe(\"pk_test_sifzp0ZLo4b6A5TLnU1U4o3p00Fg5O3uxB\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    checkoutContainer: {\r\n        height: '100vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        marginTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(3),\r\n    },\r\n    layout: {\r\n        width: 'auto',\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(2),\r\n        [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n          width: 600,\r\n          marginLeft: 'auto',\r\n          marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n            marginTop: theme.spacing(6),\r\n            marginBottom: theme.spacing(6),\r\n            padding: theme.spacing(3),\r\n        },\r\n    },\r\n    stepper: {\r\n        padding: theme.spacing(3, 0, 5),\r\n    },\r\n    buttons: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(3),\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nconst steps = ['Shipping address', 'Review your order', 'Payment details'];\r\n\r\ninterface AddressInterface {\r\n    firstName: string;\r\n    lastName: string;\r\n    address1: string;\r\n    address2: string;\r\n    city: string;\r\n    state: string;\r\n    zip: number;\r\n    country: string;\r\n};\r\n\r\nconst getStepContent = (step: number, address: AddressInterface, submit: boolean, setSubmit: Dispatch<SetStateAction<boolean>>, succeded: boolean, setSucceded: Dispatch<SetStateAction<boolean>>) => {\r\n    switch(step){\r\n        case 0:\r\n            return <Address />;\r\n        case 1:\r\n            return <Review address={address}/>;\r\n        case 2:\r\n            return (\r\n                <div className=\"CheckoutForm\">\r\n                    <Elements stripe={promise}>\r\n                        <PaymentForm address={address} submit={submit} setSubmit={setSubmit} succeded={succeded} setSucceded={setSucceded} />\r\n                    </Elements>\r\n                </div>    \r\n            );\r\n        default:\r\n            throw new Error('Unknown step');\r\n    };\r\n};\r\n\r\n\r\nconst Checkout = () => {\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const classes = useStyles();\r\n    const [activeStep, setActiveStep] = useState<number>(0);\r\n    const [address, setAddress] = useState<AddressInterface>();\r\n    const [submit, setSubmit] = useState<boolean>(false);\r\n    const [succeded, setSucceded] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        if(!succeded) return;\r\n        setActiveStep(activeStep => activeStep + 1);\r\n        dispatch(cleanCart());\r\n\r\n        const sortState = 'none';\r\n        const filterState = 'all';\r\n        dispatch(getProductsRequest({sortState, filterState}))\r\n            .then(res => {\r\n                console.log(res);\r\n            })\r\n    }, [succeded, dispatch]);\r\n\r\n    const handleNext = () => {\r\n        if(activeStep === 2) {\r\n            const paymentSubmitButton = document.getElementById('paymentSubmitButton') as HTMLButtonElement;\r\n            paymentSubmitButton.click();\r\n            return;\r\n        };\r\n\r\n        if(activeStep === 1) {\r\n            const { firstName, lastName, address1, city, country } = address;\r\n            if(firstName === '' ||lastName === '' || address1 === '' || city === '' || country === '') {\r\n                alert('You cannot proceed to payment without fully filled addresses!');\r\n                return;\r\n            }\r\n        };\r\n\r\n        if(activeStep === 0){\r\n            const addressForm = document.getElementById('addressForm') as HTMLFormElement;\r\n            const addressFormData = new FormData(addressForm);\r\n            const addressData = {\r\n                firstName: addressFormData.get('firstName') as string,\r\n                lastName: addressFormData.get('lastName') as string,\r\n                address1: addressFormData.get('address1') as string,\r\n                address2: addressFormData.get('address2') as string,\r\n                city: addressFormData.get('city') as string,\r\n                state: addressFormData.get('state') as string,\r\n                zip: addressFormData.get('zip') as unknown as number,\r\n                country: addressFormData.get('country') as string,\r\n            };\r\n            setAddress(addressData);\r\n        };\r\n\r\n        setActiveStep(activeStep + 1);\r\n    };\r\n    \r\n    const handleBack = () => {\r\n        setActiveStep(activeStep - 1);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.checkoutContainer}>\r\n            <main className={classes.layout}>\r\n                <Paper className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n                    Checkout\r\n                </Typography>\r\n                <Stepper activeStep={activeStep} className={classes.stepper}>\r\n                    {steps.map((label) => (\r\n                    <Step key={label}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                    ))}\r\n                </Stepper>\r\n                <React.Fragment>\r\n                    {activeStep === steps.length ? (\r\n                    <React.Fragment>\r\n                        <Typography variant=\"h5\" gutterBottom>\r\n                        Thank you for your order.\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" gutterBottom>\r\n                        We have emailed your order confirmation, and will\r\n                        send you an update when your order has shipped.\r\n                        </Typography>\r\n                        <Button component={RouterLink} to=\"/\" variant=\"contained\" color=\"primary\" style={{margin: 'auto'}}>\r\n                            Back to home\r\n                        </Button>\r\n                    </React.Fragment>\r\n                    ) : (\r\n                    <React.Fragment>\r\n                        {getStepContent(activeStep, address, submit, setSubmit, succeded, setSucceded)}\r\n                        <div className={classes.buttons}>\r\n                        {activeStep !== 0 && (\r\n                            <Button onClick={handleBack} className={classes.button}>\r\n                            Back\r\n                            </Button>\r\n                        )}\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={handleNext}\r\n                            className={classes.button}\r\n                        >\r\n                            {activeStep === steps.length - 1 ? (submit ? <CircularProgress style={{color: 'white'}} /> : 'Place Order') : 'Next'}\r\n                        </Button>\r\n                        </div>\r\n                    </React.Fragment>\r\n                    )}\r\n                </React.Fragment>\r\n                </Paper>\r\n            </main>  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React from 'react'\r\n\r\nconst CheckoutHeader = () => {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutHeader\r\n","import React from 'react'\r\n\r\nconst CheckoutFooter = () => {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutFooter\r\n","import axios from 'axios';\r\n\r\nexport const getAllOrders = async (accessToken: string) => {\r\n    const config = {\r\n        headers: {\r\n            ContentType: 'application/json',\r\n            Authorization: `Bearer ${accessToken}`,\r\n        },\r\n        withCredentials: true,\r\n    };\r\n\r\n    return axios.get('/api/orders', config)\r\n        .then((res: any) => res.data)\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getOrder = async (id: string, accessToken: string) => {\r\n    const config = {\r\n        headers: {\r\n            ContentType: 'application/json',\r\n            Authorization: `Bearer ${accessToken}`,\r\n        },\r\n        withCredentials: true,\r\n    };\r\n\r\n    return axios.get(`/api/orders/${id}`, config)\r\n        .then((res: any) => res.data.order)\r\n        .catch(err => {\r\n            console.log(err.response);\r\n            throw err.response;\r\n        });\r\n};","import React, {useState, useEffect} from 'react';\r\nimport { getAllOrders } from '../../api/order';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState, AppDispatch } from '../../redux/store';\r\nimport { updateAccessToken } from '../../redux/reducers/authenticate';\r\n\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { Container , makeStyles, Table, TableBody, TableCell, TableHead, TableRow, Typography, Button, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        marginTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(3),\r\n        minHeight: '50vh',\r\n    },\r\n}));\r\n\r\ntype Item = {\r\n    category: string;\r\n    date: string;\r\n    name: string;\r\n    price: number;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n    description: string;\r\n    _id: string;\r\n};\r\n\r\ntype OrderType = {\r\n    date: string;\r\n    items: Array<Item>;\r\n    price: number;\r\n    _id: string;\r\n}\r\n\r\nconst Orders = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const [orders, setOrders] = useState<Array<OrderType>>([]);\r\n    const { accessToken } = useSelector((state: RootState) => state.auth);\r\n\r\n    useEffect(() => {\r\n        getAllOrders(accessToken)\r\n            .then(data => {\r\n                const { orders, newAccessToken } = data;\r\n                setOrders(orders);\r\n                if(newAccessToken === null) return;\r\n                dispatch(updateAccessToken(newAccessToken));\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [accessToken, dispatch]);\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Typography component=\"h2\" variant=\"h5\" gutterBottom>Your Orders</Typography>\r\n            { \r\n                orders ?\r\n                <div style={{overflowX: 'auto'}}>\r\n                    <Table>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Order ID</TableCell>\r\n                                <TableCell>Date</TableCell>\r\n                                <TableCell>Amount</TableCell>\r\n                                <TableCell>Price</TableCell>\r\n                                <TableCell></TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {orders.map((order: OrderType) => {\r\n                                const date = order.date.split('T')[0];\r\n                                return (\r\n                                    <TableRow  key={order._id}>\r\n                                        <TableCell>{order._id}</TableCell>\r\n                                        <TableCell>{date}</TableCell>\r\n                                        <TableCell>{order.items.length}</TableCell>\r\n                                        <TableCell>{order.price}</TableCell>\r\n                                        <TableCell><Button component={RouterLink} to={`/orders/${order._id}`}>Details</Button></TableCell>\r\n                                    </TableRow>\r\n                                )\r\n                            })}\r\n                        </TableBody>          \r\n                    </Table>\r\n                </div> \r\n                : <CircularProgress color=\"primary\" /> \r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState, AppDispatch } from '../../redux/store';\r\nimport { updateAccessToken } from '../../redux/reducers/authenticate';\r\nimport axios from 'axios';\r\n\r\nimport { Grid, List, ListItem, ListItemText, Typography, makeStyles, ListItemAvatar, Divider } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    listItem: {\r\n      padding: theme.spacing(1, 0),\r\n    },\r\n    total: {\r\n      fontWeight: 700,\r\n    },\r\n    title: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    container: {\r\n        width: '80%',\r\n        margin: 'auto',\r\n        marginTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(3),\r\n        minHeight: '40vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignContent: 'center',\r\n    },\r\n    listItemImage: {\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 7\r\n    },\r\n    itemDescription: {\r\n        marginLeft: theme.spacing(2),\r\n    }\r\n}));\r\n\r\ntype Params = {\r\n    id: string;\r\n}\r\n\r\ntype Item = {\r\n    category: string;\r\n    date: string;\r\n    name: string;\r\n    price: number;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n    description: string;\r\n    _id: string;\r\n};\r\n\r\ntype ItemSummary = {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    image: {\r\n        url: string;\r\n        public_id: string;\r\n    };\r\n    amount: string;\r\n}\r\n\r\ntype OrderType = {\r\n    date: string;\r\n    items: Array<Item>;\r\n    price: number;\r\n    _id: string;\r\n    shippingInfo: {\r\n        name: string;\r\n        address1: string;\r\n        address2: string;\r\n        city: string;\r\n        country: string;\r\n        state: string;\r\n        zip: number;\r\n    };\r\n};\r\n\r\nconst createHashmapFromPurchasedItems = (purchasedItems: Array<Item>, allProducts: Array<Item>) => {\r\n    const itemsMap = new Map();\r\n    let itemsSummary: Array<ItemSummary> = [];\r\n    for(let i in purchasedItems) {\r\n        if(itemsMap.has(purchasedItems[i]._id)){\r\n            let amount = itemsMap.get(purchasedItems[i]._id);\r\n            itemsMap.set(purchasedItems[i]._id, ++amount);\r\n            continue;\r\n        };\r\n        itemsMap.set(purchasedItems[i]._id, 1);\r\n    };\r\n    \r\n    for(let [key, value] of itemsMap) {\r\n        const findedProduct = allProducts.find(product => product._id === key);\r\n        if(findedProduct === undefined) continue;\r\n        const {name, price, image} = findedProduct;\r\n        const item: ItemSummary = {\r\n            id: key,\r\n            name,\r\n            price,\r\n            image,\r\n            amount: value,\r\n        };\r\n        itemsSummary.push(item);\r\n    }\r\n\r\n    return itemsSummary;\r\n};\r\n\r\n\r\nconst OrderReview = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    const { id } = useParams<Params>();\r\n    const [order, setOrder] = useState<OrderType>(undefined);\r\n    const [items, setItems] = useState<Array<ItemSummary>>(undefined);\r\n    \r\n    const { accessToken } = useSelector((state: RootState) => state.auth);\r\n    const { products } = useSelector((state: RootState) => state.products);\r\n\r\n    useEffect(() => {\r\n        axios.get(`/api/orders/${id}` , {withCredentials: true, headers: {ContentType: 'application/json', Authorization: `Bearer ${accessToken}`}})\r\n            .then(res => {\r\n                const {data} = res;\r\n                setOrder(data.order);\r\n                setItems(createHashmapFromPurchasedItems(data.order.items, products))\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n                alert(err.response.data.error);\r\n                history.push('/');\r\n            });\r\n\r\n    }, [id, accessToken, products, history]);\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            { order !== undefined && items !== undefined ? \r\n            <Grid container spacing={1}>\r\n                <Grid item sm={12} xs={12}>\r\n                    <Typography variant=\"h6\" className={classes.title} gutterBottom>Purchased Items</Typography>\r\n                    <List disablePadding>\r\n                        {items.map((product: ItemSummary) => (\r\n                            <ListItem key={product.id} className={classes.listItem}>\r\n                                <ListItemAvatar>\r\n                                    <img src={product.image.url} alt={product.name} className={classes.listItemImage}/>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary={product.name} secondary={`Amount: ${product.amount}`} className={classes.itemDescription}/>\r\n                                <Typography variant=\"body2\">${product.price}</Typography>\r\n                            </ListItem>\r\n                        ))}\r\n                        <Divider></Divider>\r\n                        <ListItem className={classes.listItem}>\r\n                            <ListItemText primary=\"Total\" />\r\n                            <Typography className={classes.total} variant=\"subtitle1\">${order.price}</Typography>\r\n                        </ListItem>\r\n                    </List>\r\n                </Grid>\r\n                <Grid item sm={12} xs={12}>\r\n                    <Typography variant=\"h6\" className={classes.title} gutterBottom>Shipping Information</Typography>\r\n                    <Grid container>\r\n                        <Grid item xs={6}><Typography gutterBottom>Name</Typography></Grid>\r\n                        <Grid item xs={6}><Typography gutterBottom>{order.shippingInfo.name}</Typography></Grid>\r\n                        <Grid item xs={6}><Typography gutterBottom>First Address</Typography></Grid>\r\n                        <Grid item xs={6}><Typography gutterBottom>{order.shippingInfo.address1}</Typography></Grid>\r\n                        <Grid item xs={6}><Typography gutterBottom>Second Address</Typography></Grid>\r\n                        <Grid item xs={6}><Typography gutterBottom>{order.shippingInfo.address2 === '' ? 'Not given' : order.shippingInfo.address2}</Typography></Grid>\r\n                        <Grid item xs={6}><Typography gutterBottom>Country</Typography></Grid>\r\n                        <Grid item xs={6}><Typography gutterBottom>{`${order.shippingInfo.city} ${order.shippingInfo.state} ${order.shippingInfo.zip} ${order.shippingInfo.country}`}</Typography></Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            : '' }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderReview\r\n","import React, { FC, useEffect } from 'react';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport PrivateRoute from './routes/PrivateRoute';\r\nimport AdminRoute from './routes/AdminRoute';\r\nimport RestrictedRoute from './routes/RestrictedRoute';\r\nimport ScrollToTop from './routes/ScrollToTop';\r\n\r\nimport Header from './components/navigation/Header';\r\nimport Index from './pages/Index';\r\nimport Authentication from './pages/Authentication';\r\nimport Footer from './components/navigation/Footer';\r\nimport AuthHeader from './components/navigation/authentication/AuthHeader';\r\nimport AuthFooter from './components/navigation/authentication/AuthFooter';\r\nimport Collection from './components/collection/Collection';\r\nimport Product from './components/shared/Product';\r\nimport Products from './components/products/Products';\r\nimport Manage from './components/admin/Manage';\r\nimport ProductEdit from './components/admin/ProductEdit';\r\nimport ProductAdd from './components/admin/ProductAdd';\r\nimport Cart from './components/cart/Cart';\r\nimport Contact from './components/contact/Contact';\r\nimport Checkout from './components/checkout/Checkout';\r\nimport CheckoutHeader from './components/navigation/checkout/CheckoutHeader';\r\nimport CheckoutFooter from './components/navigation/checkout/CheckoutFooter';\r\nimport Orders from './components/order/Orders';\r\nimport OrderReview from './components/order/OrderReview';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { getProductsRequest } from './redux/reducers/productsSlice';\r\nimport { AppDispatch } from './redux/store';\r\n\r\nconst App: FC = () => {\r\n    const dispatch = useDispatch<AppDispatch>();\r\n    useEffect( () => {\r\n        dispatch(getProductsRequest({sortState: 'none', filterState: 'all'}))\r\n            .then(res => console.log(res));\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <Router>\r\n                <ScrollToTop />\r\n                <Switch>\r\n                    <Route path=\"/authentication\" component={AuthHeader}/>\r\n                    <Route path=\"/checkout\" component={CheckoutHeader} />\r\n                    <Route component={Header}/>\r\n                </Switch>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Index}/>\r\n                    <Route exact path=\"/collection\" component={Collection} />\r\n                    <Route exact path=\"/products\" component={Products}/>\r\n                    <Route exact path=\"/product/:id\" component={Product} />\r\n                    <Route exact path=\"/cart\" component={Cart} />\r\n                    <Route exact path=\"/contact\" component={Contact} />\r\n                    <Route exact path=\"/checkout\" component={Checkout} />\r\n                    <RestrictedRoute path=\"/authentication\" component={Authentication} />\r\n                    <PrivateRoute exact path=\"/orders\" component={Orders} />\r\n                    <PrivateRoute exact path=\"/orders/:id\" component={OrderReview} />\r\n                    <AdminRoute exact path=\"/manage\" component={Manage}/>\r\n                    <AdminRoute exact path=\"/manage/add\" component={ProductAdd}/>\r\n                    <AdminRoute exact path=\"/manage/edit/:id\" component={ProductEdit}/>\r\n                </Switch>\r\n                <Switch>\r\n                    <Route path=\"/authentication\" component={AuthFooter}/>\r\n                    <Route path=\"/checkout\" component={CheckoutFooter}/>\r\n                    <Route component={Footer}/>\r\n                </Switch>\r\n            </Router>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport cartReducer from './reducers/cartSlice';\r\nimport authenticatonReducer from './reducers/authenticate';\r\nimport productReducer from './reducers/productsSlice';\r\n\r\nimport { persistReducer, FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    version: 1,\r\n    storage,\r\n};\r\n\r\nconst reducer = combineReducers({\r\n    cart: cartReducer,\r\n    auth: authenticatonReducer,\r\n    products: productReducer\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducer);\r\n\r\n\r\nexport const store = configureStore({\r\n    reducer: persistedReducer,\r\n    middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch","import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { persistStore } from 'redux-persist';\r\nimport { CookiesProvider } from 'react-cookie';\r\n\r\nimport { createMuiTheme } from '@material-ui/core';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    typography: {\r\n      fontFamily: [\r\n        'Poppins',\r\n        'sans-serif'\r\n      ].join(','),\r\n    }\r\n});\r\n\r\nlet persistor = persistStore(store);\r\n\r\nReactDOM.render(\r\n    <ThemeProvider theme={theme}>\r\n        <CookiesProvider>\r\n            <Provider store={store}>\r\n                <PersistGate loading={null} persistor={persistor}>\r\n                    <App />\r\n                </PersistGate>\r\n            </Provider>\r\n        </CookiesProvider>\r\n    </ThemeProvider>,\r\ndocument.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}